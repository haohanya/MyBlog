<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="æµ©ç€š,æµ©ç€šåšå®¢,java">
<meta name="description" content="æµ©ç€š-æ¯å¤©å‘å¾€ç€å¤–é¢çš„ä¸–ç•Œ">
<meta name="theme-color" content="#000">
<title>å…³äº | æµ©ç€š</title>
<link rel="shortcut icon" href="/favicon.ico?v=1589876342276">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/gemini.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>




  <meta name="description" content="å…³äº" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>æµ©ç€š</span>
            </a>  
          
        </div>
        
          <p class="subtitle">çƒ­çˆ±ç”Ÿæ´»</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> å‹æƒ…é“¾æ¥
                  
                </a>
              </li>
            
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">æ–‡ç« ç›®å½•</span>
            <span id="metaSideBar" class="sidebar-title-item">ç«™ç‚¹æ¦‚è§ˆ</span>
          </div>
        </div>
      
      <div class="sidebar-body gemini" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">æµ©ç€š</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">ä¸€ä½æ­£åœ¨åŠªåŠ›æˆé•¿çš„ç å†œ</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">9</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">10</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">10</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://haohanya.github.io/atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  


</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99">ğŸ  å…³äºæœ¬ç«™</a></li>
<li><a href="#%E5%8D%9A%E4%B8%BB%E6%98%AF%E8%B0%81">ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°</a></li>
<li><a href="#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD">â›¹ å…´è¶£çˆ±å¥½</a></li>
<li><a href="#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80">ğŸ“¬ è”ç³»æˆ‘å‘€</a></li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // ä¿å­˜liå…ƒç´ 
      if (elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // å¤„ç†ä¸æ˜¯ä»#ä¸€çº§æ ‡é¢˜å¼€å§‹ç›®å½•
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://haohanya.github.io/post/about/">
      å…³äº
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-01-25</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>1åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>74<span class="pc-show">å­—æ•°</span></span>
    </span>
    
    
    
    <span id="/post/about/" data-flag-title="å…³äº" class="meta-item pc-show leancloud_visitors">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-eye"></i>
      <span>æµè§ˆé‡ï¼š<span class="leancloud-visitors-count"></span></span>
    </span>
    
  </div>
</header>
            <div class="post-body next-md-body" id="post_body">
              <blockquote>
<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤</p>
</blockquote>
<h2 id="å…³äºæœ¬ç«™">ğŸ  å…³äºæœ¬ç«™</h2>
<p>ç£•ç£•ç¢°ç¢°çš„å°ç ´ç«™,å‰ä¸ä¹…åŸŸåçš„å¤‡æ¡ˆè¢«æ³¨é”€...åæ¢åˆ°Gridea,æ‰˜ç®¡åœ¨GitHub</p>
<h2 id="åšä¸»æ˜¯è°">ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°</h2>
<p>ä¸€ä½æ­£åœ¨åŠªåŠ›æˆé•¿çš„ç å†œ...</p>
<h2 id="å…´è¶£çˆ±å¥½">â›¹ å…´è¶£çˆ±å¥½</h2>
<p>åƒ,ç¡,coding</p>
<h2 id="è”ç³»æˆ‘å‘€">ğŸ“¬ è”ç³»æˆ‘å‘€</h2>
<p>QQ : 2369710264</p>

            </div>
            <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      æµ©ç€š
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://haohanya.github.io/post/about/" title="å…³äº">https://haohanya.github.io/post/about/</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
    </div>
    <div class="nav-next">
      
    </div>
  </div>
</div>
            
  <script src="https://cdn.jsdelivr.net/npm/valine@1.4.4/dist/Valine.min.js"></script>
<div id="vcomments" style="padding: 10px 0px 0px 0px"></div>

<style>
  .v .veditor {
    min-height: 10rem;
    background-image: url('https://upimage.alexhchu.com/2020/04/21/47eda59424daa.gif');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: right;
    background-color: rgba(255, 255, 255, 0);
    resize: none;
  }

  .v .vwrap {
    border: 1px solid #000 !important;
  }

  .v .vbtn {
    padding: .4rem 1.2rem !important;
    border-color: #fff !important;
    background-color: #49b1f5 !important;
    color: #fff !important;
    font-size: .7rem !important;
  }

  .v .vcards .vcard .vh .vmeta .vat {
    padding: 0 .8rem !important;
    border: 1px solid #00c4b6 !important;
    border-radius: 5px !important;
    color: #00c4b6 !important;
  }
</style>
<script>
  new Valine({
    el: '#vcomments',
    appId: 'nHuv5iS2pvwaeJVALGy1k8eh-gzGzoHsz',
    appKey: 't0Pxwyy9Pqb8trH0AnoDdNRn',
    avatar: 'identicon',
    placeholder: '',
    pageSize: '',
    lang: 'zh-cn',
    visitor: 'true' === 'true',
    highlight: 'true' === 'true',
    avatarForce: 'true' === 'false',
  });
</script>

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
    
    <div class="bg-img">
      <img src="\media\images\custom-bgImg.jpg" />
    </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px; border: 1px solid #fff; border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        console.log('å¤åˆ¶æ“ä½œé¢‘ç‡è¿‡é«˜');
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="æœç´¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/redis/"" data-c="
          &lt;h2 id=&#34;rediså®‰è£…&#34;&gt;rediså®‰è£…&lt;/h2&gt;
&lt;p&gt;å®‰è£…gcc&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;yum install gcc-c++
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è§£å‹æºç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;tar -zxvf redis-3.0.0.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿›å…¥è§£å‹åçš„ç›®å½•è¿›è¡Œç¼–è¯‘&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd /usr/local/redis-3.0.0
make PREFIX=/usr/local/redis install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‹·è´é…ç½®æ–‡ä»¶åˆ°å®‰è£…ç›®å½•ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd /usr/local/redis
mkdir conf
cp /usr/local/redis-3.0.0/redis.conf  /usr/local/redis/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;bin/redis-server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åç«¯æ¨¡å¼è¿è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;ä¿®æ”¹redis.confæ–‡ä»¶ : daemonize yes
./bin/redis-server redis.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;springdataredisç®€ä»‹&#34;&gt;SpringDataRedisç®€ä»‹&lt;/h2&gt;
&lt;h3 id=&#34;redis&#34;&gt;Redis&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;redis&lt;/strong&gt;æ˜¯ä¸€æ¬¾å¼€æºçš„Key-Value&lt;strong&gt;æ•°æ®åº“&lt;/strong&gt;ï¼Œè¿è¡Œåœ¨å†…å­˜ä¸­ï¼Œç”±ANSI Cç¼–å†™ã€‚ä¼ä¸šå¼€å‘é€šå¸¸é‡‡ç”¨Redisæ¥å®ç°ç¼“å­˜ã€‚åŒç±»çš„äº§å“è¿˜æœ‰memcache ã€MongoDBç­‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;jedis&#34;&gt;Jedis&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Jedisæ˜¯Rediså®˜æ–¹æ¨å‡ºçš„ä¸€æ¬¾é¢å‘&lt;strong&gt;Java&lt;/strong&gt;çš„å®¢æˆ·ç«¯ï¼Œæä¾›äº†å¾ˆå¤šæ¥å£ä¾›Javaè¯­è¨€è°ƒç”¨ã€‚å¯ä»¥åœ¨Rediså®˜ç½‘ä¸‹è½½ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›å¼€æºçˆ±å¥½è€…æä¾›çš„å®¢æˆ·ç«¯ï¼Œå¦‚Jredisã€SRPç­‰ç­‰ï¼Œæ¨èä½¿ç”¨Jedisã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;spring-data-redis&#34;&gt;Spring Data Redis&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring-data-redisæ˜¯springå¤§å®¶æ—çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†åœ¨srpingåº”ç”¨ä¸­é€šè¿‡ç®€å•çš„é…ç½®è®¿é—®redisæœåŠ¡ï¼Œå¯¹reidsåº•å±‚å¼€å‘åŒ…(Jedis,  JRedis, and RJC)è¿›è¡Œäº†é«˜åº¦å°è£…ï¼ŒRedisTemplateæä¾›äº†rediså„ç§æ“ä½œã€å¼‚å¸¸å¤„ç†åŠåºåˆ—åŒ–ï¼Œæ”¯æŒå‘å¸ƒè®¢é˜…ï¼Œå¹¶å¯¹spring 3.1 cacheè¿›è¡Œäº†å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;spring-data-redisé’ˆå¯¹jedisæä¾›äº†å¦‚ä¸‹åŠŸèƒ½ï¼š&lt;br&gt;
1ã€è¿æ¥æ± è‡ªåŠ¨ç®¡ç†ï¼Œæä¾›äº†ä¸€ä¸ªé«˜åº¦å°è£…çš„â€œRedisTemplateâ€ç±»&lt;/p&gt;
&lt;p&gt;â€‹	2ã€é’ˆå¯¹jediså®¢æˆ·ç«¯ä¸­å¤§é‡apiè¿›è¡Œäº†å½’ç±»å°è£…,å°†åŒä¸€ç±»å‹æ“ä½œå°è£…ä¸ºoperationæ¥å£&lt;/p&gt;
&lt;p&gt;â€‹     ValueOperationsï¼šç®€å•K-Væ“ä½œ&lt;/p&gt;
&lt;p&gt;â€‹     SetOperationsï¼šsetç±»å‹æ•°æ®æ“ä½œ&lt;/p&gt;
&lt;p&gt;â€‹     ZSetOperationsï¼šzsetç±»å‹æ•°æ®æ“ä½œ&lt;/p&gt;
&lt;p&gt;â€‹     HashOperationsï¼šé’ˆå¯¹mapç±»å‹çš„æ•°æ®æ“ä½œ&lt;/p&gt;
&lt;p&gt;â€‹     ListOperationsï¼šé’ˆå¯¹listç±»å‹çš„æ•°æ®æ“ä½œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;spring-data-rediså…¥é—¨å°demo&#34;&gt;Spring Data Rediså…¥é—¨å°Demo&lt;/h2&gt;
&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- ç¼“å­˜ --&amp;gt;
&amp;lt;dependency&amp;gt; 
    &amp;lt;groupId&amp;gt;redis.clients&amp;lt;/groupId&amp;gt; 
    &amp;lt;artifactId&amp;gt;jedis&amp;lt;/artifactId&amp;gt; 
    &amp;lt;version&amp;gt;2.8.1&amp;lt;/version&amp;gt; 
&amp;lt;/dependency&amp;gt; 
&amp;lt;dependency&amp;gt; 
    &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt; 
    &amp;lt;artifactId&amp;gt;spring-data-redis&amp;lt;/artifactId&amp;gt; 
    &amp;lt;version&amp;gt;1.7.2.RELEASE&amp;lt;/version&amp;gt; 
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€åˆ›å»ºredis-config.properties&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;redis.host=127.0.0.1 
redis.port=6379 
redis.pass= 
redis.database=0 
redis.maxIdle=300 
redis.maxWait=3000 
redis.testOnBorrow=true 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€ç¼–å†™redisé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;applicationContext-redis.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;context:property-placeholder location=&amp;quot;classpath*:properties/*.properties&amp;quot; /&amp;gt;   
&amp;lt;!-- redis ç›¸å…³é…ç½® --&amp;gt; 
&amp;lt;bean id=&amp;quot;poolConfig&amp;quot; class=&amp;quot;redis.clients.jedis.JedisPoolConfig&amp;quot;&amp;gt;  
 &amp;lt;property name=&amp;quot;maxIdle&amp;quot; value=&amp;quot;${redis.maxIdle}&amp;quot; /&amp;gt;   
 &amp;lt;property name=&amp;quot;maxWaitMillis&amp;quot; value=&amp;quot;${redis.maxWait}&amp;quot; /&amp;gt;  
 &amp;lt;property name=&amp;quot;testOnBorrow&amp;quot; value=&amp;quot;${redis.testOnBorrow}&amp;quot; /&amp;gt;  
&amp;lt;/bean&amp;gt;  
&amp;lt;bean id=&amp;quot;JedisConnectionFactory&amp;quot; class=&amp;quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&amp;quot; 
   p:host-name=&amp;quot;${redis.host}&amp;quot; p:port=&amp;quot;${redis.port}&amp;quot; p:password=&amp;quot;${redis.pass}&amp;quot; p:pool-config-ref=&amp;quot;poolConfig&amp;quot;/&amp;gt;  

&amp;lt;bean id=&amp;quot;redisTemplate&amp;quot; class=&amp;quot;org.springframework.data.redis.core.RedisTemplate&amp;quot;&amp;gt;  
 &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;JedisConnectionFactory&amp;quot; /&amp;gt;  
&amp;lt;/bean&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;maxIdle ï¼šæœ€å¤§ç©ºé—²æ•°&lt;/p&gt;
&lt;p&gt;maxWaitMillis:è¿æ¥æ—¶çš„æœ€å¤§ç­‰å¾…æ¯«ç§’æ•°&lt;/p&gt;
&lt;p&gt;testOnBorrowï¼šåœ¨æå–ä¸€ä¸ªjediså®ä¾‹æ—¶ï¼Œæ˜¯å¦æå‰è¿›è¡ŒéªŒè¯æ“ä½œï¼›å¦‚æœä¸ºtrueï¼Œåˆ™å¾—åˆ°çš„jediså®ä¾‹å‡æ˜¯å¯ç”¨çš„ï¼›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;4ã€å€¼ç±»å‹æ“ä½œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations=&amp;quot;classpath:spring/applicationContext-redis.xml&amp;quot;)
public class TestValue {
	@Autowired
	private RedisTemplate redisTemplate;	
	@Test
	public void setValue(){
		redisTemplate.boundValueOps(&amp;quot;name&amp;quot;).set(&amp;quot;zhangsan&amp;quot;);		
	}	
	@Test
	public void getValue(){
		String str = (String) redisTemplate.boundValueOps(&amp;quot;name&amp;quot;).get();
		System.out.println(str);
	}	
	@Test
	public void deleteValue(){
		redisTemplate.delete(&amp;quot;name&amp;quot;);;
	}	
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ã€Setç±»å‹æ“ä½œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations=&amp;quot;classpath:spring/applicationContext-redis.xml&amp;quot;)
public class TestSet {
	@Autowired
	private RedisTemplate redisTemplate;
	/**
	 * å­˜å…¥å€¼
	 */
	@Test
	public void setValue(){
		redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;ç½—å¿—ç¥¥&amp;quot;);		
		redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;å‘¨æ‰¬é’&amp;quot;);	
		redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;è´è¶å§&amp;quot;);
	}
	/**
	 * æå–å€¼
	 */
	@Test
	public void getValue(){
		Set members = redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).members();
		System.out.println(members);
	}
    /**
	 * åˆ é™¤é›†åˆä¸­çš„æŸä¸€ä¸ªå€¼
	 */
	@Test
	public void deleteValue(){
		redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).remove(&amp;quot;è´è¶å§&amp;quot;);
	}
	
	/**
	 * åˆ é™¤æ•´ä¸ªé›†åˆ
	 */
	@Test
	public void deleteAllValue(){
		redisTemplate.delete(&amp;quot;nameset&amp;quot;);
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6ã€Listç±»å‹æ“ä½œ&lt;/p&gt;
&lt;p&gt;6.1ã€å³å‹æ ˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * å³å‹æ ˆï¼šåæ·»åŠ çš„å¯¹è±¡æ’åœ¨åè¾¹
 */
@Test
public void testSetValue1(){		
    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;åˆ˜å¤‡&amp;quot;);
    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;å…³ç¾½&amp;quot;);
    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;å¼ é£&amp;quot;);		
}
/**
 * æ˜¾ç¤ºå³å‹æ ˆé›†åˆ
 */
@Test
public void testGetValue1(){
    List list = redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).range(0, 10);
    System.out.println(list);
}
//è¿è¡Œç»“æœï¼š[åˆ˜å¤‡, å…³ç¾½, å¼ é£]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6.2ã€å·¦å‹æ ˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * å·¦å‹æ ˆï¼šåæ·»åŠ çš„å¯¹è±¡æ’åœ¨å‰è¾¹
 */
@Test
public void testSetValue2(){		
    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;åˆ˜å¤‡&amp;quot;);
    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;å…³ç¾½&amp;quot;);
    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;å¼ é£&amp;quot;);		
}
/**
 * æ˜¾ç¤ºå·¦å‹æ ˆé›†åˆ
 */
@Test
public void testGetValue2(){
    List list = redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).range(0, 10);
    System.out.println(list);
}
//è¿è¡Œç»“æœï¼š[å¼ é£, å…³ç¾½, åˆ˜å¤‡]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6.3ã€æ ¹æ®ç´¢å¼•æŸ¥è¯¢å…ƒç´ &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * æŸ¥è¯¢é›†åˆæŸä¸ªå…ƒç´ 
 */
@Test
public void testSearchByIndex(){
    String s = (String) redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).index(1);
    System.out.println(s);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6.4ã€ç§»é™¤æŸä¸ªå…ƒç´ çš„å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * ç§»é™¤é›†åˆæŸä¸ªå…ƒç´ 
 */
@Test
public void testRemoveByIndex(){
    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).remove(1, &amp;quot;å…³ç¾½&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7ã€Hashç±»å‹æ“ä½œ&lt;/p&gt;
&lt;p&gt;7.1ã€å­˜å…¥å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Test
public void testSetValue(){
    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;a&amp;quot;, &amp;quot;å”åƒ§&amp;quot;);
    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;b&amp;quot;, &amp;quot;æ‚Ÿç©º&amp;quot;);
    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;c&amp;quot;, &amp;quot;å…«æˆ’&amp;quot;);
    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;d&amp;quot;, &amp;quot;æ²™åƒ§&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7.2ã€æå–æ‰€æœ‰çš„KEY&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Test
public void testGetKeys(){
    Set s = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).keys();		
    System.out.println(s);		
}
//è¿è¡Œç»“æœï¼š[a, b, c, d]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7.3ã€æå–æ‰€æœ‰çš„å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Test
public void testGetValues(){
    List values = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).values();
    System.out.println(values);		
}
//è¿è¡Œç»“æœï¼š[å”åƒ§, æ‚Ÿç©º, å…«æˆ’, æ²™åƒ§]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7.4ã€æ ¹æ®KEYæå–å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Test
public void testGetValueByKey(){
    Object object = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).get(&amp;quot;b&amp;quot;);
    System.out.println(object);
}
//è¿è¡Œç»“æœï¼šæ‚Ÿç©º
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7.5ã€æ ¹æ®KEYç§»é™¤å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Test
public void testRemoveValueByKey(){
    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).delete(&amp;quot;c&amp;quot;);
}
//è¿è¡Œç»“æœï¼š[å”åƒ§, æ‚Ÿç©º, æ²™åƒ§]
&lt;/code&gt;&lt;/pre&gt;
">Redis</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/activemq/"" data-c="
          &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯jms&#34;&gt;ä»€ä¹ˆæ˜¯jms&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;JMSï¼ˆjava Messaging Serviceï¼‰æ˜¯Javaå¹³å°ä¸Šæœ‰å…³é¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„æŠ€æœ¯è§„èŒƒï¼Œå®ƒä¾¿äºæ¶ˆæ¯ç³»ç»Ÿä¸­çš„Javaåº”ç”¨ç¨‹åºè¿›è¡Œæ¶ˆæ¯äº¤æ¢,å¹¶ä¸”é€šè¿‡æä¾›æ ‡å‡†çš„äº§ç”Ÿã€å‘é€ã€æ¥æ”¶æ¶ˆæ¯çš„æ¥å£ç®€åŒ–ä¼ä¸šåº”ç”¨çš„å¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;â€‹    JMSæœ¬èº«åªå®šä¹‰äº†ä¸€ç³»åˆ—çš„æ¥å£è§„èŒƒï¼Œæ˜¯ä¸€ç§ä¸å‚å•†æ— å…³çš„ APIï¼Œç”¨æ¥è®¿é—®æ¶ˆæ¯æ”¶å‘ç³»ç»Ÿã€‚å®ƒç±»ä¼¼äº JDBC(java Database Connectivity)ï¼šè¿™é‡Œï¼ŒJDBC æ˜¯å¯ä»¥ç”¨æ¥è®¿é—®è®¸å¤šä¸åŒå…³ç³»æ•°æ®åº“çš„ APIï¼Œè€Œ JMS åˆ™æä¾›åŒæ ·ä¸å‚å•†æ— å…³çš„è®¿é—®æ–¹æ³•ï¼Œä»¥è®¿é—®æ¶ˆæ¯æ”¶å‘æœåŠ¡ã€‚è®¸å¤šå‚å•†ç›®å‰éƒ½æ”¯æŒ JMSï¼ŒåŒ…æ‹¬ IBM çš„ MQSeriesã€BEAçš„ Weblogic JMS serviceå’Œ Progress çš„ SonicMQï¼Œè¿™åªæ˜¯å‡ ä¸ªä¾‹å­ã€‚ JMS ä½¿æ‚¨èƒ½å¤Ÿé€šè¿‡æ¶ˆæ¯æ”¶å‘æœåŠ¡ï¼ˆæœ‰æ—¶ç§°ä¸ºæ¶ˆæ¯ä¸­ä»‹ç¨‹åºæˆ–è·¯ç”±å™¨ï¼‰ä»ä¸€ä¸ª JMS å®¢æˆ·æœºå‘å¦ä¸€ä¸ª JML å®¢æˆ·æœºå‘é€æ¶ˆæ¯ã€‚æ¶ˆæ¯æ˜¯ JMS ä¸­çš„ä¸€ç§ç±»å‹å¯¹è±¡ï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæŠ¥å¤´å’Œæ¶ˆæ¯ä¸»ä½“ã€‚æŠ¥å¤´ç”±è·¯ç”±ä¿¡æ¯ä»¥åŠæœ‰å…³è¯¥æ¶ˆæ¯çš„å…ƒæ•°æ®ç»„æˆã€‚æ¶ˆæ¯ä¸»ä½“åˆ™æºå¸¦ç€åº”ç”¨ç¨‹åºçš„æ•°æ®æˆ–æœ‰æ•ˆè´Ÿè½½ã€‚&lt;/p&gt;
&lt;p&gt;JMS å®šä¹‰äº†äº”ç§ä¸åŒçš„æ¶ˆæ¯æ­£æ–‡æ ¼å¼ï¼Œä»¥åŠè°ƒç”¨çš„æ¶ˆæ¯ç±»å‹ï¼Œå…è®¸ä½ å‘é€å¹¶æ¥æ”¶ä»¥ä¸€&lt;/p&gt;
&lt;p&gt;äº›ä¸åŒå½¢å¼çš„æ•°æ®ï¼Œæä¾›ç°æœ‰æ¶ˆæ¯æ ¼å¼çš„ä¸€äº›çº§åˆ«çš„å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;TextMessage--ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆåº”ç”¨æœ€å¹¿æ³›çš„ä¸€ç§ï¼‰&lt;/p&gt;
&lt;p&gt;MapMessage--ä¸€å¥—åç§°-å€¼å¯¹&lt;/p&gt;
&lt;p&gt;ObjectMessage--ä¸€ä¸ªåºåˆ—åŒ–çš„ Java å¯¹è±¡&lt;/p&gt;
&lt;p&gt;BytesMessage--ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®æµ&lt;/p&gt;
&lt;p&gt;StreamMessage -- Java åŸå§‹å€¼çš„æ•°æ®æµ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;jmsæ¶ˆæ¯ä¼ é€’ç±»å‹&#34;&gt;JMSæ¶ˆæ¯ä¼ é€’ç±»å‹&lt;/h2&gt;
&lt;p&gt;å¯¹äºæ¶ˆæ¯çš„ä¼ é€’æœ‰ä¸¤ç§ç±»å‹ï¼š&lt;br&gt;
ä¸€ç§æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼Œå³ä¸€ä¸ªç”Ÿäº§è€…å’Œä¸€ä¸ªæ¶ˆè´¹è€…ä¸€ä¸€å¯¹åº”ï¼›&lt;br&gt;
&lt;img src=&#34;https://haohanya.github.io/post-images/1589686388156.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦ä¸€ç§æ˜¯å‘å¸ƒ/ è®¢é˜…æ¨¡å¼ï¼Œå³ä¸€ä¸ªç”Ÿäº§è€…äº§ç”Ÿæ¶ˆæ¯å¹¶è¿›è¡Œå‘é€åï¼Œå¯ä»¥ç”±å¤šä¸ªæ¶ˆè´¹è€…è¿›&lt;br&gt;
è¡Œæ¥æ”¶ã€‚&lt;br&gt;
&lt;img src=&#34;https://haohanya.github.io/post-images/1589686418709.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;1ã€ä¸Šä¼ activeMQåˆ°æœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;2ã€è§£å‹ &lt;code&gt;tar -zxvf apache-activemq-5.12.0-bin.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3ã€ç§»åŠ¨æ–‡ä»¶ &lt;code&gt;mv apache-activemq-5.12.0 /usr/local/java/activemq-5.12.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4ã€è¿›å…¥bin &lt;code&gt;cd /usr/local/java/activemq-5.12.0/bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5ã€å¯åŠ¨activeMQ &lt;code&gt;./activemq start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6ã€è®¿é—®ï¼š&lt;code&gt;ip:8161&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è´¦å·ï¼šadmin&lt;/p&gt;
&lt;p&gt;å¯†ç ï¼šadmin&lt;/p&gt;
&lt;h2 id=&#34;jmsæµ‹è¯•&#34;&gt;JMSæµ‹è¯•&lt;/h2&gt;
&lt;h3 id=&#34;ç‚¹å¯¹ç‚¹æ¨¡å¼&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt; &amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;activemq-client&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;5.13.4&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…QueueProducer&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws JMSException {
    //1ã€åˆ›å»ºå·¥å‚
    ConnectionFactory connectionFactory  = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);
    //2ã€è·å–è¿æ¥
    Connection connection = connectionFactory.createConnection();
    //3ã€å¯åŠ¨è¿æ¥
    connection.start();
    /** 4ã€è·å–session  
    	å‚æ•°1ï¼šæ˜¯å¦å¯ç”¨äº‹åŠ¡ 
    	å‚æ•°2ï¼šæ¶ˆæ¯ç¡®è®¤æ¨¡å¼
            AUTO_ACKNOWLEDGE = 1    è‡ªåŠ¨ç¡®è®¤
            CLIENT_ACKNOWLEDGE = 2    å®¢æˆ·ç«¯æ‰‹åŠ¨ç¡®è®¤   
            DUPS_OK_ACKNOWLEDGE = 3    è‡ªåŠ¨æ‰¹é‡ç¡®è®¤
            SESSION_TRANSACTED = 0    äº‹åŠ¡æäº¤å¹¶ç¡®è®¤
	*/
    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
    //5ã€åˆ›å»ºé˜Ÿåˆ—å¯¹è±¡
    Queue queue = session.createQueue(&amp;quot;test-queue&amp;quot;);
    //6ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§ç€
    MessageProducer messageProducer = session.createProducer(queue);
    //7ã€åˆ›å»ºæ¶ˆæ¯
    TextMessage textMessage = session.createTextMessage(&amp;quot;æµ‹è¯•æ–‡æœ¬å†…å®¹&amp;quot;);
    //8ã€å‘é€æ¶ˆæ¯
    messageProducer.send(textMessage);
    //9ã€å…³é—­èµ„æº
    messageProducer.close();
    session.close();
    connection.close();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…QueueConsumer&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws JMSException, IOException {
    //1ã€åˆ›å»ºè¿æ¥å·¥å‚
    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);
    //2ã€è·å–è¿æ¥
    Connection connection = connectionFactory.createConnection();
    //3ã€å¯åŠ¨è¿æ¥
    connection.start();
    //4ã€è·å–session
    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
    //5ã€åˆ›å»ºé˜Ÿåˆ—å¯¹è±¡
    Queue queue = session.createQueue(&amp;quot;test-queue&amp;quot;);
    //6ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹
    MessageConsumer consumer = session.createConsumer(queue);
    //7ã€ç›‘å¬æ¶ˆæ¯
    consumer.setMessageListener(new MessageListener() {
        @Override
        public void onMessage(Message message) {
            TextMessage textMessage = (TextMessage) message;
            try {
                System.out.println(&amp;quot;æ¥æ”¶æ¶ˆæ¯ä¸ºï¼š&amp;quot;+textMessage.getText());
            } catch (JMSException e) {
                e.printStackTrace();
            }
        }
    });
    //8ã€ç­‰å¾…é”®ç›˜è¾“å…¥
    System.in.read();
    //9ã€å…³é—­èµ„æº
    consumer.close();
    session.close();
    connection.close();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‘å¸ƒè®¢é˜…æ¨¡å¼&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;1ã€æ¶ˆæ¯ç”Ÿäº§è€…TopicProducer&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws JMSException, IOException {
    //1ã€åˆ›å»ºè¿æ¥å·¥å‚
    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);
    //2ã€è·å–è¿æ¥
    Connection connection = connectionFactory.createConnection();
    //3ã€å¯åŠ¨è¿æ¥
    connection.start();
    //4ã€è·å–session
    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
    //5ã€åˆ›å»ºä¸»é¢˜å¯¹è±¡
    Topic topic = session.createTopic(&amp;quot;test-topic&amp;quot;);
    //6ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…
    MessageConsumer consumer = session.createConsumer(topic);
    //7ã€ç›‘å¬æ¶ˆæ¯
    consumer.setMessageListener(new MessageListener() {
        @Override
        public void onMessage(Message message) {
            TextMessage textMessage = (TextMessage) message;
            try {
                System.out.println(&amp;quot;æ¥æ”¶æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());
            } catch (JMSException e) {
                e.printStackTrace();
            }
        }
    });
    //8ã€ç­‰å¾…é”®ç›˜è¾“å…¥
    System.in.read();
    //9ã€å…³é—­èµ„æº
    consumer.close();
    session.close();
    connection.close();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€æ¶ˆæ¯æ¶ˆè´¹è€…TopicProducer&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws JMSException {
    //1ã€åˆ›å»ºè¿æ¥å·¥å‚
    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);
    //2ã€è·å–è¿æ¥
    Connection connection = connectionFactory.createConnection();
    //3ã€å¯åŠ¨è¿æ¥
    connection.start();
    //4ã€è·å–session
    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
    //5ã€åˆ›å»ºä¸»é¢˜å¯¹è±¡
    Topic topic = session.createTopic(&amp;quot;test-topic&amp;quot;);
    //6ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…
    MessageProducer producer = session.createProducer(topic);
    //7ã€åˆ›å»ºæ¶ˆæ¯
    TextMessage topicTest = session.createTextMessage(&amp;quot;topicTest&amp;quot;);
    //8ã€å‘é€æ¶ˆæ¯
    producer.send(topicTest);
    //9ã€å…³é—­èµ„æº
    producer.close();
    session.close();
    connection.close();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;springæ•´åˆjms&#34;&gt;springæ•´åˆjms&lt;/h2&gt;
&lt;h3 id=&#34;ç‚¹å¯¹ç‚¹æ¨¡å¼-2&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--spring-jms--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-jms&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;4.2.4.RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;!-- activemq --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;activemq-all&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;5.11.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;!-- å•å…ƒæµ‹è¯• --&amp;gt;
&amp;lt;!-- springJunit --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-test&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;4.2.4.RELEASE&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€åˆ›å»ºç”Ÿäº§è€…é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;applicationContext-jms-producer-queue.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;
    &amp;lt;!--æ¶ˆæ¯ç”Ÿäº§è€…:ç‚¹å¯¹ç‚¹--&amp;gt;

    &amp;lt;context:component-scan base-package=&amp;quot;com.springjms&amp;quot;/&amp;gt;

    &amp;lt;!--jmsæœåŠ¡å‚å•†æä¾›çš„è¿æ¥å·¥å‚--&amp;gt;
    &amp;lt;bean id=&amp;quot;targetConnectionFactory&amp;quot; class=&amp;quot;org.apache.activemq.ActiveMQConnectionFactory&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;brokerURL&amp;quot; value=&amp;quot;tcp://192.168.25.137:61616&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--springç”¨äºç®¡ç†çœŸæ­£çš„ConnectionFactory--&amp;gt;
    &amp;lt;bean id=&amp;quot;connectionFactory&amp;quot; class=&amp;quot;org.springframework.jms.connection.SingleConnectionFactory&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;targetConnectionFactory&amp;quot; ref=&amp;quot;targetConnectionFactory&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--springæä¾›çš„å·¥å…·ç±»--&amp;gt;
    &amp;lt;bean id=&amp;quot;jmsTemplate&amp;quot; class=&amp;quot;org.springframework.jms.core.JmsTemplate&amp;quot;&amp;gt;
        &amp;lt;constructor-arg name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!--queue--&amp;gt;
    &amp;lt;bean id=&amp;quot;queueTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQQueue&amp;quot;&amp;gt;
        &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;queue_text&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€å‘é€æ¶ˆæ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
public class QueueProducer {

    @Resource
    private JmsTemplate jmsTemplate;

    @Resource
    private Destination queueTextDestination;

    /**
     * å‘é€æ–‡æœ¬æ¶ˆæ¯
     * @param text  å‘é€çš„æ–‡æœ¬å†…å®¹
     */
    public void sendTextMessage(final String text){
        jmsTemplate.send(queueTextDestination, new MessageCreator() {
            @Override
            public Message createMessage(Session session) throws JMSException {
                return session.createTextMessage(text);
            }
        });
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4ã€æµ‹è¯•å‘é€æ¶ˆæ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = &amp;quot;classpath:applicationContext-jms-producer-queue.xml&amp;quot;)
public class MyTest {

    @Resource
    private QueueProducer queueProducer;

    @Test
    public void test(){
        queueProducer.sendTextMessage(&amp;quot;Hello! queue&amp;quot;);
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ã€åˆ›å»ºæ¶ˆè´¹è€…é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;applicationContext-jms-consumer-queue.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;
    &amp;lt;!--æœåŠ¡æ¶ˆè´¹è€…:ç‚¹å¯¹ç‚¹--&amp;gt;

    &amp;lt;!--jsmæœåŠ¡å‚å•†æä¾›çš„è¿æ¥å·¥å‚--&amp;gt;
    &amp;lt;bean id=&amp;quot;targetConnectionFactory&amp;quot; class=&amp;quot;org.apache.activemq.ActiveMQConnectionFactory&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;brokerURL&amp;quot; value=&amp;quot;tcp://192.168.25.137:61616&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--springç”¨äºç®¡ç†çœŸæ­£çš„ConnectionFactory--&amp;gt;
    &amp;lt;bean id=&amp;quot;connectionFactory&amp;quot; class=&amp;quot;org.springframework.jms.connection.SingleConnectionFactory&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;targetConnectionFactory&amp;quot; ref=&amp;quot;targetConnectionFactory&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--springæä¾›çš„å·¥å…·ç±»--&amp;gt;
    &amp;lt;bean id=&amp;quot;jmsTemplate&amp;quot; class=&amp;quot;org.springframework.jms.core.JmsTemplate&amp;quot;&amp;gt;
        &amp;lt;constructor-arg name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!--queue--&amp;gt;
    &amp;lt;bean id=&amp;quot;queueTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQQueue&amp;quot;&amp;gt;
        &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;queue_text&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--ç›‘å¬ç±»,ç”¨æ¥ç›‘å¬mqä¸­æ˜¯å¦æœ‰æ¶ˆæ¯--&amp;gt;
    &amp;lt;bean id=&amp;quot;myMessageListener&amp;quot; class=&amp;quot;com.springjms.MyMessageListener&amp;quot;/&amp;gt;
    &amp;lt;!--æ¶ˆæ¯çš„ç›‘å¬å™¨--&amp;gt;
    &amp;lt;bean class=&amp;quot;org.springframework.jms.listener.DefaultMessageListenerContainer&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;destination&amp;quot; ref=&amp;quot;queueTextDestination&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;messageListener&amp;quot; ref=&amp;quot;myMessageListener&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6ã€ç¼–å†™ç›‘å¬ç±»&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class MyMessageListener implements MessageListener {
    @Override
    public void onMessage(Message message) {
        TextMessage textMessage = (TextMessage) message;
        try {
            System.out.println(&amp;quot;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());
        } catch (JMSException e) {
            e.printStackTrace();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7ã€æµ‹è¯•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations=&amp;quot;classpath:applicationContext-jms-consumer-queue.xml&amp;quot;)
public class MyTest1 {
    @Test
    public void testQueue(){
        try {
            System.in.read();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å‘å¸ƒè®¢é˜…æ¨¡å¼-2&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;1ã€åˆ›å»ºç”Ÿäº§è€…ï¼Œåœ¨applicationContext-jms-producer-queue.xmlæ–°å¢å†…å®¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--è¿™ä¸ªæ˜¯è®¢é˜…æ¨¡å¼  æ–‡æœ¬ä¿¡æ¯--&amp;gt;  
&amp;lt;bean id=&amp;quot;topicTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQTopic&amp;quot;&amp;gt;  
    &amp;lt;constructor-arg value=&amp;quot;topic_text&amp;quot;/&amp;gt;  
&amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€å‘é€æ¶ˆæ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
public class TopicProducer {

    @Resource
    private JmsTemplate jmsTemplate;
    @Resource
    private Destination topicTextDestination;

    /**
     * å‘é€æ¶ˆæ¯
     * @param text
     */
    public void sendMessage(final String text){
        jmsTemplate.send(topicTextDestination, new MessageCreator() {
            @Override
            public Message createMessage(Session session) throws JMSException {
                return session.createTextMessage(text);
            }
        });
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€æµ‹è¯•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = &amp;quot;classpath:applicationContext-jms-producer-topic.xml&amp;quot;)
public class MyTest2 {

    @Resource
    private TopicProducer topicProducer;

    @Test
    public void test(){
        topicProducer.sendMessage(&amp;quot;Hello! topic&amp;quot;);
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4ã€åˆ›å»ºæ¶ˆè´¹è€…ï¼Œåœ¨applicationContext-jms-consumer-queue.xmlæ–°å¢å†…å®¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--topic--&amp;gt;
&amp;lt;bean id=&amp;quot;topicTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQTopic&amp;quot;&amp;gt;
    &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;topic_text&amp;quot;/&amp;gt;
&amp;lt;/bean&amp;gt;
&amp;lt;!--ç›‘å¬ç±»,ç”¨æ¥ç›‘å¬mqä¸­æ˜¯å¦æœ‰æ¶ˆæ¯--&amp;gt;
&amp;lt;bean id=&amp;quot;topicMessageListener&amp;quot; class=&amp;quot;com.springjms.TopicMessageListener&amp;quot;/&amp;gt;
&amp;lt;!--æ¶ˆæ¯çš„ç›‘å¬å™¨--&amp;gt;
&amp;lt;bean class=&amp;quot;org.springframework.jms.listener.DefaultMessageListenerContainer&amp;quot;&amp;gt;
    &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;
    &amp;lt;property name=&amp;quot;destination&amp;quot; ref=&amp;quot;topicTextDestination&amp;quot;/&amp;gt;
    &amp;lt;property name=&amp;quot;messageListener&amp;quot; ref=&amp;quot;topicMessageListener&amp;quot;/&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ã€ç¼–å†™ç›‘å¬ç±»&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class TopicMessageListener implements MessageListener {
    @Override
    public void onMessage(Message message) {
        TextMessage textMessage = (TextMessage) message;
        try {
            System.out.println(&amp;quot;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());
        } catch (JMSException e) {
            e.printStackTrace();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6ã€ç¼–å†™æµ‹è¯•ç±»&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations=&amp;quot;classpath:applicationContext-jms-consumer-topic.xml&amp;quot;)
public class MyTest3 {
    @Test
    public void testQueue(){
        try {
            System.in.read();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
">ActiveMQ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/solr-an-zhuang-shi-yong/"" data-c="
          &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯solr&#34;&gt;ä»€ä¹ˆæ˜¯Solr&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å¤§å¤šæ•°æœç´¢å¼•æ“åº”ç”¨éƒ½å¿…é¡»å…·æœ‰æŸç§æœç´¢åŠŸèƒ½ï¼Œé—®é¢˜æ˜¯æœç´¢åŠŸèƒ½å¾€å¾€æ˜¯å·¨å¤§çš„èµ„æºæ¶ˆè€—å¹¶ä¸”å®ƒä»¬ç”±äºæ²‰é‡çš„æ•°æ®åº“åŠ è½½è€Œæ‹–å®ä½ çš„åº”ç”¨çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè½¬ç§»è´Ÿè½½åˆ°ä¸€ä¸ªå¤–éƒ¨çš„æœç´¢æœåŠ¡å™¨æ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼ŒApache Solræ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºæœç´¢æœåŠ¡å™¨ï¼Œå®ƒé€šè¿‡ä½¿ç”¨ç±»ä¼¼RESTçš„HTTP APIï¼Œè¿™å°±ç¡®ä¿ä½ èƒ½ä»å‡ ä¹ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥ä½¿ç”¨solrã€‚&lt;/p&gt;
&lt;p&gt;Solræ˜¯ä¸€ä¸ªå¼€æºæœç´¢å¹³å°ï¼Œç”¨äºæ„å»ºæœç´¢åº”ç”¨ç¨‹åºã€‚ å®ƒå»ºç«‹åœ¨Lucene(å…¨æ–‡æœç´¢å¼•æ“)ä¹‹ä¸Šã€‚ Solræ˜¯ä¼ä¸šçº§çš„ï¼Œå¿«é€Ÿçš„å’Œé«˜åº¦å¯æ‰©å±•çš„ã€‚ ä½¿ç”¨Solræ„å»ºçš„åº”ç”¨ç¨‹åºéå¸¸å¤æ‚ï¼Œå¯æä¾›é«˜æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†åœ¨CNETç½‘ç»œçš„å…¬å¸ç½‘ç«™ä¸Šæ·»åŠ æœç´¢åŠŸèƒ½ï¼ŒYonik Seelyäº2004å¹´åˆ›å»ºäº†Solrã€‚å¹¶åœ¨2006å¹´1æœˆï¼Œå®ƒæˆä¸ºApacheè½¯ä»¶åŸºé‡‘ä¼šä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚å¹¶äº2016å¹´å‘å¸ƒæœ€æ–°ç‰ˆæœ¬Solr 6.0ï¼Œæ”¯æŒå¹¶è¡ŒSQLæŸ¥è¯¢çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Solrå¯ä»¥å’ŒHadoopä¸€èµ·ä½¿ç”¨ã€‚ç”±äºHadoopå¤„ç†å¤§é‡æ•°æ®ï¼ŒSolrå¸®åŠ©æˆ‘ä»¬ä»è¿™ä¹ˆå¤§çš„æºä¸­æ‰¾åˆ°æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¸ä»…é™äºæœç´¢ï¼ŒSolrä¹Ÿå¯ä»¥ç”¨äºå­˜å‚¨ç›®çš„ã€‚åƒå…¶ä»–NoSQLæ•°æ®åº“ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ç§éå…³ç³»æ•°æ®å­˜å‚¨å’Œå¤„ç†æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ï¼ŒSolræ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„ï¼Œå¯éƒ¨ç½²ï¼Œæœç´¢/å­˜å‚¨å¼•æ“ï¼Œä¼˜åŒ–æœç´¢å¤§é‡ä»¥æ–‡æœ¬ä¸ºä¸­å¿ƒçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;solrå®‰è£…&#34;&gt;solrå®‰è£…&lt;/h2&gt;
&lt;h3 id=&#34;1-ä¸Šä¼ æ–‡ä»¶&#34;&gt;1 ä¸Šä¼ æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;apache-tomcat-7.0.82.tar.gz&lt;/p&gt;
&lt;p&gt;solr-4.10.3.tgz.tgz&lt;/p&gt;
&lt;p&gt;IK Analyzer 2012FF_hf1&lt;/p&gt;
&lt;h3 id=&#34;2-åˆ›å»ºç›®å½•&#34;&gt;2 åˆ›å»ºç›®å½•&lt;/h3&gt;
&lt;p&gt;mkdir /usr/soft/solr&lt;/p&gt;
&lt;h3 id=&#34;3-è§£å‹tomcatå¹¶ç§»åŠ¨åˆ°solrç›®å½•&#34;&gt;3 è§£å‹tomcatå¹¶ç§»åŠ¨åˆ°solrç›®å½•&lt;/h3&gt;
&lt;p&gt;tar -zxvf apache-tomcat-7.0.82.tar.gz&lt;/p&gt;
&lt;p&gt;mv apache-tomcat-7.0.82 /usr/soft/solr/tomcat7&lt;/p&gt;
&lt;p&gt;tar -zxvf solr-4.10.3.tgz.tgz&lt;/p&gt;
&lt;p&gt;åœ¨solr-4.10.3/distç›®å½•ä¸‹æœ‰ä¸€ä¸ªwaråŒ… éœ€è¦æŠŠwaråŒ…ç§»åŠ¨åˆ°tomcaté‡Œè¿è¡Œ&lt;/p&gt;
&lt;p&gt;cp ~/solr-4.10.3/dist/solr-4.10.3.war /usr/soft/solr/tomcat7/webapps/solr.war&lt;/p&gt;
&lt;h3 id=&#34;4-å¯åŠ¨tomcat&#34;&gt;4 å¯åŠ¨tomcat&lt;/h3&gt;
&lt;p&gt;cd /usr/soft/solr/tomcat7&lt;/p&gt;
&lt;p&gt;./bin/startup.sh&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹tomcatæ—¥å¿—(å¯é€‰)&lt;/p&gt;
&lt;p&gt;tail -f logs/catalina.out&lt;/p&gt;
&lt;h3 id=&#34;5-å¼•å…¥ä¾èµ–jaråŒ…&#34;&gt;5 å¼•å…¥ä¾èµ–jaråŒ…&lt;/h3&gt;
&lt;p&gt;cd ~/solr-4.10.3/example/lib/ext&lt;/p&gt;
&lt;p&gt;cp * /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/lib&lt;/p&gt;
&lt;h3 id=&#34;6-å¤åˆ¶é…ç½®æ–‡ä»¶&#34;&gt;6 å¤åˆ¶é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;cd ~/solr-4.10.3/example&lt;/p&gt;
&lt;p&gt;cp -r solr /usr/soft/solr/solrhome&lt;/p&gt;
&lt;h3 id=&#34;7-solrå’Œsolrhomeå»ºç«‹è”ç³»&#34;&gt;7 solrå’Œsolrhomeå»ºç«‹è”ç³»&lt;/h3&gt;
&lt;p&gt;cd /usr/soft/solr/tomcat7/webapps/solr/WEB-INF&lt;/p&gt;
&lt;p&gt;vi web.xml&lt;/p&gt;
&lt;p&gt;/usr/soft/solr/solrhome&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;env-entry&amp;gt;
	&amp;lt;env-entry-name&amp;gt;solr/home&amp;lt;/env-entry-name&amp;gt;
    &amp;lt;!-- è¿™é‡Œè®¾ç½®ä¸ºè‡ªå·±çš„solrhomeè·¯å¾„ --&amp;gt;
    &amp;lt;env-entry-value&amp;gt;/usr/soft/solr/solrhome&amp;lt;/env-entry-value&amp;gt;
    &amp;lt;env-entry-type&amp;gt;java.lang.String&amp;lt;/env-entry-type&amp;gt;
&amp;lt;/env-entry&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;:wq&lt;/p&gt;
&lt;h3 id=&#34;8-é‡å¯-tomcat&#34;&gt;8 é‡å¯ tomcat&lt;/h3&gt;
&lt;p&gt;cd /usr/soft/solr/tomcat7/bin&lt;/p&gt;
&lt;p&gt;./shutdown.sh&lt;/p&gt;
&lt;p&gt;./startup.sh&lt;/p&gt;
&lt;h3 id=&#34;9-è®¿é—®solr&#34;&gt;9 è®¿é—®solr&lt;/h3&gt;
&lt;p&gt;http://192.168.25.132:8080/solr/&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®ikåˆ†è¯å™¨&#34;&gt;é…ç½®IKåˆ†è¯å™¨&lt;/h2&gt;
&lt;h3 id=&#34;ik-analyzerç®€ä»‹&#34;&gt;IK Analyzerç®€ä»‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;IK Analyzer æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼ŒåŸºäº java è¯­è¨€å¼€å‘çš„è½»é‡çº§çš„ä¸­æ–‡åˆ†è¯å·¥å…·åŒ…ã€‚ä» 2006å¹´ 12 æœˆæ¨å‡º 1.0 ç‰ˆå¼€å§‹ï¼Œ IKAnalyzer å·²ç»æ¨å‡ºäº† 4 ä¸ªå¤§ç‰ˆæœ¬ã€‚æœ€åˆï¼Œå®ƒæ˜¯ä»¥å¼€æºé¡¹ç›®Luence ä¸ºåº”ç”¨ä¸»ä½“çš„ï¼Œç»“åˆè¯å…¸åˆ†è¯å’Œæ–‡æ³•åˆ†æç®—æ³•çš„ä¸­æ–‡åˆ†è¯ç»„ä»¶ã€‚ä» 3.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒIK å‘å±•ä¸ºé¢å‘ Java çš„å…¬ç”¨åˆ†è¯ç»„ä»¶ï¼Œç‹¬ç«‹äº Lucene é¡¹ç›®ï¼ŒåŒæ—¶æä¾›äº†å¯¹ Lucene çš„é»˜è®¤ä¼˜åŒ–å®ç°ã€‚åœ¨ 2012 ç‰ˆæœ¬ä¸­ï¼ŒIK å®ç°äº†ç®€å•çš„åˆ†è¯æ­§ä¹‰æ’é™¤ç®—æ³•ï¼Œæ ‡å¿—ç€ IK åˆ†è¯å™¨ä»å•çº¯çš„è¯å…¸åˆ†è¯å‘æ¨¡æ‹Ÿè¯­ä¹‰åˆ†è¯è¡åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;1-å°†ikåˆ†è¯å™¨jaråŒ…ç§»åŠ¨åˆ°solrä¸­&#34;&gt;1 å°†ikåˆ†è¯å™¨jaråŒ…ç§»åŠ¨åˆ°solrä¸­&lt;/h3&gt;
&lt;p&gt;cp ~/IK\ Analyzer\ 2012FF_hf1/IKAnalyzer2012FF_u1.jar /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/lib&lt;/p&gt;
&lt;h3 id=&#34;2-åœ¨solré¡¹ç›®çš„web-inf-ç›®å½•åˆ›å»ºä¸€ä¸ªclassesç›®å½•&#34;&gt;2 åœ¨solré¡¹ç›®çš„WEB-INF ç›®å½•åˆ›å»ºä¸€ä¸ªclassesç›®å½•&lt;/h3&gt;
&lt;p&gt;mkdir /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/classes&lt;/p&gt;
&lt;h3 id=&#34;3-ç§»åŠ¨é…ç½®æ–‡ä»¶åˆ°classesç›®å½•&#34;&gt;3 ç§»åŠ¨é…ç½®æ–‡ä»¶åˆ°classesç›®å½•&lt;/h3&gt;
&lt;p&gt;cp IKAnalyzer.cfg.xml ext_stopword.dic mydict.dic /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/classes&lt;/p&gt;
&lt;h3 id=&#34;4-å¯ç”¨-ç¼–è¾‘é…ç½®æ–‡ä»¶&#34;&gt;4 å¯ç”¨---ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨nppç¼–è¾‘æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;1 å®‰è£…npp (ç•¥)&lt;/p&gt;
&lt;p&gt;2  å®‰è£…NppFTP(ç•¥)&lt;/p&gt;
&lt;p&gt;3 è¿æ¥æœåŠ¡å™¨ (è™)&lt;/p&gt;
&lt;p&gt;4 ç¼–è¾‘xmlæ–‡ä»¶ : /usr/soft/solr/solrhome/collection1/conf/schema.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- é…ç½®IKåˆ†è¯å™¨ --&amp;gt;
&amp;lt;fieldType name=&amp;quot;text_ik&amp;quot; class=&amp;quot;solr.TextField&amp;quot;&amp;gt;
    &amp;lt;analyzer class=&amp;quot;org.wltea.analyzer.lucene.IKAnalyzer&amp;quot;&amp;gt;&amp;lt;/analyzer&amp;gt;
&amp;lt;/fieldType&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5 é‡å¯tomcat&lt;/p&gt;
&lt;p&gt;cd /usr/soft/solr/tomcat7/bin&lt;/p&gt;
&lt;p&gt;./shutdown.sh&lt;/p&gt;
&lt;p&gt;./startup.sh&lt;/p&gt;
&lt;p&gt;6 è®¿é—®url&lt;/p&gt;
&lt;p&gt;http://192.168.25.132:8080/solr/&lt;/p&gt;
&lt;h2 id=&#34;åŸŸ&#34;&gt;åŸŸ&lt;/h2&gt;
&lt;p&gt;åŸŸ : ç›¸å½“äºæ•°æ®åº“è¡¨çš„å­—æ®µ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--
	name : æŒ‡å®šåŸŸçš„åç§°
	type : æŒ‡å®šåŸŸçš„ç±»å‹
	indexed : æ˜¯å¦ç´¢å¼•
	stored : æ˜¯å¦å­˜å‚¨
	required : æ˜¯å¦å¿…é¡»
	multiValued : æ˜¯å¦å¤šå€¼
--&amp;gt;
&amp;lt;field name=&amp;quot;id&amp;quot; type=&amp;quot;string&amp;quot; indexed=&amp;quot;true&amp;quot; stored=&amp;quot;true&amp;quot; required=&amp;quot;true&amp;quot; multiValued=&amp;quot;false&amp;quot; /&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;spring-data-solr-demo&#34;&gt;Spring Data Solr Demo&lt;/h2&gt;
&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-data-solr&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.5.5.RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ã€applicationContext-solr.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
	xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xmlns:p=&amp;quot;http://www.springframework.org/schema/p&amp;quot;
	xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
	xmlns:solr=&amp;quot;http://www.springframework.org/schema/data/solr&amp;quot;
	xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/data/solr 
  		http://www.springframework.org/schema/data/solr/spring-solr-1.0.xsd
		http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;
	&amp;lt;!-- solræœåŠ¡å™¨åœ°å€ --&amp;gt;
	&amp;lt;solr:solr-server id=&amp;quot;solrServer&amp;quot; url=&amp;quot;http://127.0.0.1:8080/solr&amp;quot; /&amp;gt;
	&amp;lt;!-- solræ¨¡æ¿ï¼Œä½¿ç”¨solræ¨¡æ¿å¯å¯¹ç´¢å¼•åº“è¿›è¡ŒCRUDçš„æ“ä½œ --&amp;gt;
	&amp;lt;bean id=&amp;quot;solrTemplate&amp;quot; class=&amp;quot;org.springframework.data.solr.core.SolrTemplate&amp;quot;&amp;gt;
		&amp;lt;constructor-arg ref=&amp;quot;solrServer&amp;quot; /&amp;gt;
	&amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€@Field æ³¨è§£&lt;/p&gt;
&lt;p&gt;ä½œç”¨ï¼šå¦‚æœåœ¨pojoä¸Šæ·»åŠ äº†è¿™ä¸ªæ³¨è§£ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§ä¼šè¢«å¼•ç”¨åˆ°solrï¼Œvalueä¸ºæŒ‡å®šsolrä¸­fieldå®šä¹‰çš„nameï¼Œå¦‚æœä¸€æ ·å¯ä»¥çœç•¥&lt;/p&gt;
&lt;p&gt;@Dynamicæ³¨è§£ï¼Œåœ¨å±æ€§ä¸Šå®šä¹‰å°±è¡¨ç¤ºæ˜¯ä¸€ä¸ªåŠ¨æ€åŸŸ&lt;/p&gt;
&lt;p&gt;4ã€æ·»åŠ &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Autowired
private SolrTemplate solrTemplate;

solrTemplate.saveBean(item);
//æ·»åŠ å¤šæ¡æ•°æ®å¯ä»¥ä½¿ç”¨saveBeans
solrTemplate.commit();//æäº¤äº‹åŠ¡
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ã€æŒ‰ä¸»é”®æŸ¥è¯¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//å‚æ•°1 ï¼šè¦æŸ¥è¯¢çš„ä¸»é”®ID
//å‚æ•°2 ï¼šè¿”å›çš„æ•°æ®ç±»å‹
solrTemplate.getById(1,TbItem.class)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6ã€æŒ‰ä¸»é”®åˆ é™¤&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;solrTemplate.deleteById(&amp;quot;1&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7ã€åˆ†é¡µæŸ¥è¯¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//æ¡ä»¶
Query query = newSimpleQuery(&amp;quot;*:*&amp;quot;);
//æŸ¥è¯¢æ¡ä»¶
Criteria criteria = new Criteria();
//and ï¼šæŸ¥è¯¢çš„åŸŸ
//contains ï¼šæŸ¥è¯¢çš„å…³é”®å­—
criteria.and(&amp;quot;item_title&amp;quot;).contains(&amp;quot;æ‰‹æœº&amp;quot;);
//å°†æŸ¥è¯¢æ¡ä»¶æ·»åŠ åˆ°queyrä¸­
query.addCriteria(criteria);
query.setOffset(0);//å¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º0ï¼Œç¿»é¡µè§„åˆ™ (pageNow - 1) * pageSize
query.setRows(20);//æ¯é¡µè®°å½•æ¡æ•°
//ScoredPage ï¼šsolrçš„åˆ†é¡µæŸ¥è¯¢
//å‚æ•°1ï¼šæŸ¥è¯¢æ¡ä»¶
//å‚æ•°2ï¼šè¿”å›ç±»å‹
ScoredPage&amp;lt;TbItem&amp;gt; page = solrTemplate.queryForPage(query,TbItem.class)
System.out.pringln(&amp;quot;æ€»è®°å½•æ•°:&amp;quot;+page.getTotalElements());
List&amp;lt;TbItem&amp;gt; list = page.getContent();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;8ã€é«˜äº®æŸ¥è¯¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Resource
private SolrTemplate solrTemplate;

@Override
public Map&amp;lt;String, Object&amp;gt; search(Map&amp;lt;String, Object&amp;gt; searchMap) {

    Map&amp;lt;String,Object&amp;gt; map = new HashMap&amp;lt;String, Object&amp;gt;();

    //è®¾ç½®æœç´¢é«˜äº®
    HighlightQuery query = new SimpleHighlightQuery();

    //è®¾ç½®é«˜äº®çš„åŸŸ
    HighlightOptions highlightOptions = new HighlightOptions().addField(&amp;quot;item_title&amp;quot;);

    //è®¾ç½®é«˜äº®å‰ç¼€
    highlightOptions.setSimplePrefix(&amp;quot;&amp;lt;em style=&#39;color:red&#39;&amp;gt;&amp;quot;);
    //è®¾ç½®é«˜äº®åç¼€
    highlightOptions.setSimplePostfix(&amp;quot;&amp;lt;/em&amp;gt;&amp;quot;);

    //è®¾ç½®é«˜äº®é€‰é¡¹
    query.setHighlightOptions(highlightOptions);

    //æŒ‰ç…§å…³é”®å­—æŸ¥è¯¢
    Criteria criteria = new Criteria(&amp;quot;item_keywords&amp;quot;).is(searchMap.get(&amp;quot;keywords&amp;quot;));

    //æ·»åŠ æ¡ä»¶
    query.addCriteria(criteria);

    //åˆ°solrä¸­æŸ¥è¯¢
    HighlightPage&amp;lt;TbItem&amp;gt; page = solrTemplate.queryForHighlightPage(query,TbItem.class);

    //å¾ªç¯é«˜äº®å…¥å£é›†åˆ
    for (HighlightEntry&amp;lt;TbItem&amp;gt; entry : page.getHighlighted()) {
        //è·å–åŸå®ä½“ç±»
        TbItem tbItem = entry.getEntity();

        //åˆ¤æ–­æ˜¯å¦æœ‰é«˜äº®å†…å®¹
        if(entry.getHighlights().size() &amp;gt; 0 &amp;amp;&amp;amp; entry.getHighlights().get(0).getSnipplets().size() &amp;gt; 0 ){
            //è®¾ç½®é«˜äº®çš„ç»“æœ
            tbItem.setTitle(entry.getHighlights().get(0).getSnipplets().get(0));
        }
    }
    map.put(&amp;quot;rows&amp;quot;,page.getContent());

    return map;
}
&lt;/code&gt;&lt;/pre&gt;
">solrå®‰è£…ä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/spring-security/"" data-c="
          &lt;h2 id=&#34;spring-securityç®€ä»‹&#34;&gt;Spring Securityç®€ä»‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Securityæ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäºSpringçš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç»„å¯ä»¥åœ¨Springåº”ç”¨ä¸Šä¸‹æ–‡ä¸­é…ç½®çš„Beanï¼Œå……åˆ†åˆ©ç”¨äº†Spring IoCï¼ŒDIï¼ˆæ§åˆ¶åè½¬Inversion of Control ,DI:Dependency Injection ä¾èµ–æ³¨å…¥ï¼‰å’ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰åŠŸèƒ½ï¼Œä¸ºåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œå‡å°‘äº†ä¸ºä¼ä¸šç³»ç»Ÿå®‰å…¨æ§åˆ¶ç¼–å†™å¤§é‡é‡å¤ä»£ç çš„å·¥ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å•æœºç‰ˆ&#34;&gt;å•æœºç‰ˆ&lt;/h2&gt;
&lt;p&gt;1.å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt; &amp;lt;!-- èº«ä»½éªŒè¯ --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-security-web&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-security-config&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;!-- more --&gt;
&lt;p&gt;2.é…ç½®æ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans:beans xmlns=&amp;quot;http://www.springframework.org/schema/security&amp;quot;
             xmlns:beans=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
             xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
             xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
						http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&amp;quot;&amp;gt;
    &amp;lt;!-- ä»¥ä¸‹é¡µé¢ä¸è¢«æ‹¦æˆª --&amp;gt;
    &amp;lt;http pattern=&amp;quot;/login.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/css/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/img/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/js/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/plugins/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;

    &amp;lt;!--
            é¡µé¢æ‹¦æˆªè§„åˆ™
                use-expressions:æ˜¯å¦å¯ç”¨spelè¡¨è¾¾å¼, å¦‚æœä¸ºtrueé‚£ä¹ˆaccess=&amp;quot;hasRole(&#39;ROLE_USER&#39;)&amp;quot;
        --&amp;gt;
    &amp;lt;!-- é¡µé¢æ‹¦æˆªè§„åˆ™ --&amp;gt;
    &amp;lt;http use-expressions=&amp;quot;false&amp;quot;&amp;gt;
        &amp;lt;!--
            pattern : æ‹¦æˆªçš„url
            access : æ‹¥æœ‰å¦‚ä¸‹æƒé™å…è®¸è®¿é—®
        --&amp;gt;
        &amp;lt;intercept-url pattern=&amp;quot;/**&amp;quot; access=&amp;quot;ROLE_ADMIN&amp;quot; /&amp;gt;
        &amp;lt;!--
            login-page : è‡ªå®šä¹‰ç™»é™†é¡µé¢
            default-target-url : ç™»é™†æˆåŠŸåè·³è½¬çš„é¡µé¢,ä¸è®¾å®šé»˜è®¤è·³è½¬ä¸Šä¸€æ¬¡è®¿é—®çš„é¡µé¢
            authentication-failure-url : ç™»é™†å¤±è´¥æ—¶è·³è½¬çš„url
            always-use-default-target : ç™»é™†æˆåŠŸå æ€»æ˜¯è·³è½¬åˆ° default-target-url è®¾å®šçš„url
        --&amp;gt;
        &amp;lt;form-login login-page=&amp;quot;/login.html&amp;quot;  default-target-url=&amp;quot;/admin/index.html&amp;quot; authentication-failure-url=&amp;quot;/login.html&amp;quot; always-use-default-target=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;csrf disabled=&amp;quot;true&amp;quot;/&amp;gt;

        &amp;lt;!--
            logout-url : é€€å‡ºçš„åœ°å€
            logout-success-url : é€€å‡ºåè·³è½¬çš„åœ°å€
        --&amp;gt;
        &amp;lt;logout logout-url=&amp;quot;/logout&amp;quot; logout-success-url=&amp;quot;/login.html&amp;quot;/&amp;gt;
        &amp;lt;!--
            å¦‚æœä½¿ç”¨äº†iframe,éœ€è¦æŒ‡å®šæ¡†æ¶é¡µçš„ç­–ç•¥ä¸º SAMEORIGIN
        --&amp;gt;
        &amp;lt;headers&amp;gt;
            &amp;lt;frame-options policy=&amp;quot;SAMEORIGIN&amp;quot;/&amp;gt;  &amp;lt;!--å…è®¸ä½¿ç”¨frameset --&amp;gt;
        &amp;lt;/headers&amp;gt;
    &amp;lt;/http&amp;gt;

    &amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;
    &amp;lt;authentication-manager&amp;gt;
        &amp;lt;authentication-provider&amp;gt;
            &amp;lt;user-service&amp;gt;
                &amp;lt;!--ç”¨æˆ·åå’Œå¯†ç ,æƒé™--&amp;gt;
                &amp;lt;user name=&amp;quot;root&amp;quot; password=&amp;quot;root&amp;quot; authorities=&amp;quot;ROLE_ADMIN&amp;quot;/&amp;gt;
            &amp;lt;/user-service&amp;gt;
        &amp;lt;/authentication-provider&amp;gt;
    &amp;lt;/authentication-manager&amp;gt;

&amp;lt;/beans:beans&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3.é…ç½®web.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;context-param&amp;gt;
    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
    &amp;lt;param-value&amp;gt;classpath:spring/spring-security.xml&amp;lt;/param-value&amp;gt;
&amp;lt;/context-param&amp;gt;
&amp;lt;listener&amp;gt;
    &amp;lt;listener-class&amp;gt;
        org.springframework.web.context.ContextLoaderListener
    &amp;lt;/listener-class&amp;gt;
&amp;lt;/listener&amp;gt;
&amp;lt;filter&amp;gt;
    &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;
    &amp;lt;filter-class&amp;gt;org.springframework.web.filter.DelegatingFilterProxy&amp;lt;/filter-class&amp;gt;
&amp;lt;/filter&amp;gt;
&amp;lt;filter-mapping&amp;gt;
    &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
&amp;lt;/filter-mapping&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è¿æ¥æ•°æ®åº“&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/h2&gt;
&lt;p&gt;1.å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;p&gt;2.å®ç°UserDetailsServiceæ¥å£&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.jd.shop.service.impl;

import com.jd.pojo.TbSeller;
import com.jd.sellergoods.service.TbSellerService;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;

import java.util.ArrayList;
import java.util.List;

/**
 * è®¤è¯ç±»
 * @program: jd
 * @author: æ½˜
 * @create: 2020-04-29 22:43
 **/
public class UserDetailsServiceImpl implements UserDetailsService{

    private TbSellerService tbSellerService;

    public void setTbSellerService(TbSellerService tbSellerService) {
        this.tbSellerService = tbSellerService;
    }

    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {

        if(username == null){
            return null;
        }

        TbSeller byId = tbSellerService.findById(username);

        if(byId == null){
            return null;
        }

        //æ„å»ºè§’è‰²åˆ—è¡¨
        List&amp;lt;GrantedAuthority&amp;gt; list = new ArrayList&amp;lt;&amp;gt;();

        //ç”¨æˆ·çš„æƒé™é›†åˆ
        list.add(new SimpleGrantedAuthority(&amp;quot;ROLE_USER&amp;quot;));

        return new User(username,byId.getPassword(),list);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3.é…ç½®æ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans:beans xmlns=&amp;quot;http://www.springframework.org/schema/security&amp;quot;
             xmlns:beans=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
             xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
             xmlns:dubbo=&amp;quot;http://code.alibabatech.com/schema/dubbo&amp;quot;
             xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
						http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&amp;quot;&amp;gt;
    &amp;lt;!-- ä»¥ä¸‹é¡µé¢ä¸è¢«æ‹¦æˆª --&amp;gt;
    &amp;lt;http pattern=&amp;quot;/login.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/css/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/img/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/js/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/plugins/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
    &amp;lt;http pattern=&amp;quot;/*.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;
&amp;lt;!--    &amp;lt;http pattern=&amp;quot;/login&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;--&amp;gt;

    &amp;lt;!--
            é¡µé¢æ‹¦æˆªè§„åˆ™
                use-expressions:æ˜¯å¦å¯ç”¨spelè¡¨è¾¾å¼, å¦‚æœä¸ºtrueé‚£ä¹ˆaccess=&amp;quot;hasRole(&#39;ROLE_USER&#39;)&amp;quot;
        --&amp;gt;
    &amp;lt;!-- é¡µé¢æ‹¦æˆªè§„åˆ™ --&amp;gt;
    &amp;lt;http use-expressions=&amp;quot;false&amp;quot;&amp;gt;
        &amp;lt;!--
            pattern : æ‹¦æˆªçš„url
            access : æ‹¥æœ‰å¦‚ä¸‹æƒé™å…è®¸è®¿é—®
        --&amp;gt;
        &amp;lt;intercept-url pattern=&amp;quot;/**&amp;quot; access=&amp;quot;ROLE_USER&amp;quot; /&amp;gt;
        &amp;lt;!--
            login-page : è‡ªå®šä¹‰ç™»é™†é¡µé¢
            default-target-url : ç™»é™†æˆåŠŸåè·³è½¬çš„é¡µé¢,ä¸è®¾å®šé»˜è®¤è·³è½¬ä¸Šä¸€æ¬¡è®¿é—®çš„é¡µé¢
            authentication-failure-url : ç™»é™†å¤±è´¥æ—¶è·³è½¬çš„url
            always-use-default-target : ç™»é™†æˆåŠŸå æ€»æ˜¯è·³è½¬åˆ° default-target-url è®¾å®šçš„url
        --&amp;gt;
        &amp;lt;form-login login-processing-url=&amp;quot;/login&amp;quot; login-page=&amp;quot;/shoplogin.html&amp;quot;  default-target-url=&amp;quot;/admin/index.html&amp;quot; authentication-failure-url=&amp;quot;/shoplogin.html&amp;quot; always-use-default-target=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;csrf disabled=&amp;quot;true&amp;quot;/&amp;gt;

        &amp;lt;!--
            logout-url : é€€å‡ºçš„åœ°å€
            logout-success-url : é€€å‡ºåè·³è½¬çš„åœ°å€
        --&amp;gt;
        &amp;lt;logout logout-url=&amp;quot;/logout&amp;quot; logout-success-url=&amp;quot;/shoplogin.html&amp;quot;/&amp;gt;
        &amp;lt;!--
            å¦‚æœä½¿ç”¨äº†iframe,éœ€è¦æŒ‡å®šæ¡†æ¶é¡µçš„ç­–ç•¥ä¸º SAMEORIGIN
        --&amp;gt;
        &amp;lt;headers&amp;gt;
            &amp;lt;frame-options policy=&amp;quot;SAMEORIGIN&amp;quot;/&amp;gt;  &amp;lt;!--å…è®¸ä½¿ç”¨frameset --&amp;gt;
        &amp;lt;/headers&amp;gt;
    &amp;lt;/http&amp;gt;

    &amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;
    &amp;lt;authentication-manager&amp;gt;
        &amp;lt;authentication-provider user-service-ref=&amp;quot;userDetailsServiceImpl&amp;quot;/&amp;gt;
    &amp;lt;/authentication-manager&amp;gt;

    &amp;lt;!-- å¼•ç”¨dubbo æœåŠ¡ --&amp;gt;
    &amp;lt;dubbo:application name=&amp;quot;jd-shop-web&amp;quot; /&amp;gt;
    &amp;lt;dubbo:registry address=&amp;quot;zookeeper://47.98.157.69:2181&amp;quot; timeout=&amp;quot;30000&amp;quot;/&amp;gt;
    &amp;lt;dubbo:annotation package=&amp;quot;com.jd.shop.controller&amp;quot; /&amp;gt;
    
    &amp;lt;dubbo:reference interface=&amp;quot;com.jd.sellergoods.service.TbSellerService&amp;quot; id=&amp;quot;tbSellerService&amp;quot;/&amp;gt;

    &amp;lt;beans:bean id=&amp;quot;userDetailsServiceImpl&amp;quot; class=&amp;quot;com.jd.shop.service.impl.UserDetailsServiceImpl&amp;quot;&amp;gt;
        &amp;lt;beans:property name=&amp;quot;tbSellerService&amp;quot; ref=&amp;quot;tbSellerService&amp;quot;/&amp;gt;
    &amp;lt;/beans:bean&amp;gt;

&amp;lt;/beans:beans&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4.é…ç½®web.xmlæ–‡ä»¶&lt;/p&gt;
&lt;h2 id=&#34;brcyåŠ å¯†&#34;&gt;BrcyåŠ å¯†&lt;/h2&gt;
&lt;p&gt;1.ç¼–å†™java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();
String encode = passwordEncoder.encode(tbSeller.getPassword());
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.ç¼–å†™é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;
&amp;lt;authentication-manager&amp;gt;
    &amp;lt;authentication-provider user-service-ref=&amp;quot;userDetailsServiceImpl&amp;quot;&amp;gt;
        &amp;lt;!-- è¿™å¥è¯è¡¨ç¤ºåœ¨ç™»é™†æ—¶ä½¿ç”¨bcryåŠ å¯†éªŒè¯ --&amp;gt;
        &amp;lt;password-encoder ref=&amp;quot;bCryptPasswordEncoder&amp;quot;/&amp;gt;
    &amp;lt;/authentication-provider&amp;gt;
&amp;lt;/authentication-manager&amp;gt;
&amp;lt;!--é…ç½®åŠ å¯†,åœ¨è®¤è¯ç®¡ç†å™¨ä¸­å¼•ç”¨--&amp;gt;
&amp;lt;beans:bean id=&amp;quot;bCryptPasswordEncoder&amp;quot; class=&amp;quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®°ä½æˆ‘&#34;&gt;è®°ä½æˆ‘&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;input value=&amp;quot;1&amp;quot; name=&amp;quot;remember-me&amp;quot;/&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
">Spring-Security</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/mybatis/"" data-c="
          &lt;h1 id=&#34;å¿«é€Ÿå¼€å§‹&#34;&gt;å¿«é€Ÿå¼€å§‹&lt;/h1&gt;
&lt;h2 id=&#34;1-mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶&#34;&gt;1ã€MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE configuration
  PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;
&amp;lt;configuration&amp;gt;
  &amp;lt;!-- é…ç½®æ•°æ®æº --&amp;gt;
  &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;
    &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;
     &amp;lt;!--äº‹åŠ¡å¤„ç†æ–¹å¼--&amp;gt;
      &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;
      &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;com.mysql.jdbc.Driver&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;jdbc:mysql://localhost:3306/mybatis&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;root&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;root&amp;quot;/&amp;gt;
      &amp;lt;/dataSource&amp;gt;
    &amp;lt;/environment&amp;gt;
  &amp;lt;/environments&amp;gt;
&amp;lt;!--æ˜ å°„å™¨ï¼šæ¯ä¸€ä¸ªMapperæ¥å£éƒ½åº”è¯¥åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶&amp;lt;mappers&amp;gt;æ ‡ç­¾ä¸­æ³¨å†Œ--&amp;gt;
  &amp;lt;mappers&amp;gt;
  	&amp;lt;!--ä½¿ç”¨XMLé…ç½®æ–‡ä»¶æ³¨å†Œ--&amp;gt;
    &amp;lt;mapper resource=&amp;quot;com/cn/mybatis/dao/IcpInfoMapper.xml&amp;quot;/&amp;gt;
    &amp;lt;!--ä½¿ç”¨ç±»æ³¨å†Œæ–¹å¼--&amp;gt;
    &amp;lt;mapper class=&amp;quot;com.cn.mybatis.dao.IcpInfoMapper&amp;quot; /&amp;gt;
  &amp;lt;/mappers&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-ormæ˜ å°„æ–‡ä»¶mapperxml&#34;&gt;2ã€ORMæ˜ å°„æ–‡ä»¶mapper.xml&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;!-- è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸»è¦æ˜¯é…ç½®å®ä½“ç±»å’Œæ•°æ®åº“ä¸­çš„è¡¨æ˜ å°„å…³ç³» --&amp;gt;
&amp;lt;!-- mapperï¼šæ˜ å°„ä¿¡æ¯é…ç½® namesapce:å¦‚æœæ˜¯åœ¨ibatisçš„å¼€å‘ä¸­ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯åœ¨mybatisä¸­å°†æœ‰ç‰¹æ®Šçš„æ„ä¹‰ --&amp;gt;
&amp;lt;mapper namespace=&amp;quot;test&amp;quot;&amp;gt;
	&amp;lt;!-- æŸ¥è¯¢æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ select:ä¸“é—¨ç”¨äºæŸ¥è¯¢çš„statement
	     id:æ˜¯statementçš„å”¯ä¸€æ ‡è¯†ç¬¦
	     resultType:è¿”å›å€¼å¾—ç±»å‹ï¼ˆè·Ÿè¿”å›çš„ä¸ªæ•°æ— å…³ï¼‰ï¼Œå°†è¿”å›ç±»å‹çš„å…¨é™å®šåå†™åˆ°è¿™é‡Œ
	 --&amp;gt;
	&amp;lt;select id=&amp;quot;selectAllBooks&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Book&amp;quot;&amp;gt;
		select * from book
	&amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-æ—¥å¿—æ–‡ä»¶&#34;&gt;3ã€æ—¥å¿—æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;log4j.properties&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;log4j.rootLogger=DEBUG,A1
log4j.logger.org.mybatis=DEBUG
log4j.appender.A1=org.apache.log4j.ConsoleAppender
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%-d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%c]-[%p] %m%n
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-æµ‹è¯•&#34;&gt;4ã€æµ‹è¯•&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//æŸ¥è¯¢å…¨éƒ¨
@Test
public void testFindAll() throws Exception{
    //é€šè¿‡æµçš„æ–¹å¼è¯»å–é…ç½®æ–‡ä»¶
    InputStream inputStream = Resources.getResourceAsStream(&amp;quot;mybatis-config.xml&amp;quot;);
    //1.è¯»å–é…ç½®æ–‡ä»¶,å¾—åˆ°SqlSessionFactory
    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream );
    //2.åˆ›å»ºSqlSession
    SqlSession sqlSession = sqlSessionFactory.openSession();
    //3.æŸ¥è¯¢æ‰€æœ‰(å‚æ•°ï¼šæ˜¯namespace.statementId)
    List&amp;lt;Book&amp;gt; list = sqlSession.selectList(&amp;quot;test.selectAllBooks&amp;quot;);
    System.out.println(list);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;propertieså±æ€§&#34;&gt;propertieså±æ€§&lt;/h1&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå¤–éƒ¨çš„propertiesæ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;jdbc.dirver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;amp;characterEncoding=utf-8
jdbc.username=root
jdbc.password=root
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•ç”¨propertiesæ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;properties resource=&amp;quot;jdbc.properties&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;${jdbc.dirver}
${jdbc.url}
${jdbc.username}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;settings&#34;&gt;settings&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;mapUnderscoreToCamelCase&lt;/code&gt;:å¼€å¯é©¼å³°å‘½åï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆæ•°æ®åº“çš„ç»å…¸å‘½åè§„åˆ™ï¼Œåˆ°javaçš„ç»å…¸å‘½åè§„åˆ™ï¼ˆé©¼å³°å‘½åå‘ï¼‰&lt;/p&gt;
&lt;p&gt;å¦‚ï¼šæ•°æ®åº“å«user_name  åˆ°javaç±»ï¼ˆ&lt;code&gt;pojo&lt;/code&gt;ï¼‰ä¸­æ˜¯&lt;code&gt;userName&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;settings&amp;gt;
    &amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;
    &amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
    &amp;lt;!--æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚
	æ—¥å¿—ç±»å‹ï¼š
	STDOUT_LOGGING ä¸éœ€è¦å¯¼å…¥jaråŒ…ï¼Œå› ä¸ºæ˜¯mybatisè‡ªå¸¦
	NO_LOGGING ä»£è¡¨ä¸éœ€è¦æ—¥å¿—è¾“å‡º
	SLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING
 	--&amp;gt;
    &amp;lt;setting name=&amp;quot;logImpl&amp;quot; value=&amp;quot;STDOUT_LOGGING&amp;quot;/&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ†ææ—¥å¿—è¾“å‡º&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;MyBatis.assets%5Cimage-20200307124719177.png&#34; alt=&#34;image-20200307124719177&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;typealiasesç±»å‹åˆ«å&#34;&gt;typeAliasesï¼ˆç±»å‹åˆ«åï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰åˆ«å&#34;&gt;è‡ªå®šä¹‰åˆ«å&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--åˆ«åï¼Œç”¨äºç®€åŒ–--&amp;gt;
&amp;lt;typeAliases&amp;gt;
    &amp;lt;!--typeï¼šåŒ…+ç±»åï¼Œaliasï¼šåˆ«å--&amp;gt;
    &amp;lt;typeAlias type=&amp;quot;com.cn.mybatis.entity.IcpInfo&amp;quot; alias=&amp;quot;Icp&amp;quot; /&amp;gt;
    &amp;lt;!--ä½¿ç”¨åŒ…çš„æ–¹å¼
		æ¯ä¸€ä¸ªåœ¨åŒ… domain.blog ä¸­çš„ Java Beanï¼Œåœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹
		ä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«å
		(è¿™å¥è¯æ„æ€æ˜¯ï¼š@Alias(&amp;quot;author&amp;quot;)
		åœ¨ä½¿ç”¨åŒ…æ–¹å¼æ—¶ï¼ŒjavaBeanæ²¡æœ‰æ·»åŠ æ³¨è§£æŒ‡å®šåˆ«åæ—¶è‡ªåŠ¨ä½¿ç”¨ç±»å{é¦–å­—æ¯å°å†™})
	--&amp;gt;
    &amp;lt;package name=&amp;quot;com.cn.mybatis.entity&amp;quot;/&amp;gt;
&amp;lt;/typeAliases&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;pluginsæ’ä»¶&#34;&gt;pluginsï¼ˆæ’ä»¶ï¼‰&lt;/h1&gt;
&lt;h1 id=&#34;xmlæ˜ å°„&#34;&gt;XMLæ˜ å°„&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cache&lt;/code&gt; â€“ å¯¹ç»™å®šå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cache-ref&lt;/code&gt; â€“ å¯¹å…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resultMap&lt;/code&gt; â€“ æ˜¯æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å…ƒç´ ï¼Œç”¨æ¥æè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;parameterMap&lt;/code&gt; â€“ å·²è¢«åºŸå¼ƒï¼è€å¼é£æ ¼çš„å‚æ•°æ˜ å°„ã€‚æ›´å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨å†…è”å‚æ•°ï¼Œæ­¤å…ƒç´ å¯èƒ½åœ¨å°†æ¥è¢«ç§»é™¤ã€‚æ–‡æ¡£ä¸­ä¸ä¼šä»‹ç»æ­¤å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sql&lt;/code&gt; â€“ å¯è¢«å…¶ä»–è¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;insert&lt;/code&gt; â€“ æ˜ å°„æ’å…¥è¯­å¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;update&lt;/code&gt; â€“ æ˜ å°„æ›´æ–°è¯­å¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;delete&lt;/code&gt; â€“ æ˜ å°„åˆ é™¤è¯­å¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;select&lt;/code&gt; â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;select-æŸ¥è¯¢è¯­å¥&#34;&gt;select æŸ¥è¯¢è¯­å¥&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--
	idï¼šä¸€èˆ¬å’ŒMepperæ¥å£çš„æ–¹æ³•åç§°ç›¸åŒï¼Œåœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚
	parameterTypeï¼šæ¥æ”¶ä¸€ä¸ªintç±»å‹çš„å‚æ•°
		æ¥æ”¶å‚æ•°ä½¿ç”¨#{ }åŒ…è£¹ç€ï¼Œè¿™ä¸ªå‚æ•°å¯¹åº”ç€æ¥å£çš„å‚æ•°
	resultTypeï¼šè¿”å›ä¸€ä¸ªhashmap ç±»å‹çš„æ•°æ®

--&amp;gt;
&amp;lt;select id=&amp;quot;selectPerson&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;hashmap&amp;quot;&amp;gt;
  SELECT * FROM PERSON WHERE ID = #{id}
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;insert-updatea-delete&#34;&gt;insert updatea delete&lt;/h2&gt;
&lt;p&gt;åœ¨ä½¿ç”¨è¿™äº›è¯­å¥çš„æ—¶å€™éœ€è¦æäº¤äº‹åŠ¡ï¼šsession.commit();&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfo&amp;quot; parameterType=&amp;quot;icpInfo&amp;quot; &amp;gt;
    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values (#{icp}, #{name}, #{address}, #{home}, #{introduce}, #{author}, #{email}, #{date}, #{type})
&amp;lt;/insert&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–æ’å…¥æ•°æ®åçš„ä¸»é”®idï¼šuseGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfo&amp;quot; useGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&amp;gt;
    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values (#{icp}, #{name}, #{address}, #{home}, #{introduce}, #{author}, #{email}, #{date}, #{type})
&amp;lt;/insert&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ’å…¥å¤šæ¡æ•°æ®ï¼šä¼ å…¥ä¸€ä¸ª æ•°ç»„æˆ–é›†åˆï¼Œå¹¶è¿”å›è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfoList&amp;quot; useGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&amp;gt;
    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values
    &amp;lt;foreach collection=&amp;quot;list&amp;quot; item=&amp;quot;item&amp;quot; separator=&amp;quot;,&amp;quot;&amp;gt;
        (#{item.icp}, #{item.name}, #{item.address}, #{item.home}, #{item.introduce}, #{item.author}, #{item.email}, #{item.date}, #{item.type})
    &amp;lt;/foreach&amp;gt;
&amp;lt;/insert&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;åŠ¨æ€sql&#34;&gt;åŠ¨æ€SQL&lt;/h1&gt;
&lt;h2 id=&#34;if&#34;&gt;if&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;å¯¹äºè¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojoç±»å‹ï¼š
#{pojoä¸­çš„å±æ€§å}   ${pojoä¸­çš„å±æ€§å}
&amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;
    and grade_id = #{gradeId}
&amp;lt;/if&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sqlæ³¨å…¥çš„é—®é¢˜&#34;&gt;sqlæ³¨å…¥çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;åœ¨ä½¿ç”¨${}ä¼šå‡ºç°&lt;code&gt;sql&lt;/code&gt;æ³¨å…¥çš„é—®é¢˜ï¼ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ä½¿ç”¨é¢„ç¼–è¯‘ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;å¦‚æœä¸ºç®€å•æ•°æ®ç±»å‹éœ€è¦æŠŠnameæ¢æˆ_parameter
&amp;lt;bind name=&amp;quot;n&amp;quot; value=&amp;quot;&#39;%&#39;+name+&#39;%&#39;&amp;quot;/&amp;gt;
and name like #{n}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;when&#34;&gt;when&lt;/h2&gt;
&lt;p&gt;åº”ç”¨åœºæ™¯ï¼šå¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®æ¡ä»¶æŸ¥è¯¢ï¼Œå¹¶ä¸”å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶å‰é¢æœ‰andï¼Œwhereå­å¥ä¼šè‡ªåŠ¨æŠŠè¿™ä¸ªandåˆ é™¤å†ä½œä¸ºsqlè¯­å¥è¿è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;select id=&amp;quot;findStudentByLike&amp;quot; resultType=&amp;quot;student&amp;quot; parameterType=&amp;quot;student&amp;quot;&amp;gt;
    select * from student
    &amp;lt;where&amp;gt;
        &amp;lt;if test=&amp;quot;name != null and name != &#39;&#39;&amp;quot;&amp;gt;
            &amp;lt;bind name=&amp;quot;n&amp;quot; value=&amp;quot;&#39;%&#39;+name+&#39;%&#39;&amp;quot;/&amp;gt;
            and name like #{n}
        &amp;lt;/if&amp;gt;
        &amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;
            and grade_id = #{gradeId}
        &amp;lt;/if&amp;gt;
    &amp;lt;/where&amp;gt;
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;choose&#34;&gt;choose&lt;/h2&gt;
&lt;p&gt;å…¶å®å°±æ˜¯javaä¸­çš„switch  æˆ–è€… if...else if ...else&lt;/p&gt;
&lt;h2 id=&#34;set&#34;&gt;set&lt;/h2&gt;
&lt;p&gt;setæ ‡ç­¾ä½œç”¨ï¼šèƒ½è‡ªåŠ¨çš„åˆ¤æ–­æ˜¯å¦åœ¨sqlè¯­å¥çš„ç»“å°¾å¤„æ˜¯å¦è¦æ·»åŠ é€—å·ï¼Œå¦‚æœä¸éœ€è¦é€—å·å®ƒè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ é™¤&lt;/p&gt;
&lt;p&gt;(å’Œwhereä¸€æ ·ä¸ä¼šè‡ªåŠ¨æ·»åŠ )&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;update id=&amp;quot;updateStudentByById&amp;quot; parameterType=&amp;quot;student&amp;quot;&amp;gt;
    update student
    &amp;lt;set&amp;gt;
        &amp;lt;if test=&amp;quot;name != null&amp;quot;&amp;gt;
            name = #{name},
        &amp;lt;/if&amp;gt;
        &amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;
            grade_id = #{gradeId}
        &amp;lt;/if&amp;gt;
    &amp;lt;/set&amp;gt;
    where id = #{id}
&amp;lt;/update&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;foreach&#34;&gt;foreach&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;select id=&amp;quot;findStudentsById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;student&amp;quot;&amp;gt;
        select * from student where id in
        &amp;lt;foreach collection=&amp;quot;list&amp;quot; open=&amp;quot;(&amp;quot; separator=&amp;quot;,&amp;quot; close=&amp;quot;)&amp;quot; item=&amp;quot;item&amp;quot;&amp;gt;
            #{item}
        &amp;lt;/foreach&amp;gt;
    &amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;sqlç‰‡æ®µ&#34;&gt;SQLç‰‡æ®µ&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;sql id=&amp;quot;sql&amp;quot;&amp;gt;
    select * from student
&amp;lt;/sql&amp;gt;
è°ƒç”¨
&amp;lt;include refid=&amp;quot;sql&amp;quot;&amp;gt;&amp;lt;/include&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å¤šè¡¨è”åˆæŸ¥è¯¢&#34;&gt;å¤šè¡¨è”åˆæŸ¥è¯¢&lt;/h1&gt;
&lt;h2 id=&#34;vo&#34;&gt;VO&lt;/h2&gt;
&lt;p&gt;è§£å†³æ€è·¯ï¼šè¦æ±‚è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœ&lt;code&gt;pojo&lt;/code&gt;ä¸èƒ½æ»¡è¶³(è¦è¿”å›çš„åˆ—ä¸å­˜åœ¨&lt;code&gt;pojo&lt;/code&gt;ä¸­)ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªVOå¯¹è±¡ï¼Œè¿™ä¸ªVOå¯¹è±¡ä¸­åŒ…å«äº†æ‰€æœ‰è¦è¿”å›çš„å­—æ®µ&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»ºä¸€ä¸ªvo&#34;&gt;åˆ›å»ºä¸€ä¸ªVO&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package cn.kgc.vo;

import cn.kgc.pojo.Student;
//ç»§æ‰¿çš„åŸåˆ™ï¼šè¦è¿”å›çš„å­—æ®µå“ªä¸ªpojoä¸­å¤šï¼Œé‚£ä¹ˆå°±ç»§æ‰¿å“ªä¸ªpojo
public class StudentVO extends Student{
	private String gradeName;

	public String getGradeName() {
		return gradeName;
	}

	public void setGradeName(String gradeName) {
		this.gradeName = gradeName;
	}	
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼–å†™mapperæ¥å£&#34;&gt;ç¼–å†™mapperæ¥å£&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public interface StudentMapper {
	/**
	 * æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼Œè¦æ±‚å±•ç¤ºå­¦ç”Ÿä¿¡æ¯ä¸­å¹´çº§åç§°(è”åˆæŸ¥è¯¢)
	 */
	List&amp;lt;StudentVO&amp;gt; getStudentVO();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼–å†™mapperxml&#34;&gt;ç¼–å†™mapper.xml&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;select id=&amp;quot;getStudentVO&amp;quot; resultType=&amp;quot;cn.kgc.vo.StudentVO&amp;quot;&amp;gt;
	SELECT s.*,g.name gradeName FROM student s,grade g WHERE s.grade_id=g.id
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸€å¯¹ä¸€&#34;&gt;ä¸€å¯¹ä¸€&lt;/h2&gt;
&lt;h3 id=&#34;æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†&#34;&gt;æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;resultMap id=&amp;quot;IcpInfoType&amp;quot; type=&amp;quot;icpInfo&amp;quot;&amp;gt;
&amp;lt;!-- propertyï¼šå®ä½“ç±»çš„å¯¹è±¡å±æ€§åï¼Œ
	columnï¼šæ•°æ®åº“ä¸­å…³è”çš„åˆ—ï¼Œ
	javaTypeï¼šå®ä½“ç±»å¯¹è±¡ï¼Œ
	selectï¼šä¸€ä¸ªsqlè¯­å¥æŸ¥è¯¢çš„æ˜¯å®ä½“å¯¹è±¡çš„sql
--&amp;gt;
    &amp;lt;association property=&amp;quot;type&amp;quot; column=&amp;quot;type&amp;quot; javaType=&amp;quot;type&amp;quot; select=&amp;quot;getTypeList&amp;quot; /&amp;gt;
&amp;lt;/resultMap&amp;gt;
&amp;lt;select id=&amp;quot;getList&amp;quot; resultMap=&amp;quot;IcpInfoType&amp;quot;&amp;gt;
    select * from icpinfo
&amp;lt;/select&amp;gt;
&amp;lt;!--è¿™ä¸ªtypeID è·å–çš„æ˜¯ column=&amp;quot;type&amp;quot; è¿™ä¸ªåˆ—çš„å€¼--&amp;gt;
&amp;lt;select id=&amp;quot;getTypeList&amp;quot; resultType=&amp;quot;type&amp;quot; &amp;gt;
    select * from type where tid = #{id}
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†&#34;&gt;æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;select id=&amp;quot;getList2&amp;quot; resultMap=&amp;quot;getList2&amp;quot; &amp;gt;
    select icp, name, address, home, introduce, author, email, `date`, type, tid, tname from icpinfo i ,type t
    where i.type = t.tid
&amp;lt;/select&amp;gt;
&amp;lt;!--type = è¦æŸ¥è¯¢çš„å¯¹è±¡--&amp;gt;
&amp;lt;resultMap id=&amp;quot;getList2&amp;quot; type=&amp;quot;icpInfo&amp;quot; &amp;gt;
    &amp;lt;!--property=å®ä½“ç±»çš„å±æ€§å column=åˆ—åoråˆ«å--&amp;gt;
    &amp;lt;result property=&amp;quot;icp&amp;quot; column=&amp;quot;icp&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;name&amp;quot; column=&amp;quot;name&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;address&amp;quot; column=&amp;quot;address&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;home&amp;quot; column=&amp;quot;home&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;introduce&amp;quot; column=&amp;quot;introduce&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;author&amp;quot; column=&amp;quot;author&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;email&amp;quot; column=&amp;quot;email&amp;quot; /&amp;gt;
    &amp;lt;result property=&amp;quot;date&amp;quot; column=&amp;quot;date&amp;quot; /&amp;gt;
    &amp;lt;!--å¤æ‚ç±»å‹
		property=åœ¨icpInfoé‡Œçš„å±æ€§æ˜¯type
		javaType=typeçš„å¯¹è±¡
	--&amp;gt;
    &amp;lt;association property=&amp;quot;type&amp;quot; javaType=&amp;quot;type&amp;quot; &amp;gt;
        &amp;lt;result property=&amp;quot;tid&amp;quot; column=&amp;quot;tid&amp;quot; /&amp;gt;
        &amp;lt;result property=&amp;quot;tname&amp;quot; column=&amp;quot;tname&amp;quot; /&amp;gt;
    &amp;lt;/association&amp;gt;
&amp;lt;/resultMap&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸€å¯¹å¤š&#34;&gt;ä¸€å¯¹å¤š&lt;/h2&gt;
&lt;p&gt;ä¸€å¯¹å¤šåªéœ€è¦æŠŠassociationæ¢æˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--ofType=&amp;quot;&amp;quot;
	é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯
--&amp;gt;
&amp;lt;collection property=&amp;quot;&amp;quot; ofType=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/collection&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.GradeMapper&amp;quot;&amp;gt;
	&amp;lt;!-- æŸ¥è¯¢å¹´çº§ï¼ŒæŠŠå±äºè¿™ä¸ªå¹´çº§çš„æ‰€æœ‰å­¦ç”ŸæŸ¥è¯¢å‡ºæ¥ --&amp;gt;
	&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Grade&amp;quot; id=&amp;quot;gradeStudentMap&amp;quot;&amp;gt;
		&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
		&amp;lt;!-- collection:ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»
			property:è¡¨ç¤ºä¸€å¯¹å¤šæ˜ å°„å…³ç³»åœ¨pojoä¸­çš„å±æ€§å
			ofType:è¡¨ç¤ºè¯¥é›†åˆçš„æ³›å‹çš„å…¨é™å®šå
		 --&amp;gt;
		&amp;lt;collection property=&amp;quot;studentList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.Student&amp;quot;&amp;gt;
			&amp;lt;id column=&amp;quot;sid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
			&amp;lt;result column=&amp;quot;sname&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
			&amp;lt;!-- gradeidå› ä¸ºåœ¨gradeä¸­å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å†é…ç½® --&amp;gt;
		&amp;lt;/collection&amp;gt;
	&amp;lt;/resultMap&amp;gt;
	
	&amp;lt;select id=&amp;quot;getGradeById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultMap=&amp;quot;gradeStudentMap&amp;quot;&amp;gt;
		SELECT 
		  g.*,
		  s.id sid,
		  s.name sname
		FROM
		  grade g,
		  student s 
		WHERE g.id = s.grade_id 
		  AND g.id = #{id}
	&amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¤šå¯¹å¤š&#34;&gt;å¤šå¯¹å¤š&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;
	&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Student&amp;quot; id=&amp;quot;studentMap&amp;quot;&amp;gt;
		&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;grade_id&amp;quot; property=&amp;quot;gradeId&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
		&amp;lt;!-- ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³» --&amp;gt;
		&amp;lt;collection property=&amp;quot;studentCourseList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.StudentCourse&amp;quot;&amp;gt;
			&amp;lt;id column=&amp;quot;scid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
			&amp;lt;!-- studentCourseå’Œcourseæ˜¯ä¸€å¯¹ä¸€çš„æ˜ å°„ä¿„å…³ç³» --&amp;gt;
			&amp;lt;association property=&amp;quot;course&amp;quot; javaType=&amp;quot;cn.kgc.pojo.Course&amp;quot;&amp;gt;
				&amp;lt;id column=&amp;quot;cid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
				&amp;lt;result column=&amp;quot;cname&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
			&amp;lt;/association&amp;gt;
		&amp;lt;/collection&amp;gt;
	&amp;lt;/resultMap&amp;gt;

	&amp;lt;select id=&amp;quot;getStudentById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultMap=&amp;quot;studentMap&amp;quot;&amp;gt;
	SELECT 
	  s.*,
	  sc.id scid,
	  c.id cid,
	  c.name cname 
	FROM
	  student s,
	  student_course sc,
	  course c 
	WHERE s.id = sc.sid 
	  AND c.id = sc.cid 
	  AND s.id = #{id}
	&amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å»¶è¿ŸåŠ è½½&#34;&gt;å»¶è¿ŸåŠ è½½&lt;/h1&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯æ‡’åŠ è½½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;æ‡’åŠ è½½ï¼šå°±æ˜¯åœ¨éœ€è¦æ•°æ®çš„æ—¶å€™æ‰åŠ è½½ï¼Œä¸éœ€è¦æ•°æ®çš„æ—¶å€™ä¸åŠ è½½ï¼Œè¿™æ ·æœ‰åˆ©äºç³»ç»Ÿæ€§èƒ½çš„æå‡ï¼Œè¿™å°±æ˜¯æ‡’åŠ è½½ï¼ˆä¹Ÿå«åšå»¶è¿ŸåŠ è½½ï¼‰

å¥½å¤„ï¼šåœ¨å…³è”æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ ¹æ®éœ€æ±‚è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œå¤§å¤§æé«˜äº†æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ã€‚ï¼ˆå•è¡¨çš„æŸ¥è¯¢æ•ˆç‡æ°¸è¿œè¦æ¯”å¤šè¡¨è”åˆæŸ¥è¯¢çš„æ•ˆç‡é«˜ï¼‰

åå¤„ï¼šå› ä¸ºéœ€è¦ç”¨åˆ°æ•°æ®çš„æ—¶å€™æ‰å»åšæŸ¥è¯¢ï¼Œè¿™æ ·å¤§æ‰¹é‡çš„æ•°æ®æŸ¥è¯¢çš„æ—¶å€™ç­‰å¾…æ—¶é—´ä¼šå˜å¾—æ›´é•¿ï¼Œé€ æˆç”¨æˆ·çš„ä½“éªŒä¸‹é™
(select * from student)ä¼šæŠŠæ‰€æœ‰çš„å­¦ç”Ÿçš„å¹´çº§ç¼–å·ä¹Ÿåœ¨é‡Œé¢
çªç„¶è¦æŸ¥è¯¢å¹´çº§ä¿¡æ¯ï¼Œå®ƒåº•å±‚æ“ä½œæ˜¯ï¼šæ ¹æ®å¹´çº§idä¸€ä¸ªä¸€ä¸ªå»æ‰§è¡ŒæŸ¥è¯¢
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä½¿ç”¨associationå®ç°æ‡’åŠ è½½&#34;&gt;ä½¿ç”¨&lt;code&gt;association&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/h2&gt;
&lt;h3 id=&#34;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt; &amp;lt;settings&amp;gt;
  	&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
  	&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;
  	&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;
  &amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;GradeMapper.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.GradeMapper&amp;quot;&amp;gt;
	&amp;lt;!-- æ ¹æ®idæŸ¥è¯¢å¹´çº§å¯¹è±¡ --&amp;gt;
	&amp;lt;select id=&amp;quot;getGradeById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Grade&amp;quot;&amp;gt;
		select * from grade where id=#{id}
	&amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;StudentMapper.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;
	
	&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Student&amp;quot; id=&amp;quot;studentMap&amp;quot;&amp;gt;
		&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
		&amp;lt;!-- ä¸€ä¸ªå­¦ç”Ÿå¯¹åº”ä¸€ä¸ªå¹´çº§ï¼šä¸€å¯¹ä¸€çš„å…³ç³»æ˜ å°„
			å¯¹äºassociationæ–¹å¼çš„æ‡’åŠ è½½ï¼š
				select:æ­¤å¤„è¦æ±‚æ˜¯æ ¹æ®å¹´çº§çš„idæŸ¥è¯¢å¹´çº§å¯¹è±¡çš„mapperæ¥å£ä¸­æ–¹æ³•çš„å…¨é™å®šå
				column:åœ¨æ•°æ®åº“ä¸­è¡¨ä¸è¡¨ä¹‹é—´å…³ç³»çš„å¤–é”®
		 --&amp;gt;
		&amp;lt;association property=&amp;quot;grade&amp;quot; javaType=&amp;quot;cn.kgc.pojo.Grade&amp;quot;
			select=&amp;quot;cn.kgc.mapper.GradeMapper.getGradeById&amp;quot; column=&amp;quot;grade_id&amp;quot;&amp;gt;&amp;lt;/association&amp;gt;
	&amp;lt;/resultMap&amp;gt;
	
	&amp;lt;select id=&amp;quot;getAllStudents&amp;quot; resultMap=&amp;quot;studentMap&amp;quot;&amp;gt;
		select * from student
	&amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä½¿ç”¨collectionå®ç°æ‡’åŠ è½½&#34;&gt;ä½¿ç”¨&lt;code&gt;collection&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/h2&gt;
&lt;h3 id=&#34;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½-2&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;settings&amp;gt;
&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;
&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;
&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;
&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;
&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;StudentMapper.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;select id=&amp;quot;getStudentsByGradeId&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Student&amp;quot;&amp;gt;
    select * from student where grade_id=#{gradeId}
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;GradeMapper.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- æŸ¥è¯¢å¹´çº§ä¿¡æ¯ï¼Œæœ‰å¯èƒ½æŸ¥è¯¢å¹´çº§ä¸­æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯ --&amp;gt;
&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Grade&amp;quot; id=&amp;quot;gradeMap&amp;quot;&amp;gt;
    &amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;
    &amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;
    &amp;lt;!-- ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»
        select:æ ¹æ®å¹´çº§ç¼–å·æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨çš„æ–¹æ³•
        column:å°±æ˜¯gradeçš„idï¼ˆå®ƒå°±æ˜¯gradeè¡¨çš„ä¸»é”®ï¼‰
     --&amp;gt;
    &amp;lt;collection property=&amp;quot;studentList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.Student&amp;quot;
        select=&amp;quot;cn.kgc.mapper.StudentMapper.getStudentsByGradeId&amp;quot; column=&amp;quot;id&amp;quot;&amp;gt;&amp;lt;/collection&amp;gt;
&amp;lt;/resultMap&amp;gt;
&amp;lt;select id=&amp;quot;getAllGrades&amp;quot; resultMap=&amp;quot;gradeMap&amp;quot;&amp;gt;
    select * from grade
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mybatisç¼“å­˜&#34;&gt;mybatisç¼“å­˜&lt;/h1&gt;
&lt;h2 id=&#34;ä¸€çº§ç¼“å­˜&#34;&gt;ä¸€çº§ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;å®ƒæ˜¯&lt;code&gt;SqlSession&lt;/code&gt;çº§åˆ«çš„ï¼ŒåŒä¸€ä¸ª&lt;code&gt;SqlSession&lt;/code&gt;æ‰æ¶‰åŠåˆ°ä¸€çº§ç¼“å­˜&lt;/p&gt;
&lt;p&gt;ä¸€çº§ç¼“å­˜æ˜¯é»˜è®¤å­˜åœ¨ï¼Œå®ƒä¸éœ€è¦å»åšä»»ä½•çš„è®¾ç½®&lt;/p&gt;
&lt;h2 id=&#34;äºŒçº§ç¼“å­˜&#34;&gt;äºŒçº§ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;å®ƒæ˜¯mapperçº§åˆ«çš„ï¼Œéœ€è¦å¼€å¯æ‰èƒ½ä½¿ç”¨&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼“å­˜åœ¨å®é™…å¼€å‘ä¸­æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå®ƒèƒ½å¤§å¤§çš„æå‡æŸ¥è¯¢çš„æ•ˆç‡ï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(é»˜è®¤å€¼å°±æ˜¯trueï¼Œå‡†å¤‡æˆ‘ä»¬ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¯ä»¥ä¸ç”¨è®¾ç½®) --&amp;gt;
&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åœ¨mappexmlä¸­å¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;åœ¨mappe.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;
	&amp;lt;!-- åœ¨StudentMapper.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜ ,å› ä¸ºmybatisä¸­äºŒçº§ç¼“å­˜çš„å®ç°ç±»åªæœ‰ä¸€ä¸ªï¼Œé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œtypeå¯ä»¥çœç•¥ä¸å†™--&amp;gt;
	&amp;lt;cache type=&amp;quot;org.apache.ibatis.cache.impl.PerpetualCache&amp;quot;&amp;gt;&amp;lt;/cache&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£&#34;&gt;pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£&lt;/h3&gt;
&lt;p&gt;å› ä¸ºç¼“å­˜çš„æ—¶å€™è¦å°†pojoæµåŒ–ç„¶åå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢å†å–å‡º&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class Student implements Serializable{
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¡¥å……ï¼šåœ¨mapperåº”ç”¨äºŒçº§ç¼“å­˜åï¼Œé»˜è®¤æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢æ–¹æ³•éƒ½å¼€å¯äºŒçº§ç¼“å­˜ï¼Œå¦‚æœè¦æŸä¸ªæŸ¥è¯¢ä¸ä½¿ç”¨äºŒçº§ç¼“å­˜å¯ä»¥æ·»åŠ &lt;code&gt;useCache=&amp;quot;false&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;æ³¨è§£å¼€å‘å…¥é—¨&#34;&gt;æ³¨è§£å¼€å‘å…¥é—¨&lt;/h1&gt;
&lt;p&gt;åœ¨spring4.xå¼€å§‹å°±æ¨èæˆ‘ä»¬ä½¿ç”¨æ³¨è§£ï¼Œå®Œå…¨å»å–ä»£xmlçš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ç›®å‰æœ€ä¸»æµçš„å¼€å‘æ–¹å¼å°±æ˜¯ï¼šåªä½¿ç”¨æ³¨è§£ï¼Œä¸å†ä½¿ç”¨xmlé…ç½®&lt;/p&gt;
&lt;p&gt;mybatisæ³¨è§£æ–¹å¼çš„å¼€å‘æ˜¯ä¸€ç§æœªæ¥çš„è¶‹åŠ¿,è¿™ç§æ–¹å¼æ¯”ä¼ ç»Ÿçš„xmlçš„å¼€å‘è¦ç®€å•å¹¶ä¸”é«˜æ•ˆ&lt;/p&gt;
&lt;h2 id=&#34;å¯¼å…¥jaråŒ…&#34;&gt;å¯¼å…¥jaråŒ…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependencies&amp;gt;
    &amp;lt;!-- mysqlé©±åŠ¨ --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;5.1.38&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;!-- mybatisçš„æ ¸å¿ƒåŒ… --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.mybatis&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;mybatis&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;3.4.6&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;!-- junitå•å…ƒæµ‹è¯• --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;!-- slf4j-log4j12  (slf4j:é…¸è¾£ç²‰) --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;1.7.25&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;log4j.properties&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;log4j.rootLogger=DEBUG,A1
log4j.logger.org.mybatis=DEBUG
log4j.appender.A1=org.apache.log4j.ConsoleAppender
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%-d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%c]-[%p] %m%n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;jdbc.properties&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;jdbc.dirver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;amp;characterEncoding=utf-8
jdbc.username=root
jdbc.password=root
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mybatis-config.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE configuration
  PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;
  &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;
&amp;lt;configuration&amp;gt;
  &amp;lt;!-- å¼•å…¥å¤–éƒ¨çš„å±æ€§æ–‡ä»¶ --&amp;gt;
  &amp;lt;properties resource=&amp;quot;jdbc.properties&amp;quot;&amp;gt;&amp;lt;/properties&amp;gt;
  &amp;lt;settings&amp;gt;
  	&amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;
  	&amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
  &amp;lt;/settings&amp;gt;
  &amp;lt;!-- é…ç½®æ•°æ®æº --&amp;gt;
  &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;
    &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;
      &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;
      &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;${jdbc.dirver}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;${jdbc.url}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;${jdbc.username}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;${jdbc.password}&amp;quot;/&amp;gt;
      &amp;lt;/dataSource&amp;gt;
    &amp;lt;/environment&amp;gt;
  &amp;lt;/environments&amp;gt;
  &amp;lt;mappers&amp;gt;
    &amp;lt;package name=&amp;quot;cn.kgc.mapper&amp;quot;/&amp;gt;
  &amp;lt;/mappers&amp;gt;
  
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@Select(&amp;quot;SQL&amp;quot;)&lt;/p&gt;
&lt;p&gt;@Insert(&amp;quot;SQL&amp;quot;)&lt;/p&gt;
&lt;p&gt;@Delete(&amp;quot;SQL&amp;quot;)&lt;/p&gt;
&lt;p&gt;@Update(&amp;quot;SQL&amp;quot;)&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³æ•°æ®åº“è¡¨ä¸­çš„åˆ—åå’Œpojoä¸­å±æ€§åä¸ä¸€è‡´&#34;&gt;è§£å†³æ•°æ®åº“è¡¨ä¸­çš„åˆ—åå’Œpojoä¸­å±æ€§åä¸ä¸€è‡´&lt;/h2&gt;
&lt;h3 id=&#34;ç¬¬ä¸€ç§&#34;&gt;ç¬¬ä¸€ç§&lt;/h3&gt;
&lt;p&gt;ç»™sql è¯­å¥èµ·åˆ«å&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬äºŒç§&#34;&gt;ç¬¬äºŒç§&lt;/h3&gt;
&lt;p&gt;@Results  ç›¸å½“äºæ˜¯&lt;code&gt;resultMap&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Select(&amp;quot;select * from book&amp;quot;)
@Results(id=&amp;quot;bookMap&amp;quot;,
    value={
        @Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),
        @Result(column=&amp;quot;book_name&amp;quot;,property=&amp;quot;name&amp;quot;),
        @Result(column=&amp;quot;price&amp;quot;,property=&amp;quot;price&amp;quot;)
})
List&amp;lt;Book&amp;gt; getAllBooks();
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ³¨è§£å¼€å‘ä¸­çš„åŠ¨æ€sql&#34;&gt;æ³¨è§£å¼€å‘ä¸­çš„åŠ¨æ€sql&lt;/h2&gt;
&lt;h3 id=&#34;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * æœ‰å¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®idæŸ¥è¯¢
 * åŠ¨æ€sqlä¸­è¾“å…¥æ˜ å°„ä¸ºç®€å•ç±»å‹ï¼Œè¾“å…¥æ˜ å°„ä¸ºç®€å•ç±»å‹  testä¸­å˜é‡åå¿…é¡»å«_parameter
 */
@Select(&amp;quot;&amp;lt;script&amp;gt;SELECT * FROM book &amp;lt;if test=&#39;_parameter != null&#39;&amp;gt;WHERE id=#{id}&amp;lt;/if&amp;gt;&amp;lt;/script&amp;gt;&amp;quot;)
List&amp;lt;Book&amp;gt; getBooksOrById(Integer id);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojo&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojo&lt;/h3&gt;
&lt;p&gt;å¼€å‘äº§ç”ŸSQLè¯­å¥çš„ç±»å’Œæ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package cn.kgc.sql.provider;

import cn.kgc.pojo.Book;

public class BookMapperProvider {
	/**
	 * ä¸“é—¨ç”¨æ¥ç»™BookMapperæ¥å£æ¥æä¾›åŠ¨æ€sqlè¯­å¥çš„
	 * @param book
	 * @return
	 */
	public String getBooks(Book book){
		String sql = &amp;quot;select * from book&amp;quot;;
		if(book != null){
			if(book.getId() != null){
				//idæœ‰å€¼
				sql = &amp;quot;select * from book where id=#{id}&amp;quot;;
			}
			if(book.getName() != null &amp;amp;&amp;amp; !book.getName().equals(&amp;quot;&amp;quot;)){
				sql = &amp;quot;select * from book where name like #{name}&amp;quot;;
			}
			if(book.getId() != null &amp;amp;&amp;amp; (book.getName() != null &amp;amp;&amp;amp; !book.getName().equals(&amp;quot;&amp;quot;))){
				sql = &amp;quot;select * from book where id=#{id} and name like #{name}&amp;quot;;
			}
		}
		return sql;
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¥å£&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * æŸ¥è¯¢ï¼šæœ‰å¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®idæŸ¥è¯¢ï¼Œæœ‰å¯èƒ½æ ¹æ®nameåšæ¨¡ç³ŠæŸ¥è¯¢
 * @param book
 * @return
 */
@SelectProvider(type=BookMapperProvider.class,method=&amp;quot;getBooks&amp;quot;)
List&amp;lt;Book&amp;gt; getBooks(Book book);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ³¨è§£å¼€å‘å®ç°å¤æ‚çš„æ˜ å°„å…³ç³»&#34;&gt;æ³¨è§£å¼€å‘å®ç°å¤æ‚çš„æ˜ å°„å…³ç³»&lt;/h2&gt;
&lt;p&gt;å¤æ‚çš„æ˜ å°„å¼€å‘æœ¬è´¨æ˜¯ä¸¤ç§ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤š&lt;/p&gt;
&lt;p&gt;æ³¨è§£å°±å¯¹åº”çš„æ˜¯ï¼š@One(ä¸€å¯¹ä¸€)  @Many(ä¸€å¯¹å¤š)&lt;/p&gt;
&lt;p&gt;è¦æ±‚æˆ‘ä»¬ä½¿ç”¨æ‡’åŠ è½½&lt;/p&gt;
&lt;h3 id=&#34;ä¸€å¯¹ä¸€å…³ç³»&#34;&gt;ä¸€å¯¹ä¸€å…³ç³»&lt;/h3&gt;
&lt;p&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯æ‡’åŠ è½½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt; &amp;lt;settings&amp;gt;
  	&amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;
  	&amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
  	&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
  	&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;
  	&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;
  	&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;
  &amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public interface GradeMapper {
	/**
	 * æ ¹æ®idæŸ¥è¯¢å¯¹è±¡
	 * @param id
	 * @return
	 */
	@Select(&amp;quot;select * from grade where id=#{id}&amp;quot;)
	Grade getGradeById(Integer id);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public interface StudentMapper {
	/**
	 * æŸ¥è¯¢å­¦ç”Ÿé¡ºä¾¿å°†å­¦ç”Ÿæ‰€åœ¨çš„å¹´çº§åç§°æŸ¥è¯¢å‡ºæ¥
	 */
	@Select(&amp;quot;select * from student&amp;quot;)
	@Results(id=&amp;quot;studentMap&amp;quot;,
			value={
			@Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),
			@Result(column=&amp;quot;name&amp;quot;,property=&amp;quot;name&amp;quot;),
			@Result(column=&amp;quot;grade_id&amp;quot;,property=&amp;quot;grade&amp;quot;,
					one=@One(select=&amp;quot;cn.kgc.mapper.GradeMapper.getGradeById&amp;quot;,fetchType=FetchType.LAZY))
			
	})
	List&amp;lt;Student&amp;gt; getAllStudents();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;FetchType.LAZYè¡¨ç¤ºåŠ è½½çš„æ–¹å¼æ˜¯æ‡’åŠ è½½,   FetchType.EAGERè¡¨ç¤ºä¸€å®šè”åˆæŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æ·»åŠ fetchTypeï¼Œé»˜è®¤å°±æ˜¯æ‡’åŠ è½½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä¸€å¯¹å¤šçš„å…³ç³»&#34;&gt;ä¸€å¯¹å¤šçš„å…³ç³»&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public interface StudentMapper {
	/**
	 * æ ¹æ®å¹´çº§ç¼–å·æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨
	 * @param id
	 * @return
	 */
	@Select(&amp;quot;select * from student where grade_id=#{gid}&amp;quot;)
	List&amp;lt;Student&amp;gt; findStudentsListByGradeId(Integer id);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package cn.kgc.mapper;

import java.util.List;

import org.apache.ibatis.annotations.Many;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.mapping.FetchType;

import cn.kgc.pojo.Grade;

public interface GradeMapper {

	@Select(&amp;quot;select * from grade&amp;quot;)
	@Results(id=&amp;quot;gradeMap&amp;quot;,
			value={
				@Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),
				@Result(column=&amp;quot;name&amp;quot;,property=&amp;quot;name&amp;quot;),
				@Result(column=&amp;quot;id&amp;quot;,property=&amp;quot;studentList&amp;quot;,
						many=@Many(select=&amp;quot;cn.kgc.mapper.StudentMapper.findStudentsListByGradeId&amp;quot;,fetchType=FetchType.LAZY))
	})
	List&amp;lt;Grade&amp;gt; getGrades();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mybatisåŸºäºäºŒçº§ç¼“å­˜çš„å¼€å‘&#34;&gt;mybatisåŸºäºäºŒçº§ç¼“å­˜çš„å¼€å‘&lt;/h2&gt;
&lt;p&gt;ä¸€çº§ç¼“å­˜åŸºäº&lt;code&gt;sqlSession&lt;/code&gt;çš„ï¼Œé»˜è®¤å°±å­˜åœ¨çš„ï¼Œå’±ä»¬å¯ä»¥ä¸ç”¨ç®¡ï¼Œå®ƒä¸€å®šä¼šå­˜åœ¨&lt;/p&gt;
&lt;h3 id=&#34;4-1-åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;4-1 åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(æ–°ç‰ˆæœ¬çš„mybatisé»˜è®¤å°±å·²ç»å¼€å¯äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨ä¸“é—¨å¼€) --&amp;gt;
&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-2-åœ¨mapperæ¥å£ä¸­ä½¿ç”¨æ³¨è§£é…ç½®å¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;4-2 åœ¨mapperæ¥å£ä¸­ä½¿ç”¨æ³¨è§£é…ç½®å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(æ–°ç‰ˆæœ¬çš„mybatisé»˜è®¤å°±å·²ç»å¼€å¯äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨ä¸“é—¨å¼€) --&amp;gt;
&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-2-pojoéœ€è¦å®ç°åºåˆ—åŒ–-æ¥å£&#34;&gt;4-2 &lt;code&gt;pojo&lt;/code&gt;éœ€è¦å®ç°åºåˆ—åŒ– æ¥å£&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class Book implements Serializable{
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-3-mapperå¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;4-3 mapperå¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@CacheNamespace(blocking=true)		//åœ¨mapperæ¥å£ä¸­å¼€å¯äºŒçº§ç¼“å­˜ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä½¿ç”¨äºŒçº§ç¼“å­˜
public interface BookMapper {
    /**
	 * æŸ¥è¯¢:æ ¹æ®ä¸»é”®æŸ¥è¯¢
	 * åŒæ ·å‡†å®ˆï¼šè¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹ #{éšä¾¿å†™}
	 * å¦‚æœåˆ—åä¸ä¸€æ ·,å¯ä»¥ç›´æ¥å¼•ç”¨ä¸Šé¢å·²ç»å†™å¥½çš„@Resultså®šä¹‰çš„åˆ—å’Œpojoå±æ€§æ˜ å°„çš„å…³ç³»ï¼Œæ–¹å¼ï¼š@ResultMap(&amp;quot;@Resultsçš„id&amp;quot;)
	 */
	@Select(&amp;quot;SELECT * FROM book WHERE id=#{id}&amp;quot;)
	@ResultMap(&amp;quot;bookMap&amp;quot;)
	//@Options(useCache=true)   //é»˜è®¤å°±æ˜¯å¼€å¯äºŒçº§ç¼“å­˜ï¼Œå¯ä»¥ä¸ç”¨æ·»åŠ è¯¥æ³¨è§£
	Book getBookById(Integer id);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;åˆ†é¡µæŸ¥è¯¢&#34;&gt;åˆ†é¡µæŸ¥è¯¢&lt;/h1&gt;
&lt;h2 id=&#34;æ·»åŠ åˆ†é¡µæ’ä»¶çš„jaråŒ…ä¾èµ–&#34;&gt;æ·»åŠ åˆ†é¡µæ’ä»¶çš„jaråŒ…ä¾èµ–&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- pageHelper --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.github.pagehelper&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;pagehelper&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;5.1.6&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ†é¡µæ‹¦æˆªå™¨&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ†é¡µæ‹¦æˆªå™¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- æ·»åŠ åˆ†é¡µæ’ä»¶ --&amp;gt;
&amp;lt;plugins&amp;gt;
&amp;lt;plugin interceptor=&amp;quot;com.github.pagehelper.PageInterceptor&amp;quot;&amp;gt;&amp;lt;/plugin&amp;gt;
&amp;lt;/plugins&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®ç°åˆ†é¡µæ“ä½œ&#34;&gt;å®ç°åˆ†é¡µæ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * åˆ†é¡µæŸ¥è¯¢:åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½ä¼šå»ä½¿ç”¨åˆ†é¡µæ’ä»¶æ¥å®Œæˆ
 * pageHelperæ˜¯å›½äººåšçš„åˆ†é¡µæ’ä»¶ï¼Œéå¸¸çš„ä¼˜ç§€
 */
@Test
public void testPage(){
    //1.å¼€å§‹åˆ†é¡µ(å‚æ•°ä¸€ï¼šå½“å‰è¦å±•ç¤ºçš„é¡µç (1,2..)ï¼Œ  å‚æ•°äºŒï¼šæ¯é¡µæ˜¾ç¤ºçš„ä¿¡æ¯æ¡æ•°)
    PageHelper.startPage(1, 3);
    //2.æ‰§è¡ŒæŸ¥è¯¢(æ­£å¸¸çš„æ‰§è¡Œ)
    BookExample example = new BookExample();
    /*å¦‚æœåˆ†é¡µä¸­æœ‰æ¡ä»¶
    Criteria criteria = example.createCriteria();
    criteria.andNameLike(&amp;quot;%é¾™%&amp;quot;);
    */
    List&amp;lt;Book&amp;gt; list = bookMapper.selectByExample(example);
    //3.åˆ†é¡µå°±é€šè¿‡pageHelperæ‹¦æˆªå™¨æ¥å®ç°åˆ†é¡µ
    PageInfo&amp;lt;Book&amp;gt; pageInfo = new PageInfo&amp;lt;Book&amp;gt;(list);
    //ä¸€é¡µä¿¡æ¯
    List&amp;lt;Book&amp;gt; bookList = pageInfo.getList();
    for (Book book : bookList) {
        System.out.println(book);
    }
    System.out.println(&amp;quot;æ€»çš„é¡µæ•°ï¼š&amp;quot; + pageInfo.getPages());
}
&lt;/code&gt;&lt;/pre&gt;
">MyBatis</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/java-fan-she/"" data-c="
          &lt;h2 id=&#34;è·å–classå¯¹è±¡çš„æ–¹å¼&#34;&gt;è·å–Classå¯¹è±¡çš„æ–¹å¼&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Class.forName(&amp;quot;å…¨ç±»å&amp;quot;);//å°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œè¿”å›Classå¯¹è±¡
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤šç”¨äºé…ç½®æ–‡ä»¶ï¼Œå°†ç±»åå®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚è¯»å–æ–‡ä»¶ï¼ŒåŠ è½½ç±»&lt;br&gt;
ç±»å.classï¼šé€šè¿‡ç±»åçš„å±æ€§classè·å–&lt;br&gt;
å¤šç”¨äºå‚æ•°çš„ä¼ é€’&lt;br&gt;
å¯¹è±¡.getClass()ï¼šgetClass()æ–¹æ³•åœ¨Objectç±»ä¸­å®šä¹‰ç€ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//å¤šç”¨äºå¯¹è±¡çš„è·å–å­—èŠ‚ç çš„æ–¹å¼
Class clazz = News.class;
Object obj = clazz.newInstance();           //å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼šç­‰åŒäº new ä¸€ä¸ªå¯¹è±¡
System.out.println(clazz.getSimpleName());  //è·å–ç±»å
System.out.println(clazz.getName());        //è·å–å®Œæ•´çš„åŒ…å+ç±»å
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;classå¯¹è±¡åŠŸèƒ½&#34;&gt;Classå¯¹è±¡åŠŸèƒ½&lt;/h2&gt;
&lt;h3 id=&#34;è·å–æˆå‘˜å˜é‡&#34;&gt;è·å–æˆå‘˜å˜é‡&lt;/h3&gt;
&lt;p&gt;â€‹        Field[] getFields() ï¼šè·å–æ‰€æœ‰publicä¿®é¥°çš„æˆå‘˜å˜é‡&lt;/p&gt;
&lt;p&gt;â€‹		Field getField(String name)   è·å–æŒ‡å®šåç§°çš„ publicä¿®é¥°çš„æˆå‘˜å˜é‡&lt;/p&gt;
&lt;p&gt;â€‹		Field[] getDeclaredFields();  //è·å–æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼Œä¸è€ƒè™‘ä¿®é¥°ç¬¦&lt;/p&gt;
&lt;p&gt;â€‹		Field getDeclaredField(String name); // è·å–æŒ‡å®šåç§°çš„æˆå‘˜å˜é‡ï¼Œä¸è€ƒè™‘ä¿®é¥°ç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Class clazz = News.class;
System.out.println(clazz.getSimpleName());//è·å–ç±»å
System.out.println(clazz.getName());//è·å–åŒ…å+ç±»å
Object obj = clazz.newInstance();//å®ä¾‹åŒ–Newsçš„è¿™ä¸ªå¯¹è±¡
Table table = obj.getClass().getAnnotation(Table.class);//è·å–objå¯¹è±¡çš„Tableæ³¨è§£ï¼Œæ²¡æœ‰è¿”å›null
System.out.println(table.value());
Field[] fields = clazz.getDeclaredFields();
for (Field field : fields) {
	field.setAccessible(true);//æš´åŠ›åå°„,å¦‚æœä¸å†™è¿™ä¸ªå°†ä¼šæŠ¥é”™
    //è·å–å±æ€§çš„æ³¨è§£
    //Field field1 = obj.getClass().getDeclaredField(field.getName());//è·å–objå¯¹è±¡çš„æŒ‡å®šå±æ€§
    PK pk = field.getAnnotation(PK.class);//è·å–å±æ€§çš„æ³¨è§£

	if(pk!=null){
    	System.out.println(field.getName()+&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;quot;+pk);//è·å–å±æ€§åç§°
    }
        field.set(obj,null);//ç»™å½“å‰clazzå¯¹è±¡çš„fieldå±æ€§èµ‹å€¼ä¸ºi
        System.out.println(field.get(obj));//è¾“å‡ºclazzå¯¹è±¡çš„fieldçš„å±æ€§å€¼
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æ„é€ æ–¹æ³•&#34;&gt;è·å–æ„é€ æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;â€‹	Constructor&amp;lt;?&amp;gt;[] getConstructors()&lt;/p&gt;
&lt;p&gt;â€‹	Constructor&lt;T&gt; getConstructor(ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;
&lt;p&gt;â€‹	Constructor&lt;T&gt; getDeclaredConstructor(ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;
&lt;p&gt;â€‹	Constructor&amp;lt;?&amp;gt;[] getDeclaredConstructors()&lt;/p&gt;
&lt;h3 id=&#34;è·å–æˆå‘˜æ–¹æ³•&#34;&gt;è·å–æˆå‘˜æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;â€‹	Method[] getMethods()&lt;/p&gt;
&lt;p&gt;â€‹	Method getMethod(String name, ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;
&lt;p&gt;â€‹	Method[] getDeclaredMethods()&lt;/p&gt;
&lt;p&gt;â€‹	Method getDeclaredMethod(String name, ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;
&lt;h3 id=&#34;fieldæˆå‘˜å˜é‡&#34;&gt;Fieldï¼šæˆå‘˜å˜é‡&lt;/h3&gt;
&lt;p&gt;è®¾ç½®å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;void set(Object obj, Object value)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–å€¼ï¼Œä¼ çš„æ˜¯å¯¹è±¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;get(Object obj) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¿½ç•¥è®¿é—®æƒé™ä¿®é¥°ç¬¦çš„å®‰å…¨æ£€æŸ¥&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;setAccessible(true)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;constructoræ„é€ æ–¹æ³•&#34;&gt;Constructor:æ„é€ æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºå¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨ç©ºå‚æ•°æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œæ“ä½œå¯ä»¥ç®€åŒ–ï¼šClasså¯¹è±¡çš„newInstanceæ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;T newInstance(Object... initargs)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;methodæ–¹æ³•å¯¹è±¡&#34;&gt;Methodï¼šæ–¹æ³•å¯¹è±¡&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œæ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Object invoke(Object obj, Object... args)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–æ–¹æ³•åç§°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;String getName
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åå°„è·å–æ³¨è§£&#34;&gt;åå°„è·å–æ³¨è§£&lt;/h2&gt;
&lt;p&gt;è·å–objå¯¹è±¡çš„Tableæ³¨è§£ï¼Œæ²¡æœ‰è¿”å›nullï¼Œobjæ˜¯è¦è·å–çš„å¯¹è±¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Table table = obj.getClass().getAnnotation(Table.class);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–å±æ€§çš„æ³¨è§£ï¼Œè·å–objå¯¹è±¡çš„field.getName()çš„å±æ€§æ³¨è§£&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Field field1 = obj.getClass().getDeclaredField(field.getName());//è·å–objå¯¹è±¡çš„æŒ‡å®šå±æ€§
PK pk = field1.getAnnotation(PK.class);//è·å–å±æ€§çš„æ³¨è§£
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è·å–å½“å‰è°ƒç”¨çš„æ–¹æ³•ä¸Šçš„æ³¨è§£&#34;&gt;è·å–å½“å‰è°ƒç”¨çš„æ–¹æ³•ä¸Šçš„æ³¨è§£&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;StackTraceElement[] stack = new Throwable().getStackTrace();
Method method = this.getClass().getMethod(stack[1].getMethodName());//è¿™é‡Œ0æ˜¯å½“å‰æ–¹æ³•çš„æ³¨è§£ï¼Œ1æ˜¯è°ƒç”¨è€…æ–¹æ³•çš„æ³¨è§£
for(Annotation an : method.getAnnotations()){
    System.out.println(an);
}
&lt;/code&gt;&lt;/pre&gt;
">Javaåå°„</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/FastDFS/"" data-c="
          &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯fastdfs&#34;&gt;ä»€ä¹ˆæ˜¯FastDFS&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;FastDFS æ˜¯ç”¨ c è¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚FastDFS ä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨ FastDFSå¾ˆå®¹æ˜“æ­å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤æä¾›æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;FastDFS æ¶æ„åŒ…æ‹¬ Tracker server å’Œ Storage serverã€‚å®¢æˆ·ç«¯è¯·æ±‚ Tracker server è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ï¼Œé€šè¿‡ Tracker server è°ƒåº¦æœ€ç»ˆç”± Storage server å®Œæˆæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;Tracker server ä½œç”¨æ˜¯è´Ÿè½½å‡è¡¡å’Œè°ƒåº¦ï¼Œé€šè¿‡ Tracker server åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶å¯ä»¥æ ¹æ®ä¸€äº›ç­–ç•¥æ‰¾åˆ° Storage server æä¾›æ–‡ä»¶ä¸Šä¼ æœåŠ¡ã€‚å¯ä»¥å°† tracker ç§°ä¸ºè¿½è¸ªæœåŠ¡å™¨æˆ–è°ƒåº¦æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;Storage server ä½œç”¨æ˜¯æ–‡ä»¶å­˜å‚¨ï¼Œå®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶æœ€ç»ˆå­˜å‚¨åœ¨ Storage æœåŠ¡å™¨ä¸Šï¼ŒStorageserver æ²¡æœ‰å®ç°è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿè€Œæ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿ çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†æ–‡ä»¶ã€‚å¯ä»¥å°†storageç§°ä¸ºå­˜å‚¨æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://haohanya.github.io/post-images/1589686914052.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æœåŠ¡ç«¯ä¸¤ä¸ªè§’è‰²ï¼š&lt;/p&gt;
&lt;p&gt;Trackerï¼šç®¡ç†é›†ç¾¤ï¼Œtracker ä¹Ÿå¯ä»¥å®ç°é›†ç¾¤ã€‚æ¯ä¸ª tracker èŠ‚ç‚¹åœ°ä½å¹³ç­‰ã€‚æ”¶é›† Storage é›†ç¾¤çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;Storageï¼šå®é™…ä¿å­˜æ–‡ä»¶  Storage åˆ†ä¸ºå¤šä¸ªç»„ï¼Œæ¯ä¸ªç»„ä¹‹é—´ä¿å­˜çš„æ–‡ä»¶æ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªç»„å†…éƒ¨å¯ä»¥æœ‰å¤šä¸ªæˆå‘˜ï¼Œç»„æˆå‘˜å†…éƒ¨ä¿å­˜çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œç»„æˆå‘˜çš„åœ°ä½æ˜¯ä¸€è‡´çš„ï¼Œæ²¡æœ‰ä¸»ä»çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ–‡ä»¶ä¸Šä¼ æµç¨‹&#34;&gt;æ–‡ä»¶ä¸Šä¼ æµç¨‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://haohanya.github.io/post-images/1589687036366.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶åå­˜å‚¨æœåŠ¡å™¨å°†æ–‡ä»¶ ID è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ–‡ä»¶ ID ç”¨äºä»¥åè®¿é—®è¯¥æ–‡ä»¶çš„ç´¢å¼•ä¿¡æ¯ã€‚æ–‡ä»¶ç´¢å¼•ä¿¡æ¯åŒ…æ‹¬ï¼šç»„åï¼Œè™šæ‹Ÿç£ç›˜è·¯å¾„ï¼Œæ•°æ®ä¸¤çº§ç›®å½•ï¼Œæ–‡ä»¶åã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://haohanya.github.io/post-images/1589687044591.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;ç»„å&lt;/strong&gt;ï¼šæ–‡ä»¶ä¸Šä¼ åæ‰€åœ¨çš„ storage ç»„åç§°ï¼Œåœ¨æ–‡ä»¶ä¸Šä¼ æˆåŠŸåæœ‰ storage æœåŠ¡å™¨è¿”å›ï¼Œéœ€è¦å®¢æˆ·ç«¯è‡ªè¡Œä¿å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è™šæ‹Ÿç£ç›˜è·¯å¾„&lt;/strong&gt;ï¼šstorage é…ç½®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä¸ç£ç›˜é€‰é¡¹ store_path*å¯¹åº”ã€‚å¦‚æœé…ç½®äº†&lt;/p&gt;
&lt;p&gt;store_path0 åˆ™æ˜¯ M00ï¼Œå¦‚æœé…ç½®äº† store_path1 åˆ™æ˜¯ M01ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®ä¸¤çº§ç›®å½•&lt;/strong&gt;ï¼šstorage æœåŠ¡å™¨åœ¨æ¯ä¸ªè™šæ‹Ÿç£ç›˜è·¯å¾„ä¸‹åˆ›å»ºçš„ä¸¤çº§ç›®å½•ï¼Œç”¨äºå­˜å‚¨æ•°æ®&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡ä»¶å&lt;/strong&gt;ï¼šä¸æ–‡ä»¶ä¸Šä¼ æ—¶ä¸åŒã€‚æ˜¯ç”±å­˜å‚¨æœåŠ¡å™¨æ ¹æ®ç‰¹å®šä¿¡æ¯ç”Ÿæˆï¼Œæ–‡ä»¶ååŒ…å«ï¼šæºå­˜å‚¨&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨ IP åœ°å€ã€æ–‡ä»¶åˆ›å»ºæ—¶é—´æˆ³ã€æ–‡ä»¶å¤§å°ã€éšæœºæ•°å’Œæ–‡ä»¶æ‹“å±•åç­‰ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ–‡ä»¶ä¸‹è½½æµç¨‹&#34;&gt;æ–‡ä»¶ä¸‹è½½æµç¨‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://haohanya.github.io/post-images/1589687076743.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;0-å‡†å¤‡å®‰è£…åŒ…ä¸Šä¼ åˆ°usrlocal&#34;&gt;0. å‡†å¤‡å®‰è£…åŒ…ä¸Šä¼ åˆ°/usr/local/&lt;/h2&gt;
&lt;p&gt;FastDFS_v5.05.tar.gz  ï¼ˆFastDFSå®‰è£…åŒ…ï¼‰&lt;/p&gt;
&lt;p&gt;libfastcommonV1.0.7.tar.gz ï¼ˆFastDFSä¾èµ–ç¨‹åºï¼‰&lt;/p&gt;
&lt;p&gt;nginx-1.8.0.tar.gz ï¼ˆnginxå®‰è£…åŒ…ï¼Œç”¨äºåšæ–‡ä»¶è¯·æ±‚httpä»£ç†æœåŠ¡å™¨ï¼‰&lt;/p&gt;
&lt;p&gt;fastdfs-nginx-module_v1.16.tar.gz ï¼ˆnginxå’Œfastdfsçš„æ¡¥æ¢æ’ä»¶æ¨¡å—ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;1-å®‰è£…ccç¼–è¯‘ç¯å¢ƒ&#34;&gt;1. å®‰è£…c/c++ç¼–è¯‘ç¯å¢ƒ&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;yum install gcc-c++
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-å®‰è£…libevent&#34;&gt;2. å®‰è£…libevent&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;yum -y install libevent
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-å®‰è£…libfastcommon&#34;&gt;3. å®‰è£…libfastcommon&lt;/h2&gt;
&lt;p&gt;å°†&lt;code&gt;libfastcommonV1.0.7.tar.gz&lt;/code&gt;æ‹·è´è‡³&lt;code&gt;/usr/local/&lt;/code&gt;ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /usr/local
tar -zxvf libfastcommonV1.0.7.tar.gz
cd libfastcommon-1.0.7
./make.sh
./make.sh install
cp /usr/lib64/libfastcommon.so /usr/lib
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•&#34;&gt;4.åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;mkdir -p /home/FastDFS/tracker /home/FastDFS/storage /home/FastDFS/client
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-trackerç¼–è¯‘å®‰è£…&#34;&gt;5. trackerç¼–è¯‘å®‰è£…&lt;/h2&gt;
&lt;p&gt;å°†FastDFS_v5.05.tar.gzæ‹·è´è‡³/usr/local/ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tar -zxvf FastDFS_v5.05.tar.gz
cd FastDFS
./make.sh
./make.sh install
cd conf
cp * /etc/fdfs
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6-ç¼–è¾‘etcfdfstrackerconf&#34;&gt;6. ç¼–è¾‘/etc/fdfs/tracker.conf&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/fdfs/tracker.conf
	base_path=/home/FastDFS/tracker
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;7-å¯åŠ¨tracker&#34;&gt;7. å¯åŠ¨tracker&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;/usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf [restart](é‡å¯)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;8-é…ç½®storageèŠ‚ç‚¹&#34;&gt;8. é…ç½®storageèŠ‚ç‚¹&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/fdfs/storage.conf
    base_path=/home/FastDFS/storage
    store_path0=/home/FastDFS/storage
    tracker_server = 192.168.100.151:22122
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;9-å¯åŠ¨storageèŠ‚ç‚¹&#34;&gt;9. å¯åŠ¨storageèŠ‚ç‚¹&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;/usr/bin/fdfs_storage{fdfs_storaged} /etc/fdfs/storage.conf
fdfs_storageä¸å­˜åœ¨å°±ä½¿ç”¨fdfs_storaged
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;10-å®‰è£…nginx&#34;&gt;10. å®‰è£…nginx&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;yum install -y gcc-c++   (å·²å®‰è£…)
yum install -y pcre pcre-devel
yum install -y zlib zlib-devel
yum install -y openssl openssl-devel
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;11è§£å‹fastdfs-nginx-module_v116targz&#34;&gt;11.è§£å‹fastdfs-nginx-module_v1.16.tar.gz&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cd /usr/local/
tar -zxf fastdfs-nginx-module_v1.16.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;12ä¿®æ”¹fastdfs-nginx-modulesrcconfigé…ç½®æ–‡ä»¶&#34;&gt;12.ä¿®æ”¹fastdfs-nginx-module/src/configé…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;vi fastdfs-nginx-module/src/config
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠŠCORE_INCS=&amp;quot;$CORE_INCS /usr/local/include/fastdfs /usr/include/fastcommon/&amp;quot;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ä¸ºï¼šCORE_INCS=&amp;quot;$CORE_INCS /usr/include/fastdfs /usr/include/fastcommon/&amp;quot;&lt;/p&gt;
&lt;p&gt;æŠŠCORE_LIBS=&amp;quot;$CORE_LIBS -L/usr/local/lib -lfastcommon -lfdfsclient&amp;quot;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ä¸ºï¼šCORE_LIBS=&amp;quot;$CORE_LIBS -L/usr/lib -lfastcommon -lfdfsclient&amp;quot;&lt;/p&gt;
&lt;p&gt;å®é™…å°±æ˜¯æŠŠè·¯å¾„ä¸­çš„localè¿™ä¸€å±‚åˆ é™¤æ‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;13å¤åˆ¶fastdfs-nginx-modulesrcmod_fastdfsconf-åˆ°etcfdfsç›®å½•ä¸‹å¹¶ç¼–è¾‘&#34;&gt;13.å¤åˆ¶fastdfs-nginx-module/src/mod_fastdfs.conf åˆ°/etc/fdfsç›®å½•ä¸‹å¹¶ç¼–è¾‘&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cp fastdfs-nginx-module/src/mod_fastdfs.conf /etc/fdfs/
	vi /etc/fdfs/mod_fastdfs.conf
        tracker_server=192.168.100.151:22122
        url_have_group_name = true
        storage_server_port=23000
        group_name=group1
        store_path0=/home/FastDFS/storage
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;14å®‰è£…nginx&#34;&gt;14.å®‰è£…nginx&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cd /usr/local/
tar -zxf  nginx-1.8.1.tar.gz
cd nginx-1.8.1
./configure --add-module=/usr/local/fastdfs-nginx-module/src/
make
make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;15-é…ç½®nginx&#34;&gt;15. é…ç½®nginx&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cd /usr/local/nginx/conf
vi nginx.conf
	
	server{
        listen     80;
        server_name     localhost;
        location /group1/M00/{
            ngx_fastdfs_module;
        }
    }

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‡å¯nginx&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/usr/local/nginx/sbin/nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æµ‹è¯•&#34;&gt;æµ‹è¯•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¼•å…¥ä¾èµ–&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;commons-fileupload&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;commons-fileupload&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.3.1&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;!--fastdfs--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.csource.fastdfs&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;fastdfs&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¼–å†™é…ç½®æ–‡ä»¶&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt; &amp;lt;!-- é…ç½®å¤šåª’ä½“è§£æå™¨ --&amp;gt;
 &amp;lt;bean id=&amp;quot;multipartResolver&amp;quot; class=&amp;quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&amp;quot;&amp;gt;
 	&amp;lt;property name=&amp;quot;defaultEncoding&amp;quot; value=&amp;quot;UTF-8&amp;quot;/&amp;gt;
 	&amp;lt;!-- è®¾å®šæ–‡ä»¶ä¸Šä¼ çš„æœ€å¤§å€¼5MBï¼Œ5*1024*1024 --&amp;gt;
 	&amp;lt;property name=&amp;quot;maxUploadSize&amp;quot; value=&amp;quot;5242880&amp;quot;/&amp;gt;
 &amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;UploadController&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt; /**
  * æ–‡ä»¶æœåŠ¡å™¨åœ°å€
  */
 @Value(&amp;quot;${FILE_SERVER_URL}&amp;quot;)
 private String FILE_SERVER_URL;

 @RequestMapping(&amp;quot;/upload&amp;quot;)
 public JdResult upload(MultipartFile file) {
     //1ã€å–æ–‡ä»¶çš„æ‰©å±•å
     String originalFilename = file.getOriginalFilename();
     String extName = originalFilename.substring(originalFilename.lastIndexOf(&amp;quot;.&amp;quot;) + 1);
     try {
         //2ã€åˆ›å»ºä¸€ä¸ª FastDFS çš„å®¢æˆ·ç«¯
         FastDFSClient dfsClient = new FastDFSClient(&amp;quot;classpath:conf/fdfs_client.conf&amp;quot;);
         //3ã€æ‰§è¡Œä¸Šä¼ å¤„ç†
         String path = dfsClient.uploadFile(file.getBytes(), extName);
         //4ã€æ‹¼æ¥è¿”å›çš„ url å’Œ ip åœ°å€ï¼Œæ‹¼è£…æˆå®Œæ•´çš„ url
         String url = FILE_SERVER_URL + path;
         return JdResult.ok(url);
     } catch (Exception e) {
         e.printStackTrace();
         return JdResult.error(&amp;quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&amp;quot;);
     }
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
">FastDFS</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/freemarker/"" data-c="
          &lt;h2 id=&#34;1-freemarkerå…¥é—¨&#34;&gt;1ã€freemarkerå…¥é—¨&lt;/h2&gt;
&lt;h3 id=&#34;1ä¾èµ–æ ¸å¿ƒåŒ…&#34;&gt;1.ä¾èµ–æ ¸å¿ƒåŒ…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!-- ä¾èµ–freemarker --&amp;gt;
&amp;lt;dependency&amp;gt;
	&amp;lt;groupId&amp;gt;org.freemarker&amp;lt;/groupId&amp;gt;
	&amp;lt;artifactId&amp;gt;freemarker&amp;lt;/artifactId&amp;gt;
	&amp;lt;version&amp;gt;2.3.23&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2åˆ›å»ºæ¨¡æ¿æ–‡ä»¶&#34;&gt;2.åˆ›å»ºæ¨¡æ¿æ–‡ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;
&amp;lt;title&amp;gt;è¿™ä¸ªæ˜¯æ¨¡æ¿&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
	&amp;lt;#--  è¿™æ˜¯æˆ‘çš„æ³¨é‡Šï¼Œä¸ä¼šè¢«è¾“å‡º --&amp;gt;
	hello ${name}
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3ç”Ÿæˆæ–‡ä»¶&#34;&gt;3.ç”Ÿæˆæ–‡ä»¶&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºConfigurationå¯¹è±¡ï¼ˆç›´æ¥newï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­æ·»åŠ &lt;code&gt;freemarker&lt;/code&gt;çš„ç‰ˆæœ¬å·ï¼‰&lt;br&gt;
ç¬¬äºŒæ­¥ï¼šè®¾ç½®æ¨¡æ¿æ‰€åœ¨çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¨¡æ¿æ–‡ä»¶çš„ç¼–ç å­—ç¬¦é›†ï¼ˆä¸€èˆ¬ä½¿ç”¨&lt;code&gt;utf-8&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬å››æ­¥ï¼šåŠ è½½ä¸€ä¸ªæ¨¡æ¿ï¼Œåˆ›å»ºä¸€ä¸ªæ¨¡æ¿å¯¹è±¡&lt;/li&gt;
&lt;li&gt;ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ•°æ®æ¨¡å‹ï¼ˆä½¿ç”¨çš„æ˜¯Map&amp;lt;String,Object&amp;gt; è¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„&lt;code&gt;pojo&lt;/code&gt;å®é™…å¼€å‘ä¸­éƒ½ç”¨mapï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬å…­æ­¥ï¼šåˆ›å»ºwriterå¯¹è±¡ï¼Œä¸€èˆ¬ç”¨&lt;code&gt;FileWriter&lt;/code&gt;å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–ï¼Œæ‰§è¡Œç”Ÿæˆçš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸ƒæ­¥ï¼šè°ƒç”¨æ¨¡æ¿å¯¹è±¡çš„processæ–¹æ³•è¾“å‡ºæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ç¬¬å…«æ­¥ï¼šå…³é—­æµ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws Exception{
    //1.åˆ›å»ºé…ç½®ç±»
    Configuration configuration = new Configuration(Configuration.getVersion());
    //2.è®¾ç½®æ¨¡æ¿æ‰€åœ¨ç›®å½•
    configuration.setDirectoryForTemplateLoading(new File(&amp;quot;F:\\workspace002\\freemarker-demo01\\src\\main\\resources&amp;quot;));
    //3.è®¾ç½®ç¼–ç é›†
    configuration.setDefaultEncoding(&amp;quot;UTF-8&amp;quot;);
    //4.åŠ è½½æ¨¡æ¿
    Template template = configuration.getTemplate(&amp;quot;hello.html&amp;quot;);
    //5.åˆ›å»ºæ•°æ®æ¨¡å‹
    Map&amp;lt;String, Object&amp;gt; data = new HashMap&amp;lt;String, Object&amp;gt;();
    data.put(&amp;quot;name&amp;quot;, &amp;quot;å¼ ä¸‰&amp;quot;);
    //6.åˆ›å»ºwriterå¯¹è±¡ï¼Œå‡†å¤‡ç”¨æ¥è¾“å‡ºæ–‡ä»¶
    Writer out = new FileWriter(new File(&amp;quot;E:\\freemarker\\hello.html&amp;quot;));
    //7,è¾“å‡ºæ–‡ä»¶
    template.process(data, out);
    //8.å…³é—­æµ
    out.close();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ftlæŒ‡ä»¤&#34;&gt;FTLæŒ‡ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;1assign&#34;&gt;1.assign&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨ï¼šç”¨äºåœ¨é¡µé¢ä¸Šå®šä¹‰ä¸€ä¸ªå˜é‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;	&amp;lt;#-- assignï¼šç”¨æ¥åœ¨é¡µé¢ä¸Šå®šä¹‰ä¸€ä¸ªå˜é‡ --&amp;gt;
	&amp;lt;#assign name=&amp;quot;å¼ ä¸‰&amp;quot;&amp;gt;
	è·å–å˜é‡ï¼š${name}
	&amp;lt;hr/&amp;gt;
	&amp;lt;#-- assign:è¿˜å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡ --&amp;gt;
	&amp;lt;#assign info={&amp;quot;name&amp;quot;:&amp;quot;æå››&amp;quot;,&amp;quot;age&amp;quot;:18,&amp;quot;hobs&amp;quot;:&amp;quot;java&amp;quot;}&amp;gt;
	è·å–åˆ°å¯¹è±¡çš„å±æ€§:å§“å-${info.name},å¹´é¾„-${info.age},çˆ±å¥½-${info.hobs}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2include&#34;&gt;2.include&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨ï¼šæ­¤æŒ‡ä»¤ç”¨äºæ¨¡æ¿æ–‡ä»¶ä¹‹é—´çš„ç›¸äº’åµŒå¥—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;#include &amp;quot;head.ftl&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3if&#34;&gt;3.if&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨ï¼šç”¨äºæ¡ä»¶åˆ¤æ–­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;data.put(&amp;quot;success&amp;quot;, true);

&amp;lt;#if success = true&amp;gt;
	successçš„å€¼æ˜¯true
&amp;lt;#else&amp;gt;
	successçš„å€¼æ˜¯false
&amp;lt;/#if&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4list&#34;&gt;4.list&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨ï¼šåœ¨é¡µé¢ä¸­éå†é›†åˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;ul&amp;gt;
	&amp;lt;#list mylist as user&amp;gt;
		&amp;lt;li&amp;gt;${user.name}&amp;lt;/li&amp;gt;
	&amp;lt;/#list&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5å†…å»ºå‡½æ•°&#34;&gt;5.å†…å»ºå‡½æ•°&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;è¯­æ³•ï¼šå˜é‡ + ? + å‡½æ•°å&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;5-1-è·å–é›†åˆçš„å¤§å°size&#34;&gt;5-1 è·å–é›†åˆçš„å¤§å°(size)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;${mylist?size}&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;5-2-è½¬æ¢jsonå­—ç¬¦ä¸²ä¸ºjsonå¯¹è±¡&#34;&gt;5-2 è½¬æ¢&lt;code&gt;json&lt;/code&gt;å­—ç¬¦ä¸²ä¸º&lt;code&gt;json&lt;/code&gt;å¯¹è±¡&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;#-- å®šä¹‰ä¸€ä¸ªjsonå­—ç¬¦ä¸²  --&amp;gt;
&amp;lt;#assign text=&amp;quot;{&#39;name&#39;:&#39;å¼ ä¸‰&#39;,&#39;sex&#39;:&#39;ç”·&#39;}&amp;quot;&amp;gt;
&amp;lt;#-- å°†jsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡ --&amp;gt;
&amp;lt;#assign person=text?eval&amp;gt;
å§“åï¼š${person.name}ï¼Œæ€§åˆ«:${person.sex}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;5-3-æ—¥æœŸ&#34;&gt;5-3 æ—¥æœŸ&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;å¹´æœˆæ—¥ï¼š${mydate?date}
&amp;lt;br/&amp;gt;
æ—¶åˆ†ç§’ï¼š${mydate?time}
&amp;lt;br/&amp;gt;
å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼š${mydate?datetime}
&amp;lt;br/&amp;gt;
è‡ªå®šä¹‰æ—¥æœŸï¼š${mydate?string(&#39;yyyyå¹´MMæœˆddæ—¥  hhæ—¶mmåˆ†ssç§’&#39;)}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;5-4-æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²&#34;&gt;5-4 æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;${mynum?c}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;6ç©ºå€¼å¤„ç†&#34;&gt;6.ç©ºå€¼å¤„ç†&lt;/h3&gt;
&lt;h4 id=&#34;6-1-å¤„ç†æ–¹æ¡ˆä¸€ç¼ºå€¼è¡¨è¾¾å¼&#34;&gt;6-1 å¤„ç†æ–¹æ¡ˆä¸€(ç¼ºå€¼è¡¨è¾¾å¼)&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;${mytest!&amp;quot;å€¼ä¸ºnull&amp;quot;}
&amp;lt;/br&amp;gt;
${mytest!}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;6-2-å¤„ç†æ–¹æ¡ˆäºŒ&#34;&gt;6-2 å¤„ç†æ–¹æ¡ˆäºŒ&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;#if mytest??&amp;gt;
	mytestå€¼æ˜¯å­˜åœ¨çš„:${mytest}
&amp;lt;#else&amp;gt;
	mytestçš„å€¼ä¸ºnull
&amp;lt;/#if&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;7è¿ç®—ç¬¦&#34;&gt;7.è¿ç®—ç¬¦&lt;/h3&gt;
&lt;h4 id=&#34;7-1-ç®—æœ¯è¿ç®—ç¬¦&#34;&gt;7-1 ç®—æœ¯è¿ç®—ç¬¦&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;+ - * / %&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;7-2-é€»è¾‘è¿ç®—ç¬¦&#34;&gt;7-2 é€»è¾‘è¿ç®—ç¬¦&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;&amp;amp;&amp;amp; ã€ || ã€ !&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;7-3-æ¯”è¾ƒè¿ç®—ç¬¦&#34;&gt;7-3 æ¯”è¾ƒè¿ç®—ç¬¦&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;= æˆ–è€… ==&lt;/li&gt;
&lt;li&gt;!=&lt;/li&gt;
&lt;li&gt;&amp;gt;  æˆ–è€…æ˜¯ gt&lt;/li&gt;
&lt;li&gt;&amp;lt; æˆ–è€…æ˜¯ lt&lt;/li&gt;
&lt;li&gt;&amp;gt;= æˆ–è€…æ˜¯ gte&lt;/li&gt;
&lt;li&gt;&amp;lt;= æˆ–è€…æ˜¯ lte&lt;/li&gt;
&lt;/ul&gt;
">freemarker</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å…³äºæœ¬ç«™&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;
&lt;p&gt;ç£•ç£•ç¢°ç¢°çš„å°ç ´ç«™,å‰ä¸ä¹…åŸŸåçš„å¤‡æ¡ˆè¢«æ³¨é”€...åæ¢åˆ°Gridea,æ‰˜ç®¡åœ¨GitHub&lt;/p&gt;
&lt;h2 id=&#34;åšä¸»æ˜¯è°&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/h2&gt;
&lt;p&gt;ä¸€ä½æ­£åœ¨åŠªåŠ›æˆé•¿çš„ç å†œ...&lt;/p&gt;
&lt;h2 id=&#34;å…´è¶£çˆ±å¥½&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/h2&gt;
&lt;p&gt;åƒ,ç¡,coding&lt;/p&gt;
&lt;h2 id=&#34;è”ç³»æˆ‘å‘€&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;
&lt;p&gt;QQ : 2369710264&lt;/p&gt;
">å…³äº</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://haohanya.github.io/post/hello/"" data-c="
          &lt;p&gt;åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼ï¼ï¼&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;åŸºäºGitHub Pages + Gridea&lt;/p&gt;
">Hello</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;h2 id=\&#34;rediså®‰è£…\&#34;&gt;rediså®‰è£…&lt;/h2&gt;\n&lt;p&gt;å®‰è£…gcc&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;yum install gcc-c++\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è§£å‹æºç &lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;tar -zxvf redis-3.0.0.tar.gz\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿›å…¥è§£å‹åçš„ç›®å½•è¿›è¡Œç¼–è¯‘&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;cd /usr/local/redis-3.0.0\nmake PREFIX=/usr/local/redis install\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ‹·è´é…ç½®æ–‡ä»¶åˆ°å®‰è£…ç›®å½•ä¸‹&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;cd /usr/local/redis\nmkdir conf\ncp /usr/local/redis-3.0.0/redis.conf  /usr/local/redis/bin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿è¡Œ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;bin/redis-server\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åç«¯æ¨¡å¼è¿è¡Œ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-bash\&#34;&gt;ä¿®æ”¹redis.confæ–‡ä»¶ : daemonize yes\n./bin/redis-server redis.conf\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;springdataredisç®€ä»‹\&#34;&gt;SpringDataRedisç®€ä»‹&lt;/h2&gt;\n&lt;h3 id=\&#34;redis\&#34;&gt;Redis&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;redis&lt;/strong&gt;æ˜¯ä¸€æ¬¾å¼€æºçš„Key-Value&lt;strong&gt;æ•°æ®åº“&lt;/strong&gt;ï¼Œè¿è¡Œåœ¨å†…å­˜ä¸­ï¼Œç”±ANSI Cç¼–å†™ã€‚ä¼ä¸šå¼€å‘é€šå¸¸é‡‡ç”¨Redisæ¥å®ç°ç¼“å­˜ã€‚åŒç±»çš„äº§å“è¿˜æœ‰memcache ã€MongoDBç­‰ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;jedis\&#34;&gt;Jedis&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Jedisæ˜¯Rediså®˜æ–¹æ¨å‡ºçš„ä¸€æ¬¾é¢å‘&lt;strong&gt;Java&lt;/strong&gt;çš„å®¢æˆ·ç«¯ï¼Œæä¾›äº†å¾ˆå¤šæ¥å£ä¾›Javaè¯­è¨€è°ƒç”¨ã€‚å¯ä»¥åœ¨Rediså®˜ç½‘ä¸‹è½½ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›å¼€æºçˆ±å¥½è€…æä¾›çš„å®¢æˆ·ç«¯ï¼Œå¦‚Jredisã€SRPç­‰ç­‰ï¼Œæ¨èä½¿ç”¨Jedisã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;spring-data-redis\&#34;&gt;Spring Data Redis&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Spring-data-redisæ˜¯springå¤§å®¶æ—çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†åœ¨srpingåº”ç”¨ä¸­é€šè¿‡ç®€å•çš„é…ç½®è®¿é—®redisæœåŠ¡ï¼Œå¯¹reidsåº•å±‚å¼€å‘åŒ…(Jedis,  JRedis, and RJC)è¿›è¡Œäº†é«˜åº¦å°è£…ï¼ŒRedisTemplateæä¾›äº†rediså„ç§æ“ä½œã€å¼‚å¸¸å¤„ç†åŠåºåˆ—åŒ–ï¼Œæ”¯æŒå‘å¸ƒè®¢é˜…ï¼Œå¹¶å¯¹spring 3.1 cacheè¿›è¡Œäº†å®ç°ã€‚&lt;/p&gt;\n&lt;p&gt;spring-data-redisé’ˆå¯¹jedisæä¾›äº†å¦‚ä¸‹åŠŸèƒ½ï¼š&lt;br&gt;\n1ã€è¿æ¥æ± è‡ªåŠ¨ç®¡ç†ï¼Œæä¾›äº†ä¸€ä¸ªé«˜åº¦å°è£…çš„â€œRedisTemplateâ€ç±»&lt;/p&gt;\n&lt;p&gt;â€‹\t2ã€é’ˆå¯¹jediså®¢æˆ·ç«¯ä¸­å¤§é‡apiè¿›è¡Œäº†å½’ç±»å°è£…,å°†åŒä¸€ç±»å‹æ“ä½œå°è£…ä¸ºoperationæ¥å£&lt;/p&gt;\n&lt;p&gt;â€‹     ValueOperationsï¼šç®€å•K-Væ“ä½œ&lt;/p&gt;\n&lt;p&gt;â€‹     SetOperationsï¼šsetç±»å‹æ•°æ®æ“ä½œ&lt;/p&gt;\n&lt;p&gt;â€‹     ZSetOperationsï¼šzsetç±»å‹æ•°æ®æ“ä½œ&lt;/p&gt;\n&lt;p&gt;â€‹     HashOperationsï¼šé’ˆå¯¹mapç±»å‹çš„æ•°æ®æ“ä½œ&lt;/p&gt;\n&lt;p&gt;â€‹     ListOperationsï¼šé’ˆå¯¹listç±»å‹çš„æ•°æ®æ“ä½œ&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;spring-data-rediså…¥é—¨å°demo\&#34;&gt;Spring Data Rediså…¥é—¨å°Demo&lt;/h2&gt;\n&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- ç¼“å­˜ --&amp;gt;\n&amp;lt;dependency&amp;gt; \n    &amp;lt;groupId&amp;gt;redis.clients&amp;lt;/groupId&amp;gt; \n    &amp;lt;artifactId&amp;gt;jedis&amp;lt;/artifactId&amp;gt; \n    &amp;lt;version&amp;gt;2.8.1&amp;lt;/version&amp;gt; \n&amp;lt;/dependency&amp;gt; \n&amp;lt;dependency&amp;gt; \n    &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt; \n    &amp;lt;artifactId&amp;gt;spring-data-redis&amp;lt;/artifactId&amp;gt; \n    &amp;lt;version&amp;gt;1.7.2.RELEASE&amp;lt;/version&amp;gt; \n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€åˆ›å»ºredis-config.properties&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-properties\&#34;&gt;redis.host=127.0.0.1 \nredis.port=6379 \nredis.pass= \nredis.database=0 \nredis.maxIdle=300 \nredis.maxWait=3000 \nredis.testOnBorrow=true \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€ç¼–å†™redisé…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;applicationContext-redis.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;context:property-placeholder location=&amp;quot;classpath*:properties/*.properties&amp;quot; /&amp;gt;   \n&amp;lt;!-- redis ç›¸å…³é…ç½® --&amp;gt; \n&amp;lt;bean id=&amp;quot;poolConfig&amp;quot; class=&amp;quot;redis.clients.jedis.JedisPoolConfig&amp;quot;&amp;gt;  \n &amp;lt;property name=&amp;quot;maxIdle&amp;quot; value=&amp;quot;${redis.maxIdle}&amp;quot; /&amp;gt;   \n &amp;lt;property name=&amp;quot;maxWaitMillis&amp;quot; value=&amp;quot;${redis.maxWait}&amp;quot; /&amp;gt;  \n &amp;lt;property name=&amp;quot;testOnBorrow&amp;quot; value=&amp;quot;${redis.testOnBorrow}&amp;quot; /&amp;gt;  \n&amp;lt;/bean&amp;gt;  \n&amp;lt;bean id=&amp;quot;JedisConnectionFactory&amp;quot; class=&amp;quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&amp;quot; \n   p:host-name=&amp;quot;${redis.host}&amp;quot; p:port=&amp;quot;${redis.port}&amp;quot; p:password=&amp;quot;${redis.pass}&amp;quot; p:pool-config-ref=&amp;quot;poolConfig&amp;quot;/&amp;gt;  \n\n&amp;lt;bean id=&amp;quot;redisTemplate&amp;quot; class=&amp;quot;org.springframework.data.redis.core.RedisTemplate&amp;quot;&amp;gt;  \n &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;JedisConnectionFactory&amp;quot; /&amp;gt;  \n&amp;lt;/bean&amp;gt;  \n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;maxIdle ï¼šæœ€å¤§ç©ºé—²æ•°&lt;/p&gt;\n&lt;p&gt;maxWaitMillis:è¿æ¥æ—¶çš„æœ€å¤§ç­‰å¾…æ¯«ç§’æ•°&lt;/p&gt;\n&lt;p&gt;testOnBorrowï¼šåœ¨æå–ä¸€ä¸ªjediså®ä¾‹æ—¶ï¼Œæ˜¯å¦æå‰è¿›è¡ŒéªŒè¯æ“ä½œï¼›å¦‚æœä¸ºtrueï¼Œåˆ™å¾—åˆ°çš„jediså®ä¾‹å‡æ˜¯å¯ç”¨çš„ï¼›&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;4ã€å€¼ç±»å‹æ“ä½œ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=&amp;quot;classpath:spring/applicationContext-redis.xml&amp;quot;)\npublic class TestValue {\n\t@Autowired\n\tprivate RedisTemplate redisTemplate;\t\n\t@Test\n\tpublic void setValue(){\n\t\tredisTemplate.boundValueOps(&amp;quot;name&amp;quot;).set(&amp;quot;zhangsan&amp;quot;);\t\t\n\t}\t\n\t@Test\n\tpublic void getValue(){\n\t\tString str = (String) redisTemplate.boundValueOps(&amp;quot;name&amp;quot;).get();\n\t\tSystem.out.println(str);\n\t}\t\n\t@Test\n\tpublic void deleteValue(){\n\t\tredisTemplate.delete(&amp;quot;name&amp;quot;);;\n\t}\t\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5ã€Setç±»å‹æ“ä½œ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=&amp;quot;classpath:spring/applicationContext-redis.xml&amp;quot;)\npublic class TestSet {\n\t@Autowired\n\tprivate RedisTemplate redisTemplate;\n\t/**\n\t * å­˜å…¥å€¼\n\t */\n\t@Test\n\tpublic void setValue(){\n\t\tredisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;ç½—å¿—ç¥¥&amp;quot;);\t\t\n\t\tredisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;å‘¨æ‰¬é’&amp;quot;);\t\n\t\tredisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).add(&amp;quot;è´è¶å§&amp;quot;);\n\t}\n\t/**\n\t * æå–å€¼\n\t */\n\t@Test\n\tpublic void getValue(){\n\t\tSet members = redisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).members();\n\t\tSystem.out.println(members);\n\t}\n    /**\n\t * åˆ é™¤é›†åˆä¸­çš„æŸä¸€ä¸ªå€¼\n\t */\n\t@Test\n\tpublic void deleteValue(){\n\t\tredisTemplate.boundSetOps(&amp;quot;nameset&amp;quot;).remove(&amp;quot;è´è¶å§&amp;quot;);\n\t}\n\t\n\t/**\n\t * åˆ é™¤æ•´ä¸ªé›†åˆ\n\t */\n\t@Test\n\tpublic void deleteAllValue(){\n\t\tredisTemplate.delete(&amp;quot;nameset&amp;quot;);\n\t}\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6ã€Listç±»å‹æ“ä½œ&lt;/p&gt;\n&lt;p&gt;6.1ã€å³å‹æ ˆ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * å³å‹æ ˆï¼šåæ·»åŠ çš„å¯¹è±¡æ’åœ¨åè¾¹\n */\n@Test\npublic void testSetValue1(){\t\t\n    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;åˆ˜å¤‡&amp;quot;);\n    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;å…³ç¾½&amp;quot;);\n    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).rightPush(&amp;quot;å¼ é£&amp;quot;);\t\t\n}\n/**\n * æ˜¾ç¤ºå³å‹æ ˆé›†åˆ\n */\n@Test\npublic void testGetValue1(){\n    List list = redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).range(0, 10);\n    System.out.println(list);\n}\n//è¿è¡Œç»“æœï¼š[åˆ˜å¤‡, å…³ç¾½, å¼ é£]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6.2ã€å·¦å‹æ ˆ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * å·¦å‹æ ˆï¼šåæ·»åŠ çš„å¯¹è±¡æ’åœ¨å‰è¾¹\n */\n@Test\npublic void testSetValue2(){\t\t\n    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;åˆ˜å¤‡&amp;quot;);\n    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;å…³ç¾½&amp;quot;);\n    redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).leftPush(&amp;quot;å¼ é£&amp;quot;);\t\t\n}\n/**\n * æ˜¾ç¤ºå·¦å‹æ ˆé›†åˆ\n */\n@Test\npublic void testGetValue2(){\n    List list = redisTemplate.boundListOps(&amp;quot;namelist2&amp;quot;).range(0, 10);\n    System.out.println(list);\n}\n//è¿è¡Œç»“æœï¼š[å¼ é£, å…³ç¾½, åˆ˜å¤‡]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6.3ã€æ ¹æ®ç´¢å¼•æŸ¥è¯¢å…ƒç´ &lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * æŸ¥è¯¢é›†åˆæŸä¸ªå…ƒç´ \n */\n@Test\npublic void testSearchByIndex(){\n    String s = (String) redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).index(1);\n    System.out.println(s);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6.4ã€ç§»é™¤æŸä¸ªå…ƒç´ çš„å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * ç§»é™¤é›†åˆæŸä¸ªå…ƒç´ \n */\n@Test\npublic void testRemoveByIndex(){\n    redisTemplate.boundListOps(&amp;quot;namelist1&amp;quot;).remove(1, &amp;quot;å…³ç¾½&amp;quot;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7ã€Hashç±»å‹æ“ä½œ&lt;/p&gt;\n&lt;p&gt;7.1ã€å­˜å…¥å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Test\npublic void testSetValue(){\n    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;a&amp;quot;, &amp;quot;å”åƒ§&amp;quot;);\n    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;b&amp;quot;, &amp;quot;æ‚Ÿç©º&amp;quot;);\n    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;c&amp;quot;, &amp;quot;å…«æˆ’&amp;quot;);\n    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).put(&amp;quot;d&amp;quot;, &amp;quot;æ²™åƒ§&amp;quot;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7.2ã€æå–æ‰€æœ‰çš„KEY&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Test\npublic void testGetKeys(){\n    Set s = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).keys();\t\t\n    System.out.println(s);\t\t\n}\n//è¿è¡Œç»“æœï¼š[a, b, c, d]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7.3ã€æå–æ‰€æœ‰çš„å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Test\npublic void testGetValues(){\n    List values = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).values();\n    System.out.println(values);\t\t\n}\n//è¿è¡Œç»“æœï¼š[å”åƒ§, æ‚Ÿç©º, å…«æˆ’, æ²™åƒ§]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7.4ã€æ ¹æ®KEYæå–å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Test\npublic void testGetValueByKey(){\n    Object object = redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).get(&amp;quot;b&amp;quot;);\n    System.out.println(object);\n}\n//è¿è¡Œç»“æœï¼šæ‚Ÿç©º\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7.5ã€æ ¹æ®KEYç§»é™¤å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Test\npublic void testRemoveValueByKey(){\n    redisTemplate.boundHashOps(&amp;quot;namehash&amp;quot;).delete(&amp;quot;c&amp;quot;);\n}\n//è¿è¡Œç»“æœï¼š[å”åƒ§, æ‚Ÿç©º, æ²™åƒ§]\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;redis&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Redis&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Redis&#34;,&#34;slug&#34;:&#34;WWST57yMi&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/WWST57yMi/&#34;}],&#34;date&#34;:&#34;2020-05-17 12:02:05&#34;,&#34;dateFormat&#34;:&#34;2020-05-17&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/redis/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;7 min read&#34;,&#34;time&#34;:406000,&#34;words&#34;:1360,&#34;minutes&#34;:7},&#34;description&#34;:&#34;rediså®‰è£…\nå®‰è£…gcc\nyum install gcc-c++\n\nè§£å‹æºç \ntar -zxvf redis-3.0.0.tar.gz\n\nè¿›å…¥è§£å‹åçš„ç›®å½•è¿›è¡Œç¼–è¯‘\ncd /usr/local/redis-3.0.0\nmake PREFIX...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#redis%E5%AE%89%E8%A3%85\&#34;&gt;rediså®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#springdataredis%E7%AE%80%E4%BB%8B\&#34;&gt;SpringDataRedisç®€ä»‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#redis\&#34;&gt;Redis&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#jedis\&#34;&gt;Jedis&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#spring-data-redis\&#34;&gt;Spring Data Redis&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#spring-data-redis%E5%85%A5%E9%97%A8%E5%B0%8Fdemo\&#34;&gt;Spring Data Rediså…¥é—¨å°Demo&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;ä»€ä¹ˆæ˜¯jms\&#34;&gt;ä»€ä¹ˆæ˜¯jms&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;JMSï¼ˆjava Messaging Serviceï¼‰æ˜¯Javaå¹³å°ä¸Šæœ‰å…³é¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„æŠ€æœ¯è§„èŒƒï¼Œå®ƒä¾¿äºæ¶ˆæ¯ç³»ç»Ÿä¸­çš„Javaåº”ç”¨ç¨‹åºè¿›è¡Œæ¶ˆæ¯äº¤æ¢,å¹¶ä¸”é€šè¿‡æä¾›æ ‡å‡†çš„äº§ç”Ÿã€å‘é€ã€æ¥æ”¶æ¶ˆæ¯çš„æ¥å£ç®€åŒ–ä¼ä¸šåº”ç”¨çš„å¼€å‘ã€‚&lt;/p&gt;\n&lt;p&gt;â€‹    JMSæœ¬èº«åªå®šä¹‰äº†ä¸€ç³»åˆ—çš„æ¥å£è§„èŒƒï¼Œæ˜¯ä¸€ç§ä¸å‚å•†æ— å…³çš„ APIï¼Œç”¨æ¥è®¿é—®æ¶ˆæ¯æ”¶å‘ç³»ç»Ÿã€‚å®ƒç±»ä¼¼äº JDBC(java Database Connectivity)ï¼šè¿™é‡Œï¼ŒJDBC æ˜¯å¯ä»¥ç”¨æ¥è®¿é—®è®¸å¤šä¸åŒå…³ç³»æ•°æ®åº“çš„ APIï¼Œè€Œ JMS åˆ™æä¾›åŒæ ·ä¸å‚å•†æ— å…³çš„è®¿é—®æ–¹æ³•ï¼Œä»¥è®¿é—®æ¶ˆæ¯æ”¶å‘æœåŠ¡ã€‚è®¸å¤šå‚å•†ç›®å‰éƒ½æ”¯æŒ JMSï¼ŒåŒ…æ‹¬ IBM çš„ MQSeriesã€BEAçš„ Weblogic JMS serviceå’Œ Progress çš„ SonicMQï¼Œè¿™åªæ˜¯å‡ ä¸ªä¾‹å­ã€‚ JMS ä½¿æ‚¨èƒ½å¤Ÿé€šè¿‡æ¶ˆæ¯æ”¶å‘æœåŠ¡ï¼ˆæœ‰æ—¶ç§°ä¸ºæ¶ˆæ¯ä¸­ä»‹ç¨‹åºæˆ–è·¯ç”±å™¨ï¼‰ä»ä¸€ä¸ª JMS å®¢æˆ·æœºå‘å¦ä¸€ä¸ª JML å®¢æˆ·æœºå‘é€æ¶ˆæ¯ã€‚æ¶ˆæ¯æ˜¯ JMS ä¸­çš„ä¸€ç§ç±»å‹å¯¹è±¡ï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæŠ¥å¤´å’Œæ¶ˆæ¯ä¸»ä½“ã€‚æŠ¥å¤´ç”±è·¯ç”±ä¿¡æ¯ä»¥åŠæœ‰å…³è¯¥æ¶ˆæ¯çš„å…ƒæ•°æ®ç»„æˆã€‚æ¶ˆæ¯ä¸»ä½“åˆ™æºå¸¦ç€åº”ç”¨ç¨‹åºçš„æ•°æ®æˆ–æœ‰æ•ˆè´Ÿè½½ã€‚&lt;/p&gt;\n&lt;p&gt;JMS å®šä¹‰äº†äº”ç§ä¸åŒçš„æ¶ˆæ¯æ­£æ–‡æ ¼å¼ï¼Œä»¥åŠè°ƒç”¨çš„æ¶ˆæ¯ç±»å‹ï¼Œå…è®¸ä½ å‘é€å¹¶æ¥æ”¶ä»¥ä¸€&lt;/p&gt;\n&lt;p&gt;äº›ä¸åŒå½¢å¼çš„æ•°æ®ï¼Œæä¾›ç°æœ‰æ¶ˆæ¯æ ¼å¼çš„ä¸€äº›çº§åˆ«çš„å…¼å®¹æ€§ã€‚&lt;/p&gt;\n&lt;p&gt;TextMessage--ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆåº”ç”¨æœ€å¹¿æ³›çš„ä¸€ç§ï¼‰&lt;/p&gt;\n&lt;p&gt;MapMessage--ä¸€å¥—åç§°-å€¼å¯¹&lt;/p&gt;\n&lt;p&gt;ObjectMessage--ä¸€ä¸ªåºåˆ—åŒ–çš„ Java å¯¹è±¡&lt;/p&gt;\n&lt;p&gt;BytesMessage--ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®æµ&lt;/p&gt;\n&lt;p&gt;StreamMessage -- Java åŸå§‹å€¼çš„æ•°æ®æµ&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;jmsæ¶ˆæ¯ä¼ é€’ç±»å‹\&#34;&gt;JMSæ¶ˆæ¯ä¼ é€’ç±»å‹&lt;/h2&gt;\n&lt;p&gt;å¯¹äºæ¶ˆæ¯çš„ä¼ é€’æœ‰ä¸¤ç§ç±»å‹ï¼š&lt;br&gt;\nä¸€ç§æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼Œå³ä¸€ä¸ªç”Ÿäº§è€…å’Œä¸€ä¸ªæ¶ˆè´¹è€…ä¸€ä¸€å¯¹åº”ï¼›&lt;br&gt;\n&lt;img src=\&#34;https://haohanya.github.io/post-images/1589686388156.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå¦ä¸€ç§æ˜¯å‘å¸ƒ/ è®¢é˜…æ¨¡å¼ï¼Œå³ä¸€ä¸ªç”Ÿäº§è€…äº§ç”Ÿæ¶ˆæ¯å¹¶è¿›è¡Œå‘é€åï¼Œå¯ä»¥ç”±å¤šä¸ªæ¶ˆè´¹è€…è¿›&lt;br&gt;\nè¡Œæ¥æ”¶ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://haohanya.github.io/post-images/1589686418709.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h2 id=\&#34;å®‰è£…\&#34;&gt;å®‰è£…&lt;/h2&gt;\n&lt;p&gt;1ã€ä¸Šä¼ activeMQåˆ°æœåŠ¡å™¨&lt;/p&gt;\n&lt;p&gt;2ã€è§£å‹ &lt;code&gt;tar -zxvf apache-activemq-5.12.0-bin.tar.gz&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;3ã€ç§»åŠ¨æ–‡ä»¶ &lt;code&gt;mv apache-activemq-5.12.0 /usr/local/java/activemq-5.12.0&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;4ã€è¿›å…¥bin &lt;code&gt;cd /usr/local/java/activemq-5.12.0/bin&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;5ã€å¯åŠ¨activeMQ &lt;code&gt;./activemq start&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;6ã€è®¿é—®ï¼š&lt;code&gt;ip:8161&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;è´¦å·ï¼šadmin&lt;/p&gt;\n&lt;p&gt;å¯†ç ï¼šadmin&lt;/p&gt;\n&lt;h2 id=\&#34;jmsæµ‹è¯•\&#34;&gt;JMSæµ‹è¯•&lt;/h2&gt;\n&lt;h3 id=\&#34;ç‚¹å¯¹ç‚¹æ¨¡å¼\&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/h3&gt;\n&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;dependencies&amp;gt;\n    &amp;lt;dependency&amp;gt;\n        &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;\n        &amp;lt;artifactId&amp;gt;activemq-client&amp;lt;/artifactId&amp;gt;\n        &amp;lt;version&amp;gt;5.13.4&amp;lt;/version&amp;gt;\n    &amp;lt;/dependency&amp;gt;\n&amp;lt;/dependencies&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…QueueProducer&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public static void main(String[] args) throws JMSException {\n    //1ã€åˆ›å»ºå·¥å‚\n    ConnectionFactory connectionFactory  = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);\n    //2ã€è·å–è¿æ¥\n    Connection connection = connectionFactory.createConnection();\n    //3ã€å¯åŠ¨è¿æ¥\n    connection.start();\n    /** 4ã€è·å–session  \n    \tå‚æ•°1ï¼šæ˜¯å¦å¯ç”¨äº‹åŠ¡ \n    \tå‚æ•°2ï¼šæ¶ˆæ¯ç¡®è®¤æ¨¡å¼\n            AUTO_ACKNOWLEDGE = 1    è‡ªåŠ¨ç¡®è®¤\n            CLIENT_ACKNOWLEDGE = 2    å®¢æˆ·ç«¯æ‰‹åŠ¨ç¡®è®¤   \n            DUPS_OK_ACKNOWLEDGE = 3    è‡ªåŠ¨æ‰¹é‡ç¡®è®¤\n            SESSION_TRANSACTED = 0    äº‹åŠ¡æäº¤å¹¶ç¡®è®¤\n\t*/\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    //5ã€åˆ›å»ºé˜Ÿåˆ—å¯¹è±¡\n    Queue queue = session.createQueue(&amp;quot;test-queue&amp;quot;);\n    //6ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§ç€\n    MessageProducer messageProducer = session.createProducer(queue);\n    //7ã€åˆ›å»ºæ¶ˆæ¯\n    TextMessage textMessage = session.createTextMessage(&amp;quot;æµ‹è¯•æ–‡æœ¬å†…å®¹&amp;quot;);\n    //8ã€å‘é€æ¶ˆæ¯\n    messageProducer.send(textMessage);\n    //9ã€å…³é—­èµ„æº\n    messageProducer.close();\n    session.close();\n    connection.close();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…QueueConsumer&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public static void main(String[] args) throws JMSException, IOException {\n    //1ã€åˆ›å»ºè¿æ¥å·¥å‚\n    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);\n    //2ã€è·å–è¿æ¥\n    Connection connection = connectionFactory.createConnection();\n    //3ã€å¯åŠ¨è¿æ¥\n    connection.start();\n    //4ã€è·å–session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    //5ã€åˆ›å»ºé˜Ÿåˆ—å¯¹è±¡\n    Queue queue = session.createQueue(&amp;quot;test-queue&amp;quot;);\n    //6ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹\n    MessageConsumer consumer = session.createConsumer(queue);\n    //7ã€ç›‘å¬æ¶ˆæ¯\n    consumer.setMessageListener(new MessageListener() {\n        @Override\n        public void onMessage(Message message) {\n            TextMessage textMessage = (TextMessage) message;\n            try {\n                System.out.println(&amp;quot;æ¥æ”¶æ¶ˆæ¯ä¸ºï¼š&amp;quot;+textMessage.getText());\n            } catch (JMSException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    //8ã€ç­‰å¾…é”®ç›˜è¾“å…¥\n    System.in.read();\n    //9ã€å…³é—­èµ„æº\n    consumer.close();\n    session.close();\n    connection.close();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å‘å¸ƒè®¢é˜…æ¨¡å¼\&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/h3&gt;\n&lt;p&gt;1ã€æ¶ˆæ¯ç”Ÿäº§è€…TopicProducer&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public static void main(String[] args) throws JMSException, IOException {\n    //1ã€åˆ›å»ºè¿æ¥å·¥å‚\n    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);\n    //2ã€è·å–è¿æ¥\n    Connection connection = connectionFactory.createConnection();\n    //3ã€å¯åŠ¨è¿æ¥\n    connection.start();\n    //4ã€è·å–session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    //5ã€åˆ›å»ºä¸»é¢˜å¯¹è±¡\n    Topic topic = session.createTopic(&amp;quot;test-topic&amp;quot;);\n    //6ã€åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…\n    MessageConsumer consumer = session.createConsumer(topic);\n    //7ã€ç›‘å¬æ¶ˆæ¯\n    consumer.setMessageListener(new MessageListener() {\n        @Override\n        public void onMessage(Message message) {\n            TextMessage textMessage = (TextMessage) message;\n            try {\n                System.out.println(&amp;quot;æ¥æ”¶æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());\n            } catch (JMSException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    //8ã€ç­‰å¾…é”®ç›˜è¾“å…¥\n    System.in.read();\n    //9ã€å…³é—­èµ„æº\n    consumer.close();\n    session.close();\n    connection.close();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€æ¶ˆæ¯æ¶ˆè´¹è€…TopicProducer&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public static void main(String[] args) throws JMSException {\n    //1ã€åˆ›å»ºè¿æ¥å·¥å‚\n    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&amp;quot;tcp://192.168.25.135:61616&amp;quot;);\n    //2ã€è·å–è¿æ¥\n    Connection connection = connectionFactory.createConnection();\n    //3ã€å¯åŠ¨è¿æ¥\n    connection.start();\n    //4ã€è·å–session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    //5ã€åˆ›å»ºä¸»é¢˜å¯¹è±¡\n    Topic topic = session.createTopic(&amp;quot;test-topic&amp;quot;);\n    //6ã€åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…\n    MessageProducer producer = session.createProducer(topic);\n    //7ã€åˆ›å»ºæ¶ˆæ¯\n    TextMessage topicTest = session.createTextMessage(&amp;quot;topicTest&amp;quot;);\n    //8ã€å‘é€æ¶ˆæ¯\n    producer.send(topicTest);\n    //9ã€å…³é—­èµ„æº\n    producer.close();\n    session.close();\n    connection.close();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;springæ•´åˆjms\&#34;&gt;springæ•´åˆjms&lt;/h2&gt;\n&lt;h3 id=\&#34;ç‚¹å¯¹ç‚¹æ¨¡å¼-2\&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/h3&gt;\n&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--spring-jms--&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-jms&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;4.2.4.RELEASE&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;!-- activemq --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;activemq-all&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;5.11.2&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;!-- å•å…ƒæµ‹è¯• --&amp;gt;\n&amp;lt;!-- springJunit --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-test&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;4.2.4.RELEASE&amp;lt;/version&amp;gt;\n    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;\n    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€åˆ›å»ºç”Ÿäº§è€…é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;applicationContext-jms-producer-queue.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;\n       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;\n       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;\n       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;\n    &amp;lt;!--æ¶ˆæ¯ç”Ÿäº§è€…:ç‚¹å¯¹ç‚¹--&amp;gt;\n\n    &amp;lt;context:component-scan base-package=&amp;quot;com.springjms&amp;quot;/&amp;gt;\n\n    &amp;lt;!--jmsæœåŠ¡å‚å•†æä¾›çš„è¿æ¥å·¥å‚--&amp;gt;\n    &amp;lt;bean id=&amp;quot;targetConnectionFactory&amp;quot; class=&amp;quot;org.apache.activemq.ActiveMQConnectionFactory&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;brokerURL&amp;quot; value=&amp;quot;tcp://192.168.25.137:61616&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n    &amp;lt;!--springç”¨äºç®¡ç†çœŸæ­£çš„ConnectionFactory--&amp;gt;\n    &amp;lt;bean id=&amp;quot;connectionFactory&amp;quot; class=&amp;quot;org.springframework.jms.connection.SingleConnectionFactory&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;targetConnectionFactory&amp;quot; ref=&amp;quot;targetConnectionFactory&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n    &amp;lt;!--springæä¾›çš„å·¥å…·ç±»--&amp;gt;\n    &amp;lt;bean id=&amp;quot;jmsTemplate&amp;quot; class=&amp;quot;org.springframework.jms.core.JmsTemplate&amp;quot;&amp;gt;\n        &amp;lt;constructor-arg name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n\n    &amp;lt;!--queue--&amp;gt;\n    &amp;lt;bean id=&amp;quot;queueTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQQueue&amp;quot;&amp;gt;\n        &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;queue_text&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n&amp;lt;/beans&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€å‘é€æ¶ˆæ¯&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Component\npublic class QueueProducer {\n\n    @Resource\n    private JmsTemplate jmsTemplate;\n\n    @Resource\n    private Destination queueTextDestination;\n\n    /**\n     * å‘é€æ–‡æœ¬æ¶ˆæ¯\n     * @param text  å‘é€çš„æ–‡æœ¬å†…å®¹\n     */\n    public void sendTextMessage(final String text){\n        jmsTemplate.send(queueTextDestination, new MessageCreator() {\n            @Override\n            public Message createMessage(Session session) throws JMSException {\n                return session.createTextMessage(text);\n            }\n        });\n    }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;4ã€æµ‹è¯•å‘é€æ¶ˆæ¯&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &amp;quot;classpath:applicationContext-jms-producer-queue.xml&amp;quot;)\npublic class MyTest {\n\n    @Resource\n    private QueueProducer queueProducer;\n\n    @Test\n    public void test(){\n        queueProducer.sendTextMessage(&amp;quot;Hello! queue&amp;quot;);\n    }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5ã€åˆ›å»ºæ¶ˆè´¹è€…é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;applicationContext-jms-consumer-queue.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;\n       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;\n       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;\n    &amp;lt;!--æœåŠ¡æ¶ˆè´¹è€…:ç‚¹å¯¹ç‚¹--&amp;gt;\n\n    &amp;lt;!--jsmæœåŠ¡å‚å•†æä¾›çš„è¿æ¥å·¥å‚--&amp;gt;\n    &amp;lt;bean id=&amp;quot;targetConnectionFactory&amp;quot; class=&amp;quot;org.apache.activemq.ActiveMQConnectionFactory&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;brokerURL&amp;quot; value=&amp;quot;tcp://192.168.25.137:61616&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n    &amp;lt;!--springç”¨äºç®¡ç†çœŸæ­£çš„ConnectionFactory--&amp;gt;\n    &amp;lt;bean id=&amp;quot;connectionFactory&amp;quot; class=&amp;quot;org.springframework.jms.connection.SingleConnectionFactory&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;targetConnectionFactory&amp;quot; ref=&amp;quot;targetConnectionFactory&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n    &amp;lt;!--springæä¾›çš„å·¥å…·ç±»--&amp;gt;\n    &amp;lt;bean id=&amp;quot;jmsTemplate&amp;quot; class=&amp;quot;org.springframework.jms.core.JmsTemplate&amp;quot;&amp;gt;\n        &amp;lt;constructor-arg name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n\n    &amp;lt;!--queue--&amp;gt;\n    &amp;lt;bean id=&amp;quot;queueTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQQueue&amp;quot;&amp;gt;\n        &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;queue_text&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n    &amp;lt;!--ç›‘å¬ç±»,ç”¨æ¥ç›‘å¬mqä¸­æ˜¯å¦æœ‰æ¶ˆæ¯--&amp;gt;\n    &amp;lt;bean id=&amp;quot;myMessageListener&amp;quot; class=&amp;quot;com.springjms.MyMessageListener&amp;quot;/&amp;gt;\n    &amp;lt;!--æ¶ˆæ¯çš„ç›‘å¬å™¨--&amp;gt;\n    &amp;lt;bean class=&amp;quot;org.springframework.jms.listener.DefaultMessageListenerContainer&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;destination&amp;quot; ref=&amp;quot;queueTextDestination&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;messageListener&amp;quot; ref=&amp;quot;myMessageListener&amp;quot;/&amp;gt;\n    &amp;lt;/bean&amp;gt;\n&amp;lt;/beans&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6ã€ç¼–å†™ç›‘å¬ç±»&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public class MyMessageListener implements MessageListener {\n    @Override\n    public void onMessage(Message message) {\n        TextMessage textMessage = (TextMessage) message;\n        try {\n            System.out.println(&amp;quot;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7ã€æµ‹è¯•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=&amp;quot;classpath:applicationContext-jms-consumer-queue.xml&amp;quot;)\npublic class MyTest1 {\n    @Test\n    public void testQueue(){\n        try {\n            System.in.read();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;å‘å¸ƒè®¢é˜…æ¨¡å¼-2\&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/h2&gt;\n&lt;p&gt;1ã€åˆ›å»ºç”Ÿäº§è€…ï¼Œåœ¨applicationContext-jms-producer-queue.xmlæ–°å¢å†…å®¹&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--è¿™ä¸ªæ˜¯è®¢é˜…æ¨¡å¼  æ–‡æœ¬ä¿¡æ¯--&amp;gt;  \n&amp;lt;bean id=&amp;quot;topicTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQTopic&amp;quot;&amp;gt;  \n    &amp;lt;constructor-arg value=&amp;quot;topic_text&amp;quot;/&amp;gt;  \n&amp;lt;/bean&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€å‘é€æ¶ˆæ¯&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Component\npublic class TopicProducer {\n\n    @Resource\n    private JmsTemplate jmsTemplate;\n    @Resource\n    private Destination topicTextDestination;\n\n    /**\n     * å‘é€æ¶ˆæ¯\n     * @param text\n     */\n    public void sendMessage(final String text){\n        jmsTemplate.send(topicTextDestination, new MessageCreator() {\n            @Override\n            public Message createMessage(Session session) throws JMSException {\n                return session.createTextMessage(text);\n            }\n        });\n    }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€æµ‹è¯•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &amp;quot;classpath:applicationContext-jms-producer-topic.xml&amp;quot;)\npublic class MyTest2 {\n\n    @Resource\n    private TopicProducer topicProducer;\n\n    @Test\n    public void test(){\n        topicProducer.sendMessage(&amp;quot;Hello! topic&amp;quot;);\n    }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;4ã€åˆ›å»ºæ¶ˆè´¹è€…ï¼Œåœ¨applicationContext-jms-consumer-queue.xmlæ–°å¢å†…å®¹&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--topic--&amp;gt;\n&amp;lt;bean id=&amp;quot;topicTextDestination&amp;quot; class=&amp;quot;org.apache.activemq.command.ActiveMQTopic&amp;quot;&amp;gt;\n    &amp;lt;constructor-arg name=&amp;quot;name&amp;quot; value=&amp;quot;topic_text&amp;quot;/&amp;gt;\n&amp;lt;/bean&amp;gt;\n&amp;lt;!--ç›‘å¬ç±»,ç”¨æ¥ç›‘å¬mqä¸­æ˜¯å¦æœ‰æ¶ˆæ¯--&amp;gt;\n&amp;lt;bean id=&amp;quot;topicMessageListener&amp;quot; class=&amp;quot;com.springjms.TopicMessageListener&amp;quot;/&amp;gt;\n&amp;lt;!--æ¶ˆæ¯çš„ç›‘å¬å™¨--&amp;gt;\n&amp;lt;bean class=&amp;quot;org.springframework.jms.listener.DefaultMessageListenerContainer&amp;quot;&amp;gt;\n    &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;connectionFactory&amp;quot;/&amp;gt;\n    &amp;lt;property name=&amp;quot;destination&amp;quot; ref=&amp;quot;topicTextDestination&amp;quot;/&amp;gt;\n    &amp;lt;property name=&amp;quot;messageListener&amp;quot; ref=&amp;quot;topicMessageListener&amp;quot;/&amp;gt;\n&amp;lt;/bean&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5ã€ç¼–å†™ç›‘å¬ç±»&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public class TopicMessageListener implements MessageListener {\n    @Override\n    public void onMessage(Message message) {\n        TextMessage textMessage = (TextMessage) message;\n        try {\n            System.out.println(&amp;quot;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&amp;quot;+textMessage.getText());\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6ã€ç¼–å†™æµ‹è¯•ç±»&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=&amp;quot;classpath:applicationContext-jms-consumer-topic.xml&amp;quot;)\npublic class MyTest3 {\n    @Test\n    public void testQueue(){\n        try {\n            System.in.read();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;activemq&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ActiveMQ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ActiveMQ&#34;,&#34;slug&#34;:&#34;TJ1wkA5NP&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/TJ1wkA5NP/&#34;}],&#34;date&#34;:&#34;2020-05-17 11:28:44&#34;,&#34;dateFormat&#34;:&#34;2020-05-17&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/activemq/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;13 min read&#34;,&#34;time&#34;:765000,&#34;words&#34;:2496,&#34;minutes&#34;:13},&#34;description&#34;:&#34;ä»€ä¹ˆæ˜¯jms\n\nJMSï¼ˆjava Messaging Serviceï¼‰æ˜¯Javaå¹³å°ä¸Šæœ‰å…³é¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„æŠ€æœ¯è§„èŒƒï¼Œå®ƒä¾¿äºæ¶ˆæ¯ç³»ç»Ÿä¸­çš„Javaåº”ç”¨ç¨‹åºè¿›è¡Œæ¶ˆæ¯äº¤æ¢,å¹¶ä¸”é€šè¿‡æä¾›æ ‡å‡†çš„äº§ç”Ÿã€å‘é€ã€æ¥æ”¶æ¶ˆæ¯çš„æ¥å£ç®€åŒ–ä¼ä¸šåº”ç”¨çš„å¼€å‘ã€‚\nâ€‹    ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%80%E4%B9%88%E6%98%AFjms\&#34;&gt;ä»€ä¹ˆæ˜¯jms&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#jms%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E7%B1%BB%E5%9E%8B\&#34;&gt;JMSæ¶ˆæ¯ä¼ é€’ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85\&#34;&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#jms%E6%B5%8B%E8%AF%95\&#34;&gt;JMSæµ‹è¯•&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%82%B9%E5%AF%B9%E7%82%B9%E6%A8%A1%E5%BC%8F\&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F\&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#spring%E6%95%B4%E5%90%88jms\&#34;&gt;springæ•´åˆjms&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%82%B9%E5%AF%B9%E7%82%B9%E6%A8%A1%E5%BC%8F-2\&#34;&gt;ç‚¹å¯¹ç‚¹æ¨¡å¼&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F-2\&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å¼&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;ä»€ä¹ˆæ˜¯solr\&#34;&gt;ä»€ä¹ˆæ˜¯Solr&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å¤§å¤šæ•°æœç´¢å¼•æ“åº”ç”¨éƒ½å¿…é¡»å…·æœ‰æŸç§æœç´¢åŠŸèƒ½ï¼Œé—®é¢˜æ˜¯æœç´¢åŠŸèƒ½å¾€å¾€æ˜¯å·¨å¤§çš„èµ„æºæ¶ˆè€—å¹¶ä¸”å®ƒä»¬ç”±äºæ²‰é‡çš„æ•°æ®åº“åŠ è½½è€Œæ‹–å®ä½ çš„åº”ç”¨çš„æ€§èƒ½ã€‚&lt;/p&gt;\n&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè½¬ç§»è´Ÿè½½åˆ°ä¸€ä¸ªå¤–éƒ¨çš„æœç´¢æœåŠ¡å™¨æ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼ŒApache Solræ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºæœç´¢æœåŠ¡å™¨ï¼Œå®ƒé€šè¿‡ä½¿ç”¨ç±»ä¼¼RESTçš„HTTP APIï¼Œè¿™å°±ç¡®ä¿ä½ èƒ½ä»å‡ ä¹ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥ä½¿ç”¨solrã€‚&lt;/p&gt;\n&lt;p&gt;Solræ˜¯ä¸€ä¸ªå¼€æºæœç´¢å¹³å°ï¼Œç”¨äºæ„å»ºæœç´¢åº”ç”¨ç¨‹åºã€‚ å®ƒå»ºç«‹åœ¨Lucene(å…¨æ–‡æœç´¢å¼•æ“)ä¹‹ä¸Šã€‚ Solræ˜¯ä¼ä¸šçº§çš„ï¼Œå¿«é€Ÿçš„å’Œé«˜åº¦å¯æ‰©å±•çš„ã€‚ ä½¿ç”¨Solræ„å»ºçš„åº”ç”¨ç¨‹åºéå¸¸å¤æ‚ï¼Œå¯æä¾›é«˜æ€§èƒ½ã€‚&lt;/p&gt;\n&lt;p&gt;ä¸ºäº†åœ¨CNETç½‘ç»œçš„å…¬å¸ç½‘ç«™ä¸Šæ·»åŠ æœç´¢åŠŸèƒ½ï¼ŒYonik Seelyäº2004å¹´åˆ›å»ºäº†Solrã€‚å¹¶åœ¨2006å¹´1æœˆï¼Œå®ƒæˆä¸ºApacheè½¯ä»¶åŸºé‡‘ä¼šä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚å¹¶äº2016å¹´å‘å¸ƒæœ€æ–°ç‰ˆæœ¬Solr 6.0ï¼Œæ”¯æŒå¹¶è¡ŒSQLæŸ¥è¯¢çš„æ‰§è¡Œã€‚&lt;/p&gt;\n&lt;p&gt;Solrå¯ä»¥å’ŒHadoopä¸€èµ·ä½¿ç”¨ã€‚ç”±äºHadoopå¤„ç†å¤§é‡æ•°æ®ï¼ŒSolrå¸®åŠ©æˆ‘ä»¬ä»è¿™ä¹ˆå¤§çš„æºä¸­æ‰¾åˆ°æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¸ä»…é™äºæœç´¢ï¼ŒSolrä¹Ÿå¯ä»¥ç”¨äºå­˜å‚¨ç›®çš„ã€‚åƒå…¶ä»–NoSQLæ•°æ®åº“ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ç§éå…³ç³»æ•°æ®å­˜å‚¨å’Œå¤„ç†æŠ€æœ¯ã€‚&lt;/p&gt;\n&lt;p&gt;æ€»ä¹‹ï¼ŒSolræ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„ï¼Œå¯éƒ¨ç½²ï¼Œæœç´¢/å­˜å‚¨å¼•æ“ï¼Œä¼˜åŒ–æœç´¢å¤§é‡ä»¥æ–‡æœ¬ä¸ºä¸­å¿ƒçš„æ•°æ®ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;solrå®‰è£…\&#34;&gt;solrå®‰è£…&lt;/h2&gt;\n&lt;h3 id=\&#34;1-ä¸Šä¼ æ–‡ä»¶\&#34;&gt;1 ä¸Šä¼ æ–‡ä»¶&lt;/h3&gt;\n&lt;p&gt;apache-tomcat-7.0.82.tar.gz&lt;/p&gt;\n&lt;p&gt;solr-4.10.3.tgz.tgz&lt;/p&gt;\n&lt;p&gt;IK Analyzer 2012FF_hf1&lt;/p&gt;\n&lt;h3 id=\&#34;2-åˆ›å»ºç›®å½•\&#34;&gt;2 åˆ›å»ºç›®å½•&lt;/h3&gt;\n&lt;p&gt;mkdir /usr/soft/solr&lt;/p&gt;\n&lt;h3 id=\&#34;3-è§£å‹tomcatå¹¶ç§»åŠ¨åˆ°solrç›®å½•\&#34;&gt;3 è§£å‹tomcatå¹¶ç§»åŠ¨åˆ°solrç›®å½•&lt;/h3&gt;\n&lt;p&gt;tar -zxvf apache-tomcat-7.0.82.tar.gz&lt;/p&gt;\n&lt;p&gt;mv apache-tomcat-7.0.82 /usr/soft/solr/tomcat7&lt;/p&gt;\n&lt;p&gt;tar -zxvf solr-4.10.3.tgz.tgz&lt;/p&gt;\n&lt;p&gt;åœ¨solr-4.10.3/distç›®å½•ä¸‹æœ‰ä¸€ä¸ªwaråŒ… éœ€è¦æŠŠwaråŒ…ç§»åŠ¨åˆ°tomcaté‡Œè¿è¡Œ&lt;/p&gt;\n&lt;p&gt;cp ~/solr-4.10.3/dist/solr-4.10.3.war /usr/soft/solr/tomcat7/webapps/solr.war&lt;/p&gt;\n&lt;h3 id=\&#34;4-å¯åŠ¨tomcat\&#34;&gt;4 å¯åŠ¨tomcat&lt;/h3&gt;\n&lt;p&gt;cd /usr/soft/solr/tomcat7&lt;/p&gt;\n&lt;p&gt;./bin/startup.sh&lt;/p&gt;\n&lt;p&gt;æŸ¥çœ‹tomcatæ—¥å¿—(å¯é€‰)&lt;/p&gt;\n&lt;p&gt;tail -f logs/catalina.out&lt;/p&gt;\n&lt;h3 id=\&#34;5-å¼•å…¥ä¾èµ–jaråŒ…\&#34;&gt;5 å¼•å…¥ä¾èµ–jaråŒ…&lt;/h3&gt;\n&lt;p&gt;cd ~/solr-4.10.3/example/lib/ext&lt;/p&gt;\n&lt;p&gt;cp * /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/lib&lt;/p&gt;\n&lt;h3 id=\&#34;6-å¤åˆ¶é…ç½®æ–‡ä»¶\&#34;&gt;6 å¤åˆ¶é…ç½®æ–‡ä»¶&lt;/h3&gt;\n&lt;p&gt;cd ~/solr-4.10.3/example&lt;/p&gt;\n&lt;p&gt;cp -r solr /usr/soft/solr/solrhome&lt;/p&gt;\n&lt;h3 id=\&#34;7-solrå’Œsolrhomeå»ºç«‹è”ç³»\&#34;&gt;7 solrå’Œsolrhomeå»ºç«‹è”ç³»&lt;/h3&gt;\n&lt;p&gt;cd /usr/soft/solr/tomcat7/webapps/solr/WEB-INF&lt;/p&gt;\n&lt;p&gt;vi web.xml&lt;/p&gt;\n&lt;p&gt;/usr/soft/solr/solrhome&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;env-entry&amp;gt;\n\t&amp;lt;env-entry-name&amp;gt;solr/home&amp;lt;/env-entry-name&amp;gt;\n    &amp;lt;!-- è¿™é‡Œè®¾ç½®ä¸ºè‡ªå·±çš„solrhomeè·¯å¾„ --&amp;gt;\n    &amp;lt;env-entry-value&amp;gt;/usr/soft/solr/solrhome&amp;lt;/env-entry-value&amp;gt;\n    &amp;lt;env-entry-type&amp;gt;java.lang.String&amp;lt;/env-entry-type&amp;gt;\n&amp;lt;/env-entry&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;:wq&lt;/p&gt;\n&lt;h3 id=\&#34;8-é‡å¯-tomcat\&#34;&gt;8 é‡å¯ tomcat&lt;/h3&gt;\n&lt;p&gt;cd /usr/soft/solr/tomcat7/bin&lt;/p&gt;\n&lt;p&gt;./shutdown.sh&lt;/p&gt;\n&lt;p&gt;./startup.sh&lt;/p&gt;\n&lt;h3 id=\&#34;9-è®¿é—®solr\&#34;&gt;9 è®¿é—®solr&lt;/h3&gt;\n&lt;p&gt;http://192.168.25.132:8080/solr/&lt;/p&gt;\n&lt;h2 id=\&#34;é…ç½®ikåˆ†è¯å™¨\&#34;&gt;é…ç½®IKåˆ†è¯å™¨&lt;/h2&gt;\n&lt;h3 id=\&#34;ik-analyzerç®€ä»‹\&#34;&gt;IK Analyzerç®€ä»‹&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;IK Analyzer æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼ŒåŸºäº java è¯­è¨€å¼€å‘çš„è½»é‡çº§çš„ä¸­æ–‡åˆ†è¯å·¥å…·åŒ…ã€‚ä» 2006å¹´ 12 æœˆæ¨å‡º 1.0 ç‰ˆå¼€å§‹ï¼Œ IKAnalyzer å·²ç»æ¨å‡ºäº† 4 ä¸ªå¤§ç‰ˆæœ¬ã€‚æœ€åˆï¼Œå®ƒæ˜¯ä»¥å¼€æºé¡¹ç›®Luence ä¸ºåº”ç”¨ä¸»ä½“çš„ï¼Œç»“åˆè¯å…¸åˆ†è¯å’Œæ–‡æ³•åˆ†æç®—æ³•çš„ä¸­æ–‡åˆ†è¯ç»„ä»¶ã€‚ä» 3.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒIK å‘å±•ä¸ºé¢å‘ Java çš„å…¬ç”¨åˆ†è¯ç»„ä»¶ï¼Œç‹¬ç«‹äº Lucene é¡¹ç›®ï¼ŒåŒæ—¶æä¾›äº†å¯¹ Lucene çš„é»˜è®¤ä¼˜åŒ–å®ç°ã€‚åœ¨ 2012 ç‰ˆæœ¬ä¸­ï¼ŒIK å®ç°äº†ç®€å•çš„åˆ†è¯æ­§ä¹‰æ’é™¤ç®—æ³•ï¼Œæ ‡å¿—ç€ IK åˆ†è¯å™¨ä»å•çº¯çš„è¯å…¸åˆ†è¯å‘æ¨¡æ‹Ÿè¯­ä¹‰åˆ†è¯è¡åŒ–ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;1-å°†ikåˆ†è¯å™¨jaråŒ…ç§»åŠ¨åˆ°solrä¸­\&#34;&gt;1 å°†ikåˆ†è¯å™¨jaråŒ…ç§»åŠ¨åˆ°solrä¸­&lt;/h3&gt;\n&lt;p&gt;cp ~/IK\\ Analyzer\\ 2012FF_hf1/IKAnalyzer2012FF_u1.jar /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/lib&lt;/p&gt;\n&lt;h3 id=\&#34;2-åœ¨solré¡¹ç›®çš„web-inf-ç›®å½•åˆ›å»ºä¸€ä¸ªclassesç›®å½•\&#34;&gt;2 åœ¨solré¡¹ç›®çš„WEB-INF ç›®å½•åˆ›å»ºä¸€ä¸ªclassesç›®å½•&lt;/h3&gt;\n&lt;p&gt;mkdir /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/classes&lt;/p&gt;\n&lt;h3 id=\&#34;3-ç§»åŠ¨é…ç½®æ–‡ä»¶åˆ°classesç›®å½•\&#34;&gt;3 ç§»åŠ¨é…ç½®æ–‡ä»¶åˆ°classesç›®å½•&lt;/h3&gt;\n&lt;p&gt;cp IKAnalyzer.cfg.xml ext_stopword.dic mydict.dic /usr/soft/solr/tomcat7/webapps/solr/WEB-INF/classes&lt;/p&gt;\n&lt;h3 id=\&#34;4-å¯ç”¨-ç¼–è¾‘é…ç½®æ–‡ä»¶\&#34;&gt;4 å¯ç”¨---ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/h3&gt;\n&lt;p&gt;ä½¿ç”¨nppç¼–è¾‘æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;1 å®‰è£…npp (ç•¥)&lt;/p&gt;\n&lt;p&gt;2  å®‰è£…NppFTP(ç•¥)&lt;/p&gt;\n&lt;p&gt;3 è¿æ¥æœåŠ¡å™¨ (è™)&lt;/p&gt;\n&lt;p&gt;4 ç¼–è¾‘xmlæ–‡ä»¶ : /usr/soft/solr/solrhome/collection1/conf/schema.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- é…ç½®IKåˆ†è¯å™¨ --&amp;gt;\n&amp;lt;fieldType name=&amp;quot;text_ik&amp;quot; class=&amp;quot;solr.TextField&amp;quot;&amp;gt;\n    &amp;lt;analyzer class=&amp;quot;org.wltea.analyzer.lucene.IKAnalyzer&amp;quot;&amp;gt;&amp;lt;/analyzer&amp;gt;\n&amp;lt;/fieldType&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5 é‡å¯tomcat&lt;/p&gt;\n&lt;p&gt;cd /usr/soft/solr/tomcat7/bin&lt;/p&gt;\n&lt;p&gt;./shutdown.sh&lt;/p&gt;\n&lt;p&gt;./startup.sh&lt;/p&gt;\n&lt;p&gt;6 è®¿é—®url&lt;/p&gt;\n&lt;p&gt;http://192.168.25.132:8080/solr/&lt;/p&gt;\n&lt;h2 id=\&#34;åŸŸ\&#34;&gt;åŸŸ&lt;/h2&gt;\n&lt;p&gt;åŸŸ : ç›¸å½“äºæ•°æ®åº“è¡¨çš„å­—æ®µ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--\n\tname : æŒ‡å®šåŸŸçš„åç§°\n\ttype : æŒ‡å®šåŸŸçš„ç±»å‹\n\tindexed : æ˜¯å¦ç´¢å¼•\n\tstored : æ˜¯å¦å­˜å‚¨\n\trequired : æ˜¯å¦å¿…é¡»\n\tmultiValued : æ˜¯å¦å¤šå€¼\n--&amp;gt;\n&amp;lt;field name=&amp;quot;id&amp;quot; type=&amp;quot;string&amp;quot; indexed=&amp;quot;true&amp;quot; stored=&amp;quot;true&amp;quot; required=&amp;quot;true&amp;quot; multiValued=&amp;quot;false&amp;quot; /&amp;gt; \n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;spring-data-solr-demo\&#34;&gt;Spring Data Solr Demo&lt;/h2&gt;\n&lt;p&gt;1ã€å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-data-solr&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;1.5.5.RELEASE&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt; \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2ã€applicationContext-solr.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;\n\txmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xmlns:p=&amp;quot;http://www.springframework.org/schema/p&amp;quot;\n\txmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;\n\txmlns:solr=&amp;quot;http://www.springframework.org/schema/data/solr&amp;quot;\n\txsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/data/solr \n  \t\thttp://www.springframework.org/schema/data/solr/spring-solr-1.0.xsd\n\t\thttp://www.springframework.org/schema/beans \n\t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/context \n\t\thttp://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;\n\t&amp;lt;!-- solræœåŠ¡å™¨åœ°å€ --&amp;gt;\n\t&amp;lt;solr:solr-server id=&amp;quot;solrServer&amp;quot; url=&amp;quot;http://127.0.0.1:8080/solr&amp;quot; /&amp;gt;\n\t&amp;lt;!-- solræ¨¡æ¿ï¼Œä½¿ç”¨solræ¨¡æ¿å¯å¯¹ç´¢å¼•åº“è¿›è¡ŒCRUDçš„æ“ä½œ --&amp;gt;\n\t&amp;lt;bean id=&amp;quot;solrTemplate&amp;quot; class=&amp;quot;org.springframework.data.solr.core.SolrTemplate&amp;quot;&amp;gt;\n\t\t&amp;lt;constructor-arg ref=&amp;quot;solrServer&amp;quot; /&amp;gt;\n\t&amp;lt;/bean&amp;gt;\n&amp;lt;/beans&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€@Field æ³¨è§£&lt;/p&gt;\n&lt;p&gt;ä½œç”¨ï¼šå¦‚æœåœ¨pojoä¸Šæ·»åŠ äº†è¿™ä¸ªæ³¨è§£ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§ä¼šè¢«å¼•ç”¨åˆ°solrï¼Œvalueä¸ºæŒ‡å®šsolrä¸­fieldå®šä¹‰çš„nameï¼Œå¦‚æœä¸€æ ·å¯ä»¥çœç•¥&lt;/p&gt;\n&lt;p&gt;@Dynamicæ³¨è§£ï¼Œåœ¨å±æ€§ä¸Šå®šä¹‰å°±è¡¨ç¤ºæ˜¯ä¸€ä¸ªåŠ¨æ€åŸŸ&lt;/p&gt;\n&lt;p&gt;4ã€æ·»åŠ &lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Autowired\nprivate SolrTemplate solrTemplate;\n\nsolrTemplate.saveBean(item);\n//æ·»åŠ å¤šæ¡æ•°æ®å¯ä»¥ä½¿ç”¨saveBeans\nsolrTemplate.commit();//æäº¤äº‹åŠ¡\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5ã€æŒ‰ä¸»é”®æŸ¥è¯¢&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;//å‚æ•°1 ï¼šè¦æŸ¥è¯¢çš„ä¸»é”®ID\n//å‚æ•°2 ï¼šè¿”å›çš„æ•°æ®ç±»å‹\nsolrTemplate.getById(1,TbItem.class)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6ã€æŒ‰ä¸»é”®åˆ é™¤&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;solrTemplate.deleteById(&amp;quot;1&amp;quot;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;7ã€åˆ†é¡µæŸ¥è¯¢&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;//æ¡ä»¶\nQuery query = newSimpleQuery(&amp;quot;*:*&amp;quot;);\n//æŸ¥è¯¢æ¡ä»¶\nCriteria criteria = new Criteria();\n//and ï¼šæŸ¥è¯¢çš„åŸŸ\n//contains ï¼šæŸ¥è¯¢çš„å…³é”®å­—\ncriteria.and(&amp;quot;item_title&amp;quot;).contains(&amp;quot;æ‰‹æœº&amp;quot;);\n//å°†æŸ¥è¯¢æ¡ä»¶æ·»åŠ åˆ°queyrä¸­\nquery.addCriteria(criteria);\nquery.setOffset(0);//å¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º0ï¼Œç¿»é¡µè§„åˆ™ (pageNow - 1) * pageSize\nquery.setRows(20);//æ¯é¡µè®°å½•æ¡æ•°\n//ScoredPage ï¼šsolrçš„åˆ†é¡µæŸ¥è¯¢\n//å‚æ•°1ï¼šæŸ¥è¯¢æ¡ä»¶\n//å‚æ•°2ï¼šè¿”å›ç±»å‹\nScoredPage&amp;lt;TbItem&amp;gt; page = solrTemplate.queryForPage(query,TbItem.class)\nSystem.out.pringln(&amp;quot;æ€»è®°å½•æ•°:&amp;quot;+page.getTotalElements());\nList&amp;lt;TbItem&amp;gt; list = page.getContent();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;8ã€é«˜äº®æŸ¥è¯¢&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Resource\nprivate SolrTemplate solrTemplate;\n\n@Override\npublic Map&amp;lt;String, Object&amp;gt; search(Map&amp;lt;String, Object&amp;gt; searchMap) {\n\n    Map&amp;lt;String,Object&amp;gt; map = new HashMap&amp;lt;String, Object&amp;gt;();\n\n    //è®¾ç½®æœç´¢é«˜äº®\n    HighlightQuery query = new SimpleHighlightQuery();\n\n    //è®¾ç½®é«˜äº®çš„åŸŸ\n    HighlightOptions highlightOptions = new HighlightOptions().addField(&amp;quot;item_title&amp;quot;);\n\n    //è®¾ç½®é«˜äº®å‰ç¼€\n    highlightOptions.setSimplePrefix(&amp;quot;&amp;lt;em style=&#39;color:red&#39;&amp;gt;&amp;quot;);\n    //è®¾ç½®é«˜äº®åç¼€\n    highlightOptions.setSimplePostfix(&amp;quot;&amp;lt;/em&amp;gt;&amp;quot;);\n\n    //è®¾ç½®é«˜äº®é€‰é¡¹\n    query.setHighlightOptions(highlightOptions);\n\n    //æŒ‰ç…§å…³é”®å­—æŸ¥è¯¢\n    Criteria criteria = new Criteria(&amp;quot;item_keywords&amp;quot;).is(searchMap.get(&amp;quot;keywords&amp;quot;));\n\n    //æ·»åŠ æ¡ä»¶\n    query.addCriteria(criteria);\n\n    //åˆ°solrä¸­æŸ¥è¯¢\n    HighlightPage&amp;lt;TbItem&amp;gt; page = solrTemplate.queryForHighlightPage(query,TbItem.class);\n\n    //å¾ªç¯é«˜äº®å…¥å£é›†åˆ\n    for (HighlightEntry&amp;lt;TbItem&amp;gt; entry : page.getHighlighted()) {\n        //è·å–åŸå®ä½“ç±»\n        TbItem tbItem = entry.getEntity();\n\n        //åˆ¤æ–­æ˜¯å¦æœ‰é«˜äº®å†…å®¹\n        if(entry.getHighlights().size() &amp;gt; 0 &amp;amp;&amp;amp; entry.getHighlights().get(0).getSnipplets().size() &amp;gt; 0 ){\n            //è®¾ç½®é«˜äº®çš„ç»“æœ\n            tbItem.setTitle(entry.getHighlights().get(0).getSnipplets().get(0));\n        }\n    }\n    map.put(&amp;quot;rows&amp;quot;,page.getContent());\n\n    return map;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;solr-an-zhuang-shi-yong&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;solrå®‰è£…ä½¿ç”¨&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;solr&#34;,&#34;slug&#34;:&#34;D-nvo_2ol&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/D-nvo_2ol/&#34;}],&#34;date&#34;:&#34;2020-05-12 18:47:23&#34;,&#34;dateFormat&#34;:&#34;2020-05-12&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/solr-an-zhuang-shi-yong/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;9 min read&#34;,&#34;time&#34;:521000,&#34;words&#34;:1850,&#34;minutes&#34;:9},&#34;description&#34;:&#34;ä»€ä¹ˆæ˜¯Solr\n\nå¤§å¤šæ•°æœç´¢å¼•æ“åº”ç”¨éƒ½å¿…é¡»å…·æœ‰æŸç§æœç´¢åŠŸèƒ½ï¼Œé—®é¢˜æ˜¯æœç´¢åŠŸèƒ½å¾€å¾€æ˜¯å·¨å¤§çš„èµ„æºæ¶ˆè€—å¹¶ä¸”å®ƒä»¬ç”±äºæ²‰é‡çš„æ•°æ®åº“åŠ è½½è€Œæ‹–å®ä½ çš„åº”ç”¨çš„æ€§èƒ½ã€‚\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè½¬ç§»è´Ÿè½½åˆ°ä¸€ä¸ªå¤–éƒ¨çš„æœç´¢æœåŠ¡å™¨æ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼ŒApache Solræ˜¯ä¸€ä¸ªæµè¡Œçš„...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%80%E4%B9%88%E6%98%AFsolr\&#34;&gt;ä»€ä¹ˆæ˜¯Solr&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#solr%E5%AE%89%E8%A3%85\&#34;&gt;solrå®‰è£…&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6\&#34;&gt;1 ä¸Šä¼ æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95\&#34;&gt;2 åˆ›å»ºç›®å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E8%A7%A3%E5%8E%8Btomcat%E5%B9%B6%E7%A7%BB%E5%8A%A8%E5%88%B0solr%E7%9B%AE%E5%BD%95\&#34;&gt;3 è§£å‹tomcatå¹¶ç§»åŠ¨åˆ°solrç›®å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-%E5%90%AF%E5%8A%A8tomcat\&#34;&gt;4 å¯åŠ¨tomcat&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96jar%E5%8C%85\&#34;&gt;5 å¼•å…¥ä¾èµ–jaråŒ…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6-%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\&#34;&gt;6 å¤åˆ¶é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7-solr%E5%92%8Csolrhome%E5%BB%BA%E7%AB%8B%E8%81%94%E7%B3%BB\&#34;&gt;7 solrå’Œsolrhomeå»ºç«‹è”ç³»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#8-%E9%87%8D%E5%90%AF-tomcat\&#34;&gt;8 é‡å¯ tomcat&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#9-%E8%AE%BF%E9%97%AEsolr\&#34;&gt;9 è®¿é—®solr&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AEik%E5%88%86%E8%AF%8D%E5%99%A8\&#34;&gt;é…ç½®IKåˆ†è¯å™¨&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#ik-analyzer%E7%AE%80%E4%BB%8B\&#34;&gt;IK Analyzerç®€ä»‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E5%B0%86ik%E5%88%86%E8%AF%8D%E5%99%A8jar%E5%8C%85%E7%A7%BB%E5%8A%A8%E5%88%B0solr%E4%B8%AD\&#34;&gt;1 å°†ikåˆ†è¯å™¨jaråŒ…ç§»åŠ¨åˆ°solrä¸­&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-%E5%9C%A8solr%E9%A1%B9%E7%9B%AE%E7%9A%84web-inf-%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAclasses%E7%9B%AE%E5%BD%95\&#34;&gt;2 åœ¨solré¡¹ç›®çš„WEB-INF ç›®å½•åˆ›å»ºä¸€ä¸ªclassesç›®å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E7%A7%BB%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%88%B0classes%E7%9B%AE%E5%BD%95\&#34;&gt;3 ç§»åŠ¨é…ç½®æ–‡ä»¶åˆ°classesç›®å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-%E5%90%AF%E7%94%A8-%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\&#34;&gt;4 å¯ç”¨---ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9F%9F\&#34;&gt;åŸŸ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#spring-data-solr-demo\&#34;&gt;Spring Data Solr Demo&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;spring-securityç®€ä»‹\&#34;&gt;Spring Securityç®€ä»‹&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Spring Securityæ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäºSpringçš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç»„å¯ä»¥åœ¨Springåº”ç”¨ä¸Šä¸‹æ–‡ä¸­é…ç½®çš„Beanï¼Œå……åˆ†åˆ©ç”¨äº†Spring IoCï¼ŒDIï¼ˆæ§åˆ¶åè½¬Inversion of Control ,DI:Dependency Injection ä¾èµ–æ³¨å…¥ï¼‰å’ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰åŠŸèƒ½ï¼Œä¸ºåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œå‡å°‘äº†ä¸ºä¼ä¸šç³»ç»Ÿå®‰å…¨æ§åˆ¶ç¼–å†™å¤§é‡é‡å¤ä»£ç çš„å·¥ä½œã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;å•æœºç‰ˆ\&#34;&gt;å•æœºç‰ˆ&lt;/h2&gt;\n&lt;p&gt;1.å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;!-- èº«ä»½éªŒè¯ --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-security-web&amp;lt;/artifactId&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-security-config&amp;lt;/artifactId&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;!-- more --&gt;\n&lt;p&gt;2.é…ç½®æ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;beans:beans xmlns=&amp;quot;http://www.springframework.org/schema/security&amp;quot;\n             xmlns:beans=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;\n             xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;\n             xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n\t\t\t\t\t\thttp://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&amp;quot;&amp;gt;\n    &amp;lt;!-- ä»¥ä¸‹é¡µé¢ä¸è¢«æ‹¦æˆª --&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/login.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/css/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/img/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/js/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/plugins/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n\n    &amp;lt;!--\n            é¡µé¢æ‹¦æˆªè§„åˆ™\n                use-expressions:æ˜¯å¦å¯ç”¨spelè¡¨è¾¾å¼, å¦‚æœä¸ºtrueé‚£ä¹ˆaccess=&amp;quot;hasRole(&#39;ROLE_USER&#39;)&amp;quot;\n        --&amp;gt;\n    &amp;lt;!-- é¡µé¢æ‹¦æˆªè§„åˆ™ --&amp;gt;\n    &amp;lt;http use-expressions=&amp;quot;false&amp;quot;&amp;gt;\n        &amp;lt;!--\n            pattern : æ‹¦æˆªçš„url\n            access : æ‹¥æœ‰å¦‚ä¸‹æƒé™å…è®¸è®¿é—®\n        --&amp;gt;\n        &amp;lt;intercept-url pattern=&amp;quot;/**&amp;quot; access=&amp;quot;ROLE_ADMIN&amp;quot; /&amp;gt;\n        &amp;lt;!--\n            login-page : è‡ªå®šä¹‰ç™»é™†é¡µé¢\n            default-target-url : ç™»é™†æˆåŠŸåè·³è½¬çš„é¡µé¢,ä¸è®¾å®šé»˜è®¤è·³è½¬ä¸Šä¸€æ¬¡è®¿é—®çš„é¡µé¢\n            authentication-failure-url : ç™»é™†å¤±è´¥æ—¶è·³è½¬çš„url\n            always-use-default-target : ç™»é™†æˆåŠŸå æ€»æ˜¯è·³è½¬åˆ° default-target-url è®¾å®šçš„url\n        --&amp;gt;\n        &amp;lt;form-login login-page=&amp;quot;/login.html&amp;quot;  default-target-url=&amp;quot;/admin/index.html&amp;quot; authentication-failure-url=&amp;quot;/login.html&amp;quot; always-use-default-target=&amp;quot;true&amp;quot;/&amp;gt;\n        &amp;lt;csrf disabled=&amp;quot;true&amp;quot;/&amp;gt;\n\n        &amp;lt;!--\n            logout-url : é€€å‡ºçš„åœ°å€\n            logout-success-url : é€€å‡ºåè·³è½¬çš„åœ°å€\n        --&amp;gt;\n        &amp;lt;logout logout-url=&amp;quot;/logout&amp;quot; logout-success-url=&amp;quot;/login.html&amp;quot;/&amp;gt;\n        &amp;lt;!--\n            å¦‚æœä½¿ç”¨äº†iframe,éœ€è¦æŒ‡å®šæ¡†æ¶é¡µçš„ç­–ç•¥ä¸º SAMEORIGIN\n        --&amp;gt;\n        &amp;lt;headers&amp;gt;\n            &amp;lt;frame-options policy=&amp;quot;SAMEORIGIN&amp;quot;/&amp;gt;  &amp;lt;!--å…è®¸ä½¿ç”¨frameset --&amp;gt;\n        &amp;lt;/headers&amp;gt;\n    &amp;lt;/http&amp;gt;\n\n    &amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;\n    &amp;lt;authentication-manager&amp;gt;\n        &amp;lt;authentication-provider&amp;gt;\n            &amp;lt;user-service&amp;gt;\n                &amp;lt;!--ç”¨æˆ·åå’Œå¯†ç ,æƒé™--&amp;gt;\n                &amp;lt;user name=&amp;quot;root&amp;quot; password=&amp;quot;root&amp;quot; authorities=&amp;quot;ROLE_ADMIN&amp;quot;/&amp;gt;\n            &amp;lt;/user-service&amp;gt;\n        &amp;lt;/authentication-provider&amp;gt;\n    &amp;lt;/authentication-manager&amp;gt;\n\n&amp;lt;/beans:beans&amp;gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3.é…ç½®web.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;context-param&amp;gt;\n    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;\n    &amp;lt;param-value&amp;gt;classpath:spring/spring-security.xml&amp;lt;/param-value&amp;gt;\n&amp;lt;/context-param&amp;gt;\n&amp;lt;listener&amp;gt;\n    &amp;lt;listener-class&amp;gt;\n        org.springframework.web.context.ContextLoaderListener\n    &amp;lt;/listener-class&amp;gt;\n&amp;lt;/listener&amp;gt;\n&amp;lt;filter&amp;gt;\n    &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;\n    &amp;lt;filter-class&amp;gt;org.springframework.web.filter.DelegatingFilterProxy&amp;lt;/filter-class&amp;gt;\n&amp;lt;/filter&amp;gt;\n&amp;lt;filter-mapping&amp;gt;\n    &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;\n    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;\n&amp;lt;/filter-mapping&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;è¿æ¥æ•°æ®åº“\&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/h2&gt;\n&lt;p&gt;1.å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;p&gt;2.å®ç°UserDetailsServiceæ¥å£&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;package com.jd.shop.service.impl;\n\nimport com.jd.pojo.TbSeller;\nimport com.jd.sellergoods.service.TbSellerService;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * è®¤è¯ç±»\n * @program: jd\n * @author: æ½˜\n * @create: 2020-04-29 22:43\n **/\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n    private TbSellerService tbSellerService;\n\n    public void setTbSellerService(TbSellerService tbSellerService) {\n        this.tbSellerService = tbSellerService;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        if(username == null){\n            return null;\n        }\n\n        TbSeller byId = tbSellerService.findById(username);\n\n        if(byId == null){\n            return null;\n        }\n\n        //æ„å»ºè§’è‰²åˆ—è¡¨\n        List&amp;lt;GrantedAuthority&amp;gt; list = new ArrayList&amp;lt;&amp;gt;();\n\n        //ç”¨æˆ·çš„æƒé™é›†åˆ\n        list.add(new SimpleGrantedAuthority(&amp;quot;ROLE_USER&amp;quot;));\n\n        return new User(username,byId.getPassword(),list);\n    }\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3.é…ç½®æ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;beans:beans xmlns=&amp;quot;http://www.springframework.org/schema/security&amp;quot;\n             xmlns:beans=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;\n             xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;\n             xmlns:dubbo=&amp;quot;http://code.alibabatech.com/schema/dubbo&amp;quot;\n             xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n\t\t\t\t\t\thttp://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&amp;quot;&amp;gt;\n    &amp;lt;!-- ä»¥ä¸‹é¡µé¢ä¸è¢«æ‹¦æˆª --&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/login.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/css/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/img/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/js/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/plugins/**&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n    &amp;lt;http pattern=&amp;quot;/*.html&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;\n&amp;lt;!--    &amp;lt;http pattern=&amp;quot;/login&amp;quot; security=&amp;quot;none&amp;quot;/&amp;gt;--&amp;gt;\n\n    &amp;lt;!--\n            é¡µé¢æ‹¦æˆªè§„åˆ™\n                use-expressions:æ˜¯å¦å¯ç”¨spelè¡¨è¾¾å¼, å¦‚æœä¸ºtrueé‚£ä¹ˆaccess=&amp;quot;hasRole(&#39;ROLE_USER&#39;)&amp;quot;\n        --&amp;gt;\n    &amp;lt;!-- é¡µé¢æ‹¦æˆªè§„åˆ™ --&amp;gt;\n    &amp;lt;http use-expressions=&amp;quot;false&amp;quot;&amp;gt;\n        &amp;lt;!--\n            pattern : æ‹¦æˆªçš„url\n            access : æ‹¥æœ‰å¦‚ä¸‹æƒé™å…è®¸è®¿é—®\n        --&amp;gt;\n        &amp;lt;intercept-url pattern=&amp;quot;/**&amp;quot; access=&amp;quot;ROLE_USER&amp;quot; /&amp;gt;\n        &amp;lt;!--\n            login-page : è‡ªå®šä¹‰ç™»é™†é¡µé¢\n            default-target-url : ç™»é™†æˆåŠŸåè·³è½¬çš„é¡µé¢,ä¸è®¾å®šé»˜è®¤è·³è½¬ä¸Šä¸€æ¬¡è®¿é—®çš„é¡µé¢\n            authentication-failure-url : ç™»é™†å¤±è´¥æ—¶è·³è½¬çš„url\n            always-use-default-target : ç™»é™†æˆåŠŸå æ€»æ˜¯è·³è½¬åˆ° default-target-url è®¾å®šçš„url\n        --&amp;gt;\n        &amp;lt;form-login login-processing-url=&amp;quot;/login&amp;quot; login-page=&amp;quot;/shoplogin.html&amp;quot;  default-target-url=&amp;quot;/admin/index.html&amp;quot; authentication-failure-url=&amp;quot;/shoplogin.html&amp;quot; always-use-default-target=&amp;quot;true&amp;quot;/&amp;gt;\n        &amp;lt;csrf disabled=&amp;quot;true&amp;quot;/&amp;gt;\n\n        &amp;lt;!--\n            logout-url : é€€å‡ºçš„åœ°å€\n            logout-success-url : é€€å‡ºåè·³è½¬çš„åœ°å€\n        --&amp;gt;\n        &amp;lt;logout logout-url=&amp;quot;/logout&amp;quot; logout-success-url=&amp;quot;/shoplogin.html&amp;quot;/&amp;gt;\n        &amp;lt;!--\n            å¦‚æœä½¿ç”¨äº†iframe,éœ€è¦æŒ‡å®šæ¡†æ¶é¡µçš„ç­–ç•¥ä¸º SAMEORIGIN\n        --&amp;gt;\n        &amp;lt;headers&amp;gt;\n            &amp;lt;frame-options policy=&amp;quot;SAMEORIGIN&amp;quot;/&amp;gt;  &amp;lt;!--å…è®¸ä½¿ç”¨frameset --&amp;gt;\n        &amp;lt;/headers&amp;gt;\n    &amp;lt;/http&amp;gt;\n\n    &amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;\n    &amp;lt;authentication-manager&amp;gt;\n        &amp;lt;authentication-provider user-service-ref=&amp;quot;userDetailsServiceImpl&amp;quot;/&amp;gt;\n    &amp;lt;/authentication-manager&amp;gt;\n\n    &amp;lt;!-- å¼•ç”¨dubbo æœåŠ¡ --&amp;gt;\n    &amp;lt;dubbo:application name=&amp;quot;jd-shop-web&amp;quot; /&amp;gt;\n    &amp;lt;dubbo:registry address=&amp;quot;zookeeper://47.98.157.69:2181&amp;quot; timeout=&amp;quot;30000&amp;quot;/&amp;gt;\n    &amp;lt;dubbo:annotation package=&amp;quot;com.jd.shop.controller&amp;quot; /&amp;gt;\n    \n    &amp;lt;dubbo:reference interface=&amp;quot;com.jd.sellergoods.service.TbSellerService&amp;quot; id=&amp;quot;tbSellerService&amp;quot;/&amp;gt;\n\n    &amp;lt;beans:bean id=&amp;quot;userDetailsServiceImpl&amp;quot; class=&amp;quot;com.jd.shop.service.impl.UserDetailsServiceImpl&amp;quot;&amp;gt;\n        &amp;lt;beans:property name=&amp;quot;tbSellerService&amp;quot; ref=&amp;quot;tbSellerService&amp;quot;/&amp;gt;\n    &amp;lt;/beans:bean&amp;gt;\n\n&amp;lt;/beans:beans&amp;gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;4.é…ç½®web.xmlæ–‡ä»¶&lt;/p&gt;\n&lt;h2 id=\&#34;brcyåŠ å¯†\&#34;&gt;BrcyåŠ å¯†&lt;/h2&gt;\n&lt;p&gt;1.ç¼–å†™java&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\nString encode = passwordEncoder.encode(tbSeller.getPassword());\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2.ç¼–å†™é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--è®¤è¯ç®¡ç†å™¨--&amp;gt;\n&amp;lt;authentication-manager&amp;gt;\n    &amp;lt;authentication-provider user-service-ref=&amp;quot;userDetailsServiceImpl&amp;quot;&amp;gt;\n        &amp;lt;!-- è¿™å¥è¯è¡¨ç¤ºåœ¨ç™»é™†æ—¶ä½¿ç”¨bcryåŠ å¯†éªŒè¯ --&amp;gt;\n        &amp;lt;password-encoder ref=&amp;quot;bCryptPasswordEncoder&amp;quot;/&amp;gt;\n    &amp;lt;/authentication-provider&amp;gt;\n&amp;lt;/authentication-manager&amp;gt;\n&amp;lt;!--é…ç½®åŠ å¯†,åœ¨è®¤è¯ç®¡ç†å™¨ä¸­å¼•ç”¨--&amp;gt;\n&amp;lt;beans:bean id=&amp;quot;bCryptPasswordEncoder&amp;quot; class=&amp;quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&amp;quot;/&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;è®°ä½æˆ‘\&#34;&gt;è®°ä½æˆ‘&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;input value=&amp;quot;1&amp;quot; name=&amp;quot;remember-me&amp;quot;/&amp;gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;spring-security&#34;,&#34;abstract&#34;:&#34;&lt;h2 id=\&#34;spring-securityç®€ä»‹\&#34;&gt;Spring Securityç®€ä»‹&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Spring Securityæ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäºSpringçš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç»„å¯ä»¥åœ¨Springåº”ç”¨ä¸Šä¸‹æ–‡ä¸­é…ç½®çš„Beanï¼Œå……åˆ†åˆ©ç”¨äº†Spring IoCï¼ŒDIï¼ˆæ§åˆ¶åè½¬Inversion of Control ,DI:Dependency Injection ä¾èµ–æ³¨å…¥ï¼‰å’ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰åŠŸèƒ½ï¼Œä¸ºåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œå‡å°‘äº†ä¸ºä¼ä¸šç³»ç»Ÿå®‰å…¨æ§åˆ¶ç¼–å†™å¤§é‡é‡å¤ä»£ç çš„å·¥ä½œã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;å•æœºç‰ˆ\&#34;&gt;å•æœºç‰ˆ&lt;/h2&gt;\n&lt;p&gt;1.å¼•å…¥ä¾èµ–&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;!-- èº«ä»½éªŒè¯ --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-security-web&amp;lt;/artifactId&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.springframework.security&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;spring-security-config&amp;lt;/artifactId&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;title&#34;:&#34;Spring-Security&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;spring-security&#34;,&#34;slug&#34;:&#34;YYffL2EXa&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/YYffL2EXa/&#34;},{&#34;name&#34;:&#34;spring&#34;,&#34;slug&#34;:&#34;POgCfBu13Z&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/POgCfBu13Z/&#34;}],&#34;date&#34;:&#34;2020-05-04 12:14:24&#34;,&#34;dateFormat&#34;:&#34;2020-05-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/spring-security/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;10 min read&#34;,&#34;time&#34;:540000,&#34;words&#34;:1682,&#34;minutes&#34;:10},&#34;description&#34;:&#34;Spring Securityç®€ä»‹\n\nSpring Securityæ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäºSpringçš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç»„å¯ä»¥åœ¨Springåº”ç”¨ä¸Šä¸‹æ–‡ä¸­é…ç½®çš„Beanï¼Œå……åˆ†åˆ©ç”¨äº†Spring Io...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#spring-security%E7%AE%80%E4%BB%8B\&#34;&gt;Spring Securityç®€ä»‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%95%E6%9C%BA%E7%89%88\&#34;&gt;å•æœºç‰ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93\&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#brcy%E5%8A%A0%E5%AF%86\&#34;&gt;BrcyåŠ å¯†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AE%B0%E4%BD%8F%E6%88%91\&#34;&gt;è®°ä½æˆ‘&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;å¿«é€Ÿå¼€å§‹\&#34;&gt;å¿«é€Ÿå¼€å§‹&lt;/h1&gt;\n&lt;h2 id=\&#34;1-mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶\&#34;&gt;1ã€MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE configuration\n  PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;\n&amp;lt;configuration&amp;gt;\n  &amp;lt;!-- é…ç½®æ•°æ®æº --&amp;gt;\n  &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;\n    &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;\n     &amp;lt;!--äº‹åŠ¡å¤„ç†æ–¹å¼--&amp;gt;\n      &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;\n      &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;com.mysql.jdbc.Driver&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;jdbc:mysql://localhost:3306/mybatis&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;root&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;root&amp;quot;/&amp;gt;\n      &amp;lt;/dataSource&amp;gt;\n    &amp;lt;/environment&amp;gt;\n  &amp;lt;/environments&amp;gt;\n&amp;lt;!--æ˜ å°„å™¨ï¼šæ¯ä¸€ä¸ªMapperæ¥å£éƒ½åº”è¯¥åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶&amp;lt;mappers&amp;gt;æ ‡ç­¾ä¸­æ³¨å†Œ--&amp;gt;\n  &amp;lt;mappers&amp;gt;\n  \t&amp;lt;!--ä½¿ç”¨XMLé…ç½®æ–‡ä»¶æ³¨å†Œ--&amp;gt;\n    &amp;lt;mapper resource=&amp;quot;com/cn/mybatis/dao/IcpInfoMapper.xml&amp;quot;/&amp;gt;\n    &amp;lt;!--ä½¿ç”¨ç±»æ³¨å†Œæ–¹å¼--&amp;gt;\n    &amp;lt;mapper class=&amp;quot;com.cn.mybatis.dao.IcpInfoMapper&amp;quot; /&amp;gt;\n  &amp;lt;/mappers&amp;gt;\n&amp;lt;/configuration&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;2-ormæ˜ å°„æ–‡ä»¶mapperxml\&#34;&gt;2ã€ORMæ˜ å°„æ–‡ä»¶mapper.xml&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE mapper\n  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;\n&amp;lt;!-- è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸»è¦æ˜¯é…ç½®å®ä½“ç±»å’Œæ•°æ®åº“ä¸­çš„è¡¨æ˜ å°„å…³ç³» --&amp;gt;\n&amp;lt;!-- mapperï¼šæ˜ å°„ä¿¡æ¯é…ç½® namesapce:å¦‚æœæ˜¯åœ¨ibatisçš„å¼€å‘ä¸­ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯åœ¨mybatisä¸­å°†æœ‰ç‰¹æ®Šçš„æ„ä¹‰ --&amp;gt;\n&amp;lt;mapper namespace=&amp;quot;test&amp;quot;&amp;gt;\n\t&amp;lt;!-- æŸ¥è¯¢æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ select:ä¸“é—¨ç”¨äºæŸ¥è¯¢çš„statement\n\t     id:æ˜¯statementçš„å”¯ä¸€æ ‡è¯†ç¬¦\n\t     resultType:è¿”å›å€¼å¾—ç±»å‹ï¼ˆè·Ÿè¿”å›çš„ä¸ªæ•°æ— å…³ï¼‰ï¼Œå°†è¿”å›ç±»å‹çš„å…¨é™å®šåå†™åˆ°è¿™é‡Œ\n\t --&amp;gt;\n\t&amp;lt;select id=&amp;quot;selectAllBooks&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Book&amp;quot;&amp;gt;\n\t\tselect * from book\n\t&amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;3-æ—¥å¿—æ–‡ä»¶\&#34;&gt;3ã€æ—¥å¿—æ–‡ä»¶&lt;/h2&gt;\n&lt;p&gt;&lt;code&gt;log4j.properties&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-properties\&#34;&gt;log4j.rootLogger=DEBUG,A1\nlog4j.logger.org.mybatis=DEBUG\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%c]-[%p] %m%n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;4-æµ‹è¯•\&#34;&gt;4ã€æµ‹è¯•&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;//æŸ¥è¯¢å…¨éƒ¨\n@Test\npublic void testFindAll() throws Exception{\n    //é€šè¿‡æµçš„æ–¹å¼è¯»å–é…ç½®æ–‡ä»¶\n    InputStream inputStream = Resources.getResourceAsStream(&amp;quot;mybatis-config.xml&amp;quot;);\n    //1.è¯»å–é…ç½®æ–‡ä»¶,å¾—åˆ°SqlSessionFactory\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream );\n    //2.åˆ›å»ºSqlSession\n    SqlSession sqlSession = sqlSessionFactory.openSession();\n    //3.æŸ¥è¯¢æ‰€æœ‰(å‚æ•°ï¼šæ˜¯namespace.statementId)\n    List&amp;lt;Book&amp;gt; list = sqlSession.selectList(&amp;quot;test.selectAllBooks&amp;quot;);\n    System.out.println(list);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;propertieså±æ€§\&#34;&gt;propertieså±æ€§&lt;/h1&gt;\n&lt;p&gt;åˆ›å»ºä¸€ä¸ªå¤–éƒ¨çš„propertiesæ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-properties\&#34;&gt;jdbc.dirver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;amp;characterEncoding=utf-8\njdbc.username=root\njdbc.password=root\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•ç”¨propertiesæ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;properties resource=&amp;quot;jdbc.properties&amp;quot;/&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä½¿ç”¨&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;${jdbc.dirver}\n${jdbc.url}\n${jdbc.username}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;settings\&#34;&gt;settings&lt;/h1&gt;\n&lt;p&gt;&lt;code&gt;mapUnderscoreToCamelCase&lt;/code&gt;:å¼€å¯é©¼å³°å‘½åï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆæ•°æ®åº“çš„ç»å…¸å‘½åè§„åˆ™ï¼Œåˆ°javaçš„ç»å…¸å‘½åè§„åˆ™ï¼ˆé©¼å³°å‘½åå‘ï¼‰&lt;/p&gt;\n&lt;p&gt;å¦‚ï¼šæ•°æ®åº“å«user_name  åˆ°javaç±»ï¼ˆ&lt;code&gt;pojo&lt;/code&gt;ï¼‰ä¸­æ˜¯&lt;code&gt;userName&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;settings&amp;gt;\n    &amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;\n    &amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n    &amp;lt;!--æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚\n\tæ—¥å¿—ç±»å‹ï¼š\n\tSTDOUT_LOGGING ä¸éœ€è¦å¯¼å…¥jaråŒ…ï¼Œå› ä¸ºæ˜¯mybatisè‡ªå¸¦\n\tNO_LOGGING ä»£è¡¨ä¸éœ€è¦æ—¥å¿—è¾“å‡º\n\tSLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING\n \t--&amp;gt;\n    &amp;lt;setting name=&amp;quot;logImpl&amp;quot; value=&amp;quot;STDOUT_LOGGING&amp;quot;/&amp;gt;\n&amp;lt;/settings&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åˆ†ææ—¥å¿—è¾“å‡º&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;MyBatis.assets%5Cimage-20200307124719177.png\&#34; alt=\&#34;image-20200307124719177\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h1 id=\&#34;typealiasesç±»å‹åˆ«å\&#34;&gt;typeAliasesï¼ˆç±»å‹åˆ«åï¼‰&lt;/h1&gt;\n&lt;h2 id=\&#34;è‡ªå®šä¹‰åˆ«å\&#34;&gt;è‡ªå®šä¹‰åˆ«å&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--åˆ«åï¼Œç”¨äºç®€åŒ–--&amp;gt;\n&amp;lt;typeAliases&amp;gt;\n    &amp;lt;!--typeï¼šåŒ…+ç±»åï¼Œaliasï¼šåˆ«å--&amp;gt;\n    &amp;lt;typeAlias type=&amp;quot;com.cn.mybatis.entity.IcpInfo&amp;quot; alias=&amp;quot;Icp&amp;quot; /&amp;gt;\n    &amp;lt;!--ä½¿ç”¨åŒ…çš„æ–¹å¼\n\t\tæ¯ä¸€ä¸ªåœ¨åŒ… domain.blog ä¸­çš„ Java Beanï¼Œåœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹\n\t\tä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«å\n\t\t(è¿™å¥è¯æ„æ€æ˜¯ï¼š@Alias(&amp;quot;author&amp;quot;)\n\t\tåœ¨ä½¿ç”¨åŒ…æ–¹å¼æ—¶ï¼ŒjavaBeanæ²¡æœ‰æ·»åŠ æ³¨è§£æŒ‡å®šåˆ«åæ—¶è‡ªåŠ¨ä½¿ç”¨ç±»å{é¦–å­—æ¯å°å†™})\n\t--&amp;gt;\n    &amp;lt;package name=&amp;quot;com.cn.mybatis.entity&amp;quot;/&amp;gt;\n&amp;lt;/typeAliases&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;pluginsæ’ä»¶\&#34;&gt;pluginsï¼ˆæ’ä»¶ï¼‰&lt;/h1&gt;\n&lt;h1 id=\&#34;xmlæ˜ å°„\&#34;&gt;XMLæ˜ å°„&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;cache&lt;/code&gt; â€“ å¯¹ç»™å®šå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;cache-ref&lt;/code&gt; â€“ å¯¹å…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;resultMap&lt;/code&gt; â€“ æ˜¯æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å…ƒç´ ï¼Œç”¨æ¥æè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;parameterMap&lt;/code&gt; â€“ å·²è¢«åºŸå¼ƒï¼è€å¼é£æ ¼çš„å‚æ•°æ˜ å°„ã€‚æ›´å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨å†…è”å‚æ•°ï¼Œæ­¤å…ƒç´ å¯èƒ½åœ¨å°†æ¥è¢«ç§»é™¤ã€‚æ–‡æ¡£ä¸­ä¸ä¼šä»‹ç»æ­¤å…ƒç´ ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;sql&lt;/code&gt; â€“ å¯è¢«å…¶ä»–è¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;insert&lt;/code&gt; â€“ æ˜ å°„æ’å…¥è¯­å¥&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;update&lt;/code&gt; â€“ æ˜ å°„æ›´æ–°è¯­å¥&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;delete&lt;/code&gt; â€“ æ˜ å°„åˆ é™¤è¯­å¥&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;select&lt;/code&gt; â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;select-æŸ¥è¯¢è¯­å¥\&#34;&gt;select æŸ¥è¯¢è¯­å¥&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--\n\tidï¼šä¸€èˆ¬å’ŒMepperæ¥å£çš„æ–¹æ³•åç§°ç›¸åŒï¼Œåœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚\n\tparameterTypeï¼šæ¥æ”¶ä¸€ä¸ªintç±»å‹çš„å‚æ•°\n\t\tæ¥æ”¶å‚æ•°ä½¿ç”¨#{ }åŒ…è£¹ç€ï¼Œè¿™ä¸ªå‚æ•°å¯¹åº”ç€æ¥å£çš„å‚æ•°\n\tresultTypeï¼šè¿”å›ä¸€ä¸ªhashmap ç±»å‹çš„æ•°æ®\n\n--&amp;gt;\n&amp;lt;select id=&amp;quot;selectPerson&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;hashmap&amp;quot;&amp;gt;\n  SELECT * FROM PERSON WHERE ID = #{id}\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;insert-updatea-delete\&#34;&gt;insert updatea delete&lt;/h2&gt;\n&lt;p&gt;åœ¨ä½¿ç”¨è¿™äº›è¯­å¥çš„æ—¶å€™éœ€è¦æäº¤äº‹åŠ¡ï¼šsession.commit();&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfo&amp;quot; parameterType=&amp;quot;icpInfo&amp;quot; &amp;gt;\n    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values (#{icp}, #{name}, #{address}, #{home}, #{introduce}, #{author}, #{email}, #{date}, #{type})\n&amp;lt;/insert&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è·å–æ’å…¥æ•°æ®åçš„ä¸»é”®idï¼šuseGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfo&amp;quot; useGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&amp;gt;\n    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values (#{icp}, #{name}, #{address}, #{home}, #{introduce}, #{author}, #{email}, #{date}, #{type})\n&amp;lt;/insert&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ’å…¥å¤šæ¡æ•°æ®ï¼šä¼ å…¥ä¸€ä¸ª æ•°ç»„æˆ–é›†åˆï¼Œå¹¶è¿”å›è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;insert id=&amp;quot;addIcpInfoList&amp;quot; useGeneratedKeys=&amp;quot;true&amp;quot; keyProperty=&amp;quot;cip&amp;quot;&amp;gt;\n    insert into icpinfo (icp, name, address, home, introduce, author, email, date, type) values\n    &amp;lt;foreach collection=&amp;quot;list&amp;quot; item=&amp;quot;item&amp;quot; separator=&amp;quot;,&amp;quot;&amp;gt;\n        (#{item.icp}, #{item.name}, #{item.address}, #{item.home}, #{item.introduce}, #{item.author}, #{item.email}, #{item.date}, #{item.type})\n    &amp;lt;/foreach&amp;gt;\n&amp;lt;/insert&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;åŠ¨æ€sql\&#34;&gt;åŠ¨æ€SQL&lt;/h1&gt;\n&lt;h2 id=\&#34;if\&#34;&gt;if&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;å¯¹äºè¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojoç±»å‹ï¼š\n#{pojoä¸­çš„å±æ€§å}   ${pojoä¸­çš„å±æ€§å}\n&amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;\n    and grade_id = #{gradeId}\n&amp;lt;/if&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;sqlæ³¨å…¥çš„é—®é¢˜\&#34;&gt;sqlæ³¨å…¥çš„é—®é¢˜&lt;/h2&gt;\n&lt;p&gt;åœ¨ä½¿ç”¨${}ä¼šå‡ºç°&lt;code&gt;sql&lt;/code&gt;æ³¨å…¥çš„é—®é¢˜ï¼ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ä½¿ç”¨é¢„ç¼–è¯‘ï¼‰&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;å¦‚æœä¸ºç®€å•æ•°æ®ç±»å‹éœ€è¦æŠŠnameæ¢æˆ_parameter\n&amp;lt;bind name=&amp;quot;n&amp;quot; value=&amp;quot;&#39;%&#39;+name+&#39;%&#39;&amp;quot;/&amp;gt;\nand name like #{n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;when\&#34;&gt;when&lt;/h2&gt;\n&lt;p&gt;åº”ç”¨åœºæ™¯ï¼šå¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®æ¡ä»¶æŸ¥è¯¢ï¼Œå¹¶ä¸”å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶å‰é¢æœ‰andï¼Œwhereå­å¥ä¼šè‡ªåŠ¨æŠŠè¿™ä¸ªandåˆ é™¤å†ä½œä¸ºsqlè¯­å¥è¿è¡Œ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;select id=&amp;quot;findStudentByLike&amp;quot; resultType=&amp;quot;student&amp;quot; parameterType=&amp;quot;student&amp;quot;&amp;gt;\n    select * from student\n    &amp;lt;where&amp;gt;\n        &amp;lt;if test=&amp;quot;name != null and name != &#39;&#39;&amp;quot;&amp;gt;\n            &amp;lt;bind name=&amp;quot;n&amp;quot; value=&amp;quot;&#39;%&#39;+name+&#39;%&#39;&amp;quot;/&amp;gt;\n            and name like #{n}\n        &amp;lt;/if&amp;gt;\n        &amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;\n            and grade_id = #{gradeId}\n        &amp;lt;/if&amp;gt;\n    &amp;lt;/where&amp;gt;\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;choose\&#34;&gt;choose&lt;/h2&gt;\n&lt;p&gt;å…¶å®å°±æ˜¯javaä¸­çš„switch  æˆ–è€… if...else if ...else&lt;/p&gt;\n&lt;h2 id=\&#34;set\&#34;&gt;set&lt;/h2&gt;\n&lt;p&gt;setæ ‡ç­¾ä½œç”¨ï¼šèƒ½è‡ªåŠ¨çš„åˆ¤æ–­æ˜¯å¦åœ¨sqlè¯­å¥çš„ç»“å°¾å¤„æ˜¯å¦è¦æ·»åŠ é€—å·ï¼Œå¦‚æœä¸éœ€è¦é€—å·å®ƒè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ é™¤&lt;/p&gt;\n&lt;p&gt;(å’Œwhereä¸€æ ·ä¸ä¼šè‡ªåŠ¨æ·»åŠ )&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;update id=&amp;quot;updateStudentByById&amp;quot; parameterType=&amp;quot;student&amp;quot;&amp;gt;\n    update student\n    &amp;lt;set&amp;gt;\n        &amp;lt;if test=&amp;quot;name != null&amp;quot;&amp;gt;\n            name = #{name},\n        &amp;lt;/if&amp;gt;\n        &amp;lt;if test=&amp;quot;gradeId != null&amp;quot;&amp;gt;\n            grade_id = #{gradeId}\n        &amp;lt;/if&amp;gt;\n    &amp;lt;/set&amp;gt;\n    where id = #{id}\n&amp;lt;/update&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;foreach\&#34;&gt;foreach&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;select id=&amp;quot;findStudentsById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;student&amp;quot;&amp;gt;\n        select * from student where id in\n        &amp;lt;foreach collection=&amp;quot;list&amp;quot; open=&amp;quot;(&amp;quot; separator=&amp;quot;,&amp;quot; close=&amp;quot;)&amp;quot; item=&amp;quot;item&amp;quot;&amp;gt;\n            #{item}\n        &amp;lt;/foreach&amp;gt;\n    &amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;sqlç‰‡æ®µ\&#34;&gt;SQLç‰‡æ®µ&lt;/h1&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;sql id=&amp;quot;sql&amp;quot;&amp;gt;\n    select * from student\n&amp;lt;/sql&amp;gt;\nè°ƒç”¨\n&amp;lt;include refid=&amp;quot;sql&amp;quot;&amp;gt;&amp;lt;/include&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;å¤šè¡¨è”åˆæŸ¥è¯¢\&#34;&gt;å¤šè¡¨è”åˆæŸ¥è¯¢&lt;/h1&gt;\n&lt;h2 id=\&#34;vo\&#34;&gt;VO&lt;/h2&gt;\n&lt;p&gt;è§£å†³æ€è·¯ï¼šè¦æ±‚è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœ&lt;code&gt;pojo&lt;/code&gt;ä¸èƒ½æ»¡è¶³(è¦è¿”å›çš„åˆ—ä¸å­˜åœ¨&lt;code&gt;pojo&lt;/code&gt;ä¸­)ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªVOå¯¹è±¡ï¼Œè¿™ä¸ªVOå¯¹è±¡ä¸­åŒ…å«äº†æ‰€æœ‰è¦è¿”å›çš„å­—æ®µ&lt;/p&gt;\n&lt;h3 id=\&#34;åˆ›å»ºä¸€ä¸ªvo\&#34;&gt;åˆ›å»ºä¸€ä¸ªVO&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;package cn.kgc.vo;\n\nimport cn.kgc.pojo.Student;\n//ç»§æ‰¿çš„åŸåˆ™ï¼šè¦è¿”å›çš„å­—æ®µå“ªä¸ªpojoä¸­å¤šï¼Œé‚£ä¹ˆå°±ç»§æ‰¿å“ªä¸ªpojo\npublic class StudentVO extends Student{\n\tprivate String gradeName;\n\n\tpublic String getGradeName() {\n\t\treturn gradeName;\n\t}\n\n\tpublic void setGradeName(String gradeName) {\n\t\tthis.gradeName = gradeName;\n\t}\t\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç¼–å†™mapperæ¥å£\&#34;&gt;ç¼–å†™mapperæ¥å£&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public interface StudentMapper {\n\t/**\n\t * æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼Œè¦æ±‚å±•ç¤ºå­¦ç”Ÿä¿¡æ¯ä¸­å¹´çº§åç§°(è”åˆæŸ¥è¯¢)\n\t */\n\tList&amp;lt;StudentVO&amp;gt; getStudentVO();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç¼–å†™mapperxml\&#34;&gt;ç¼–å†™mapper.xml&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;select id=&amp;quot;getStudentVO&amp;quot; resultType=&amp;quot;cn.kgc.vo.StudentVO&amp;quot;&amp;gt;\n\tSELECT s.*,g.name gradeName FROM student s,grade g WHERE s.grade_id=g.id\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä¸€å¯¹ä¸€\&#34;&gt;ä¸€å¯¹ä¸€&lt;/h2&gt;\n&lt;h3 id=\&#34;æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†\&#34;&gt;æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;resultMap id=&amp;quot;IcpInfoType&amp;quot; type=&amp;quot;icpInfo&amp;quot;&amp;gt;\n&amp;lt;!-- propertyï¼šå®ä½“ç±»çš„å¯¹è±¡å±æ€§åï¼Œ\n\tcolumnï¼šæ•°æ®åº“ä¸­å…³è”çš„åˆ—ï¼Œ\n\tjavaTypeï¼šå®ä½“ç±»å¯¹è±¡ï¼Œ\n\tselectï¼šä¸€ä¸ªsqlè¯­å¥æŸ¥è¯¢çš„æ˜¯å®ä½“å¯¹è±¡çš„sql\n--&amp;gt;\n    &amp;lt;association property=&amp;quot;type&amp;quot; column=&amp;quot;type&amp;quot; javaType=&amp;quot;type&amp;quot; select=&amp;quot;getTypeList&amp;quot; /&amp;gt;\n&amp;lt;/resultMap&amp;gt;\n&amp;lt;select id=&amp;quot;getList&amp;quot; resultMap=&amp;quot;IcpInfoType&amp;quot;&amp;gt;\n    select * from icpinfo\n&amp;lt;/select&amp;gt;\n&amp;lt;!--è¿™ä¸ªtypeID è·å–çš„æ˜¯ column=&amp;quot;type&amp;quot; è¿™ä¸ªåˆ—çš„å€¼--&amp;gt;\n&amp;lt;select id=&amp;quot;getTypeList&amp;quot; resultType=&amp;quot;type&amp;quot; &amp;gt;\n    select * from type where tid = #{id}\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†\&#34;&gt;æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;select id=&amp;quot;getList2&amp;quot; resultMap=&amp;quot;getList2&amp;quot; &amp;gt;\n    select icp, name, address, home, introduce, author, email, `date`, type, tid, tname from icpinfo i ,type t\n    where i.type = t.tid\n&amp;lt;/select&amp;gt;\n&amp;lt;!--type = è¦æŸ¥è¯¢çš„å¯¹è±¡--&amp;gt;\n&amp;lt;resultMap id=&amp;quot;getList2&amp;quot; type=&amp;quot;icpInfo&amp;quot; &amp;gt;\n    &amp;lt;!--property=å®ä½“ç±»çš„å±æ€§å column=åˆ—åoråˆ«å--&amp;gt;\n    &amp;lt;result property=&amp;quot;icp&amp;quot; column=&amp;quot;icp&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;name&amp;quot; column=&amp;quot;name&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;address&amp;quot; column=&amp;quot;address&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;home&amp;quot; column=&amp;quot;home&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;introduce&amp;quot; column=&amp;quot;introduce&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;author&amp;quot; column=&amp;quot;author&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;email&amp;quot; column=&amp;quot;email&amp;quot; /&amp;gt;\n    &amp;lt;result property=&amp;quot;date&amp;quot; column=&amp;quot;date&amp;quot; /&amp;gt;\n    &amp;lt;!--å¤æ‚ç±»å‹\n\t\tproperty=åœ¨icpInfoé‡Œçš„å±æ€§æ˜¯type\n\t\tjavaType=typeçš„å¯¹è±¡\n\t--&amp;gt;\n    &amp;lt;association property=&amp;quot;type&amp;quot; javaType=&amp;quot;type&amp;quot; &amp;gt;\n        &amp;lt;result property=&amp;quot;tid&amp;quot; column=&amp;quot;tid&amp;quot; /&amp;gt;\n        &amp;lt;result property=&amp;quot;tname&amp;quot; column=&amp;quot;tname&amp;quot; /&amp;gt;\n    &amp;lt;/association&amp;gt;\n&amp;lt;/resultMap&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä¸€å¯¹å¤š\&#34;&gt;ä¸€å¯¹å¤š&lt;/h2&gt;\n&lt;p&gt;ä¸€å¯¹å¤šåªéœ€è¦æŠŠassociationæ¢æˆ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!--ofType=&amp;quot;&amp;quot;\n\té›†åˆä¸­çš„æ³›å‹ä¿¡æ¯\n--&amp;gt;\n&amp;lt;collection property=&amp;quot;&amp;quot; ofType=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/collection&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE mapper\n  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;\n&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.GradeMapper&amp;quot;&amp;gt;\n\t&amp;lt;!-- æŸ¥è¯¢å¹´çº§ï¼ŒæŠŠå±äºè¿™ä¸ªå¹´çº§çš„æ‰€æœ‰å­¦ç”ŸæŸ¥è¯¢å‡ºæ¥ --&amp;gt;\n\t&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Grade&amp;quot; id=&amp;quot;gradeStudentMap&amp;quot;&amp;gt;\n\t\t&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n\t\t&amp;lt;!-- collection:ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»\n\t\t\tproperty:è¡¨ç¤ºä¸€å¯¹å¤šæ˜ å°„å…³ç³»åœ¨pojoä¸­çš„å±æ€§å\n\t\t\tofType:è¡¨ç¤ºè¯¥é›†åˆçš„æ³›å‹çš„å…¨é™å®šå\n\t\t --&amp;gt;\n\t\t&amp;lt;collection property=&amp;quot;studentList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.Student&amp;quot;&amp;gt;\n\t\t\t&amp;lt;id column=&amp;quot;sid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t\t&amp;lt;result column=&amp;quot;sname&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n\t\t\t&amp;lt;!-- gradeidå› ä¸ºåœ¨gradeä¸­å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å†é…ç½® --&amp;gt;\n\t\t&amp;lt;/collection&amp;gt;\n\t&amp;lt;/resultMap&amp;gt;\n\t\n\t&amp;lt;select id=&amp;quot;getGradeById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultMap=&amp;quot;gradeStudentMap&amp;quot;&amp;gt;\n\t\tSELECT \n\t\t  g.*,\n\t\t  s.id sid,\n\t\t  s.name sname\n\t\tFROM\n\t\t  grade g,\n\t\t  student s \n\t\tWHERE g.id = s.grade_id \n\t\t  AND g.id = #{id}\n\t&amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å¤šå¯¹å¤š\&#34;&gt;å¤šå¯¹å¤š&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE mapper\n  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;\n&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;\n\t&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Student&amp;quot; id=&amp;quot;studentMap&amp;quot;&amp;gt;\n\t\t&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n\t\t&amp;lt;result column=&amp;quot;grade_id&amp;quot; property=&amp;quot;gradeId&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t&amp;lt;!-- ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³» --&amp;gt;\n\t\t&amp;lt;collection property=&amp;quot;studentCourseList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.StudentCourse&amp;quot;&amp;gt;\n\t\t\t&amp;lt;id column=&amp;quot;scid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t\t&amp;lt;!-- studentCourseå’Œcourseæ˜¯ä¸€å¯¹ä¸€çš„æ˜ å°„ä¿„å…³ç³» --&amp;gt;\n\t\t\t&amp;lt;association property=&amp;quot;course&amp;quot; javaType=&amp;quot;cn.kgc.pojo.Course&amp;quot;&amp;gt;\n\t\t\t\t&amp;lt;id column=&amp;quot;cid&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t\t\t&amp;lt;result column=&amp;quot;cname&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n\t\t\t&amp;lt;/association&amp;gt;\n\t\t&amp;lt;/collection&amp;gt;\n\t&amp;lt;/resultMap&amp;gt;\n\n\t&amp;lt;select id=&amp;quot;getStudentById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultMap=&amp;quot;studentMap&amp;quot;&amp;gt;\n\tSELECT \n\t  s.*,\n\t  sc.id scid,\n\t  c.id cid,\n\t  c.name cname \n\tFROM\n\t  student s,\n\t  student_course sc,\n\t  course c \n\tWHERE s.id = sc.sid \n\t  AND c.id = sc.cid \n\t  AND s.id = #{id}\n\t&amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;å»¶è¿ŸåŠ è½½\&#34;&gt;å»¶è¿ŸåŠ è½½&lt;/h1&gt;\n&lt;p&gt;ä»€ä¹ˆæ˜¯æ‡’åŠ è½½&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;æ‡’åŠ è½½ï¼šå°±æ˜¯åœ¨éœ€è¦æ•°æ®çš„æ—¶å€™æ‰åŠ è½½ï¼Œä¸éœ€è¦æ•°æ®çš„æ—¶å€™ä¸åŠ è½½ï¼Œè¿™æ ·æœ‰åˆ©äºç³»ç»Ÿæ€§èƒ½çš„æå‡ï¼Œè¿™å°±æ˜¯æ‡’åŠ è½½ï¼ˆä¹Ÿå«åšå»¶è¿ŸåŠ è½½ï¼‰\n\nå¥½å¤„ï¼šåœ¨å…³è”æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ ¹æ®éœ€æ±‚è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œå¤§å¤§æé«˜äº†æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ã€‚ï¼ˆå•è¡¨çš„æŸ¥è¯¢æ•ˆç‡æ°¸è¿œè¦æ¯”å¤šè¡¨è”åˆæŸ¥è¯¢çš„æ•ˆç‡é«˜ï¼‰\n\nåå¤„ï¼šå› ä¸ºéœ€è¦ç”¨åˆ°æ•°æ®çš„æ—¶å€™æ‰å»åšæŸ¥è¯¢ï¼Œè¿™æ ·å¤§æ‰¹é‡çš„æ•°æ®æŸ¥è¯¢çš„æ—¶å€™ç­‰å¾…æ—¶é—´ä¼šå˜å¾—æ›´é•¿ï¼Œé€ æˆç”¨æˆ·çš„ä½“éªŒä¸‹é™\n(select * from student)ä¼šæŠŠæ‰€æœ‰çš„å­¦ç”Ÿçš„å¹´çº§ç¼–å·ä¹Ÿåœ¨é‡Œé¢\nçªç„¶è¦æŸ¥è¯¢å¹´çº§ä¿¡æ¯ï¼Œå®ƒåº•å±‚æ“ä½œæ˜¯ï¼šæ ¹æ®å¹´çº§idä¸€ä¸ªä¸€ä¸ªå»æ‰§è¡ŒæŸ¥è¯¢\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä½¿ç”¨associationå®ç°æ‡’åŠ è½½\&#34;&gt;ä½¿ç”¨&lt;code&gt;association&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/h2&gt;\n&lt;h3 id=\&#34;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½\&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;settings&amp;gt;\n  \t&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n  \t&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;\n  \t&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;\n  &amp;lt;/settings&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;GradeMapper.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE mapper\n  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;\n&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.GradeMapper&amp;quot;&amp;gt;\n\t&amp;lt;!-- æ ¹æ®idæŸ¥è¯¢å¹´çº§å¯¹è±¡ --&amp;gt;\n\t&amp;lt;select id=&amp;quot;getGradeById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Grade&amp;quot;&amp;gt;\n\t\tselect * from grade where id=#{id}\n\t&amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;StudentMapper.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE mapper\n  PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;\n&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;\n\t\n\t&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Student&amp;quot; id=&amp;quot;studentMap&amp;quot;&amp;gt;\n\t\t&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n\t\t&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n\t\t&amp;lt;!-- ä¸€ä¸ªå­¦ç”Ÿå¯¹åº”ä¸€ä¸ªå¹´çº§ï¼šä¸€å¯¹ä¸€çš„å…³ç³»æ˜ å°„\n\t\t\tå¯¹äºassociationæ–¹å¼çš„æ‡’åŠ è½½ï¼š\n\t\t\t\tselect:æ­¤å¤„è¦æ±‚æ˜¯æ ¹æ®å¹´çº§çš„idæŸ¥è¯¢å¹´çº§å¯¹è±¡çš„mapperæ¥å£ä¸­æ–¹æ³•çš„å…¨é™å®šå\n\t\t\t\tcolumn:åœ¨æ•°æ®åº“ä¸­è¡¨ä¸è¡¨ä¹‹é—´å…³ç³»çš„å¤–é”®\n\t\t --&amp;gt;\n\t\t&amp;lt;association property=&amp;quot;grade&amp;quot; javaType=&amp;quot;cn.kgc.pojo.Grade&amp;quot;\n\t\t\tselect=&amp;quot;cn.kgc.mapper.GradeMapper.getGradeById&amp;quot; column=&amp;quot;grade_id&amp;quot;&amp;gt;&amp;lt;/association&amp;gt;\n\t&amp;lt;/resultMap&amp;gt;\n\t\n\t&amp;lt;select id=&amp;quot;getAllStudents&amp;quot; resultMap=&amp;quot;studentMap&amp;quot;&amp;gt;\n\t\tselect * from student\n\t&amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä½¿ç”¨collectionå®ç°æ‡’åŠ è½½\&#34;&gt;ä½¿ç”¨&lt;code&gt;collection&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/h2&gt;\n&lt;h3 id=\&#34;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½-2\&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;settings&amp;gt;\n&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;\n&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;\n&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;\n&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;\n&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;\n&amp;lt;/settings&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;StudentMapper.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;select id=&amp;quot;getStudentsByGradeId&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;cn.kgc.pojo.Student&amp;quot;&amp;gt;\n    select * from student where grade_id=#{gradeId}\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;GradeMapper.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- æŸ¥è¯¢å¹´çº§ä¿¡æ¯ï¼Œæœ‰å¯èƒ½æŸ¥è¯¢å¹´çº§ä¸­æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯ --&amp;gt;\n&amp;lt;resultMap type=&amp;quot;cn.kgc.pojo.Grade&amp;quot; id=&amp;quot;gradeMap&amp;quot;&amp;gt;\n    &amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; javaType=&amp;quot;int&amp;quot;/&amp;gt;\n    &amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; javaType=&amp;quot;string&amp;quot;/&amp;gt;\n    &amp;lt;!-- ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»\n        select:æ ¹æ®å¹´çº§ç¼–å·æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨çš„æ–¹æ³•\n        column:å°±æ˜¯gradeçš„idï¼ˆå®ƒå°±æ˜¯gradeè¡¨çš„ä¸»é”®ï¼‰\n     --&amp;gt;\n    &amp;lt;collection property=&amp;quot;studentList&amp;quot; ofType=&amp;quot;cn.kgc.pojo.Student&amp;quot;\n        select=&amp;quot;cn.kgc.mapper.StudentMapper.getStudentsByGradeId&amp;quot; column=&amp;quot;id&amp;quot;&amp;gt;&amp;lt;/collection&amp;gt;\n&amp;lt;/resultMap&amp;gt;\n&amp;lt;select id=&amp;quot;getAllGrades&amp;quot; resultMap=&amp;quot;gradeMap&amp;quot;&amp;gt;\n    select * from grade\n&amp;lt;/select&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;mybatisç¼“å­˜\&#34;&gt;mybatisç¼“å­˜&lt;/h1&gt;\n&lt;h2 id=\&#34;ä¸€çº§ç¼“å­˜\&#34;&gt;ä¸€çº§ç¼“å­˜&lt;/h2&gt;\n&lt;p&gt;å®ƒæ˜¯&lt;code&gt;SqlSession&lt;/code&gt;çº§åˆ«çš„ï¼ŒåŒä¸€ä¸ª&lt;code&gt;SqlSession&lt;/code&gt;æ‰æ¶‰åŠåˆ°ä¸€çº§ç¼“å­˜&lt;/p&gt;\n&lt;p&gt;ä¸€çº§ç¼“å­˜æ˜¯é»˜è®¤å­˜åœ¨ï¼Œå®ƒä¸éœ€è¦å»åšä»»ä½•çš„è®¾ç½®&lt;/p&gt;\n&lt;h2 id=\&#34;äºŒçº§ç¼“å­˜\&#34;&gt;äºŒçº§ç¼“å­˜&lt;/h2&gt;\n&lt;p&gt;å®ƒæ˜¯mapperçº§åˆ«çš„ï¼Œéœ€è¦å¼€å¯æ‰èƒ½ä½¿ç”¨&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ç¼“å­˜åœ¨å®é™…å¼€å‘ä¸­æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå®ƒèƒ½å¤§å¤§çš„æå‡æŸ¥è¯¢çš„æ•ˆç‡ï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜\&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(é»˜è®¤å€¼å°±æ˜¯trueï¼Œå‡†å¤‡æˆ‘ä»¬ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¯ä»¥ä¸ç”¨è®¾ç½®) --&amp;gt;\n&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;åœ¨mappexmlä¸­å¼€å¯äºŒçº§ç¼“å­˜\&#34;&gt;åœ¨mappe.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;mapper namespace=&amp;quot;cn.kgc.mapper.StudentMapper&amp;quot;&amp;gt;\n\t&amp;lt;!-- åœ¨StudentMapper.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜ ,å› ä¸ºmybatisä¸­äºŒçº§ç¼“å­˜çš„å®ç°ç±»åªæœ‰ä¸€ä¸ªï¼Œé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œtypeå¯ä»¥çœç•¥ä¸å†™--&amp;gt;\n\t&amp;lt;cache type=&amp;quot;org.apache.ibatis.cache.impl.PerpetualCache&amp;quot;&amp;gt;&amp;lt;/cache&amp;gt;\n&amp;lt;/mapper&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£\&#34;&gt;pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£&lt;/h3&gt;\n&lt;p&gt;å› ä¸ºç¼“å­˜çš„æ—¶å€™è¦å°†pojoæµåŒ–ç„¶åå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢å†å–å‡º&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public class Student implements Serializable{\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;è¡¥å……ï¼šåœ¨mapperåº”ç”¨äºŒçº§ç¼“å­˜åï¼Œé»˜è®¤æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢æ–¹æ³•éƒ½å¼€å¯äºŒçº§ç¼“å­˜ï¼Œå¦‚æœè¦æŸä¸ªæŸ¥è¯¢ä¸ä½¿ç”¨äºŒçº§ç¼“å­˜å¯ä»¥æ·»åŠ &lt;code&gt;useCache=&amp;quot;false&amp;quot;&lt;/code&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h1 id=\&#34;æ³¨è§£å¼€å‘å…¥é—¨\&#34;&gt;æ³¨è§£å¼€å‘å…¥é—¨&lt;/h1&gt;\n&lt;p&gt;åœ¨spring4.xå¼€å§‹å°±æ¨èæˆ‘ä»¬ä½¿ç”¨æ³¨è§£ï¼Œå®Œå…¨å»å–ä»£xmlçš„é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;ç›®å‰æœ€ä¸»æµçš„å¼€å‘æ–¹å¼å°±æ˜¯ï¼šåªä½¿ç”¨æ³¨è§£ï¼Œä¸å†ä½¿ç”¨xmlé…ç½®&lt;/p&gt;\n&lt;p&gt;mybatisæ³¨è§£æ–¹å¼çš„å¼€å‘æ˜¯ä¸€ç§æœªæ¥çš„è¶‹åŠ¿,è¿™ç§æ–¹å¼æ¯”ä¼ ç»Ÿçš„xmlçš„å¼€å‘è¦ç®€å•å¹¶ä¸”é«˜æ•ˆ&lt;/p&gt;\n&lt;h2 id=\&#34;å¯¼å…¥jaråŒ…\&#34;&gt;å¯¼å…¥jaråŒ…&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;dependencies&amp;gt;\n    &amp;lt;!-- mysqlé©±åŠ¨ --&amp;gt;\n    &amp;lt;dependency&amp;gt;\n        &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;\n        &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;\n        &amp;lt;version&amp;gt;5.1.38&amp;lt;/version&amp;gt;\n    &amp;lt;/dependency&amp;gt;\n    &amp;lt;!-- mybatisçš„æ ¸å¿ƒåŒ… --&amp;gt;\n    &amp;lt;dependency&amp;gt;\n        &amp;lt;groupId&amp;gt;org.mybatis&amp;lt;/groupId&amp;gt;\n        &amp;lt;artifactId&amp;gt;mybatis&amp;lt;/artifactId&amp;gt;\n        &amp;lt;version&amp;gt;3.4.6&amp;lt;/version&amp;gt;\n    &amp;lt;/dependency&amp;gt;\n    &amp;lt;!-- junitå•å…ƒæµ‹è¯• --&amp;gt;\n    &amp;lt;dependency&amp;gt;\n        &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;\n        &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;\n        &amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;\n    &amp;lt;/dependency&amp;gt;\n    &amp;lt;!-- slf4j-log4j12  (slf4j:é…¸è¾£ç²‰) --&amp;gt;\n    &amp;lt;dependency&amp;gt;\n        &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;\n        &amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;\n        &amp;lt;version&amp;gt;1.7.25&amp;lt;/version&amp;gt;\n    &amp;lt;/dependency&amp;gt;\n&amp;lt;/dependencies&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;é…ç½®æ–‡ä»¶\&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h2&gt;\n&lt;p&gt;log4j.properties&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-properties\&#34;&gt;log4j.rootLogger=DEBUG,A1\nlog4j.logger.org.mybatis=DEBUG\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%c]-[%p] %m%n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;jdbc.properties&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-properties\&#34;&gt;jdbc.dirver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;amp;characterEncoding=utf-8\njdbc.username=root\njdbc.password=root\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;mybatis-config.xml&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE configuration\n  PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;\n  &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;\n&amp;lt;configuration&amp;gt;\n  &amp;lt;!-- å¼•å…¥å¤–éƒ¨çš„å±æ€§æ–‡ä»¶ --&amp;gt;\n  &amp;lt;properties resource=&amp;quot;jdbc.properties&amp;quot;&amp;gt;&amp;lt;/properties&amp;gt;\n  &amp;lt;settings&amp;gt;\n  \t&amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n  &amp;lt;/settings&amp;gt;\n  &amp;lt;!-- é…ç½®æ•°æ®æº --&amp;gt;\n  &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;\n    &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;\n      &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;\n      &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;\n        &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;${jdbc.dirver}&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;${jdbc.url}&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;${jdbc.username}&amp;quot;/&amp;gt;\n        &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;${jdbc.password}&amp;quot;/&amp;gt;\n      &amp;lt;/dataSource&amp;gt;\n    &amp;lt;/environment&amp;gt;\n  &amp;lt;/environments&amp;gt;\n  &amp;lt;mappers&amp;gt;\n    &amp;lt;package name=&amp;quot;cn.kgc.mapper&amp;quot;/&amp;gt;\n  &amp;lt;/mappers&amp;gt;\n  \n&amp;lt;/configuration&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;@Select(&amp;quot;SQL&amp;quot;)&lt;/p&gt;\n&lt;p&gt;@Insert(&amp;quot;SQL&amp;quot;)&lt;/p&gt;\n&lt;p&gt;@Delete(&amp;quot;SQL&amp;quot;)&lt;/p&gt;\n&lt;p&gt;@Update(&amp;quot;SQL&amp;quot;)&lt;/p&gt;\n&lt;h2 id=\&#34;è§£å†³æ•°æ®åº“è¡¨ä¸­çš„åˆ—åå’Œpojoä¸­å±æ€§åä¸ä¸€è‡´\&#34;&gt;è§£å†³æ•°æ®åº“è¡¨ä¸­çš„åˆ—åå’Œpojoä¸­å±æ€§åä¸ä¸€è‡´&lt;/h2&gt;\n&lt;h3 id=\&#34;ç¬¬ä¸€ç§\&#34;&gt;ç¬¬ä¸€ç§&lt;/h3&gt;\n&lt;p&gt;ç»™sql è¯­å¥èµ·åˆ«å&lt;/p&gt;\n&lt;h3 id=\&#34;ç¬¬äºŒç§\&#34;&gt;ç¬¬äºŒç§&lt;/h3&gt;\n&lt;p&gt;@Results  ç›¸å½“äºæ˜¯&lt;code&gt;resultMap&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@Select(&amp;quot;select * from book&amp;quot;)\n@Results(id=&amp;quot;bookMap&amp;quot;,\n    value={\n        @Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),\n        @Result(column=&amp;quot;book_name&amp;quot;,property=&amp;quot;name&amp;quot;),\n        @Result(column=&amp;quot;price&amp;quot;,property=&amp;quot;price&amp;quot;)\n})\nList&amp;lt;Book&amp;gt; getAllBooks();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;æ³¨è§£å¼€å‘ä¸­çš„åŠ¨æ€sql\&#34;&gt;æ³¨è§£å¼€å‘ä¸­çš„åŠ¨æ€sql&lt;/h2&gt;\n&lt;h3 id=\&#34;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹\&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * æœ‰å¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®idæŸ¥è¯¢\n * åŠ¨æ€sqlä¸­è¾“å…¥æ˜ å°„ä¸ºç®€å•ç±»å‹ï¼Œè¾“å…¥æ˜ å°„ä¸ºç®€å•ç±»å‹  testä¸­å˜é‡åå¿…é¡»å«_parameter\n */\n@Select(&amp;quot;&amp;lt;script&amp;gt;SELECT * FROM book &amp;lt;if test=&#39;_parameter != null&#39;&amp;gt;WHERE id=#{id}&amp;lt;/if&amp;gt;&amp;lt;/script&amp;gt;&amp;quot;)\nList&amp;lt;Book&amp;gt; getBooksOrById(Integer id);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojo\&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojo&lt;/h3&gt;\n&lt;p&gt;å¼€å‘äº§ç”ŸSQLè¯­å¥çš„ç±»å’Œæ–¹æ³•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;package cn.kgc.sql.provider;\n\nimport cn.kgc.pojo.Book;\n\npublic class BookMapperProvider {\n\t/**\n\t * ä¸“é—¨ç”¨æ¥ç»™BookMapperæ¥å£æ¥æä¾›åŠ¨æ€sqlè¯­å¥çš„\n\t * @param book\n\t * @return\n\t */\n\tpublic String getBooks(Book book){\n\t\tString sql = &amp;quot;select * from book&amp;quot;;\n\t\tif(book != null){\n\t\t\tif(book.getId() != null){\n\t\t\t\t//idæœ‰å€¼\n\t\t\t\tsql = &amp;quot;select * from book where id=#{id}&amp;quot;;\n\t\t\t}\n\t\t\tif(book.getName() != null &amp;amp;&amp;amp; !book.getName().equals(&amp;quot;&amp;quot;)){\n\t\t\t\tsql = &amp;quot;select * from book where name like #{name}&amp;quot;;\n\t\t\t}\n\t\t\tif(book.getId() != null &amp;amp;&amp;amp; (book.getName() != null &amp;amp;&amp;amp; !book.getName().equals(&amp;quot;&amp;quot;))){\n\t\t\t\tsql = &amp;quot;select * from book where id=#{id} and name like #{name}&amp;quot;;\n\t\t\t}\n\t\t}\n\t\treturn sql;\n\t}\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ¥å£&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * æŸ¥è¯¢ï¼šæœ‰å¯èƒ½æŸ¥è¯¢å…¨éƒ¨ï¼Œæœ‰å¯èƒ½æ ¹æ®idæŸ¥è¯¢ï¼Œæœ‰å¯èƒ½æ ¹æ®nameåšæ¨¡ç³ŠæŸ¥è¯¢\n * @param book\n * @return\n */\n@SelectProvider(type=BookMapperProvider.class,method=&amp;quot;getBooks&amp;quot;)\nList&amp;lt;Book&amp;gt; getBooks(Book book);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;æ³¨è§£å¼€å‘å®ç°å¤æ‚çš„æ˜ å°„å…³ç³»\&#34;&gt;æ³¨è§£å¼€å‘å®ç°å¤æ‚çš„æ˜ å°„å…³ç³»&lt;/h2&gt;\n&lt;p&gt;å¤æ‚çš„æ˜ å°„å¼€å‘æœ¬è´¨æ˜¯ä¸¤ç§ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤š&lt;/p&gt;\n&lt;p&gt;æ³¨è§£å°±å¯¹åº”çš„æ˜¯ï¼š@One(ä¸€å¯¹ä¸€)  @Many(ä¸€å¯¹å¤š)&lt;/p&gt;\n&lt;p&gt;è¦æ±‚æˆ‘ä»¬ä½¿ç”¨æ‡’åŠ è½½&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸€å¯¹ä¸€å…³ç³»\&#34;&gt;ä¸€å¯¹ä¸€å…³ç³»&lt;/h3&gt;\n&lt;p&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯æ‡’åŠ è½½&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;settings&amp;gt;\n  \t&amp;lt;!-- å¼€å¯é©¼å³°å‘½å --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;mapUnderscoreToCamelCase&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n  \t&amp;lt;!-- å¼€å¯æ‡’åŠ è½½ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;lazyLoadingEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n  \t&amp;lt;!-- mybatis3.4.1ä¹‹å‰é»˜è®¤å€¼æ˜¯trueï¼Œéœ€è¦è®¾ç½®ä¸ºfalseï¼ˆå°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæ¯åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ï¼‰ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;aggressiveLazyLoading&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;\n  \t&amp;lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸ºäº†æ‰“å°å¯¹è±¡é‡Œä¿¡æ¯çš„æ–¹ä¾¿ï¼Œæ‰€ä»¥éƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œmybatisä¸­é»˜è®¤æ˜¯å¦‚æœä½¿ç”¨(equals,clone,hashCode,toStringä»»æ„ä¸€ä¸ªæ–¹æ³•)é‚£ä¹ˆå°±ä¸å†å»¶è¿ŸåŠ è½½ --&amp;gt;\n  \t&amp;lt;setting name=&amp;quot;lazyLoadTriggerMethods&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;\n  &amp;lt;/settings&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public interface GradeMapper {\n\t/**\n\t * æ ¹æ®idæŸ¥è¯¢å¯¹è±¡\n\t * @param id\n\t * @return\n\t */\n\t@Select(&amp;quot;select * from grade where id=#{id}&amp;quot;)\n\tGrade getGradeById(Integer id);\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public interface StudentMapper {\n\t/**\n\t * æŸ¥è¯¢å­¦ç”Ÿé¡ºä¾¿å°†å­¦ç”Ÿæ‰€åœ¨çš„å¹´çº§åç§°æŸ¥è¯¢å‡ºæ¥\n\t */\n\t@Select(&amp;quot;select * from student&amp;quot;)\n\t@Results(id=&amp;quot;studentMap&amp;quot;,\n\t\t\tvalue={\n\t\t\t@Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),\n\t\t\t@Result(column=&amp;quot;name&amp;quot;,property=&amp;quot;name&amp;quot;),\n\t\t\t@Result(column=&amp;quot;grade_id&amp;quot;,property=&amp;quot;grade&amp;quot;,\n\t\t\t\t\tone=@One(select=&amp;quot;cn.kgc.mapper.GradeMapper.getGradeById&amp;quot;,fetchType=FetchType.LAZY))\n\t\t\t\n\t})\n\tList&amp;lt;Student&amp;gt; getAllStudents();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;FetchType.LAZYè¡¨ç¤ºåŠ è½½çš„æ–¹å¼æ˜¯æ‡’åŠ è½½,   FetchType.EAGERè¡¨ç¤ºä¸€å®šè”åˆæŸ¥è¯¢&lt;/p&gt;\n&lt;p&gt;å¦‚æœä¸æ·»åŠ fetchTypeï¼Œé»˜è®¤å°±æ˜¯æ‡’åŠ è½½&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;ä¸€å¯¹å¤šçš„å…³ç³»\&#34;&gt;ä¸€å¯¹å¤šçš„å…³ç³»&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public interface StudentMapper {\n\t/**\n\t * æ ¹æ®å¹´çº§ç¼–å·æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨\n\t * @param id\n\t * @return\n\t */\n\t@Select(&amp;quot;select * from student where grade_id=#{gid}&amp;quot;)\n\tList&amp;lt;Student&amp;gt; findStudentsListByGradeId(Integer id);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;package cn.kgc.mapper;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Many;\nimport org.apache.ibatis.annotations.Result;\nimport org.apache.ibatis.annotations.Results;\nimport org.apache.ibatis.annotations.Select;\nimport org.apache.ibatis.mapping.FetchType;\n\nimport cn.kgc.pojo.Grade;\n\npublic interface GradeMapper {\n\n\t@Select(&amp;quot;select * from grade&amp;quot;)\n\t@Results(id=&amp;quot;gradeMap&amp;quot;,\n\t\t\tvalue={\n\t\t\t\t@Result(id=true,column=&amp;quot;id&amp;quot;,property=&amp;quot;id&amp;quot;),\n\t\t\t\t@Result(column=&amp;quot;name&amp;quot;,property=&amp;quot;name&amp;quot;),\n\t\t\t\t@Result(column=&amp;quot;id&amp;quot;,property=&amp;quot;studentList&amp;quot;,\n\t\t\t\t\t\tmany=@Many(select=&amp;quot;cn.kgc.mapper.StudentMapper.findStudentsListByGradeId&amp;quot;,fetchType=FetchType.LAZY))\n\t})\n\tList&amp;lt;Grade&amp;gt; getGrades();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;mybatisåŸºäºäºŒçº§ç¼“å­˜çš„å¼€å‘\&#34;&gt;mybatisåŸºäºäºŒçº§ç¼“å­˜çš„å¼€å‘&lt;/h2&gt;\n&lt;p&gt;ä¸€çº§ç¼“å­˜åŸºäº&lt;code&gt;sqlSession&lt;/code&gt;çš„ï¼Œé»˜è®¤å°±å­˜åœ¨çš„ï¼Œå’±ä»¬å¯ä»¥ä¸ç”¨ç®¡ï¼Œå®ƒä¸€å®šä¼šå­˜åœ¨&lt;/p&gt;\n&lt;h3 id=\&#34;4-1-åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜\&#34;&gt;4-1 åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(æ–°ç‰ˆæœ¬çš„mybatisé»˜è®¤å°±å·²ç»å¼€å¯äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨ä¸“é—¨å¼€) --&amp;gt;\n&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4-2-åœ¨mapperæ¥å£ä¸­ä½¿ç”¨æ³¨è§£é…ç½®å¼€å¯äºŒçº§ç¼“å­˜\&#34;&gt;4-2 åœ¨mapperæ¥å£ä¸­ä½¿ç”¨æ³¨è§£é…ç½®å¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- å¼€å¯äºŒçº§ç¼“å­˜(æ–°ç‰ˆæœ¬çš„mybatisé»˜è®¤å°±å·²ç»å¼€å¯äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨ä¸“é—¨å¼€) --&amp;gt;\n&amp;lt;setting name=&amp;quot;cacheEnabled&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4-2-pojoéœ€è¦å®ç°åºåˆ—åŒ–-æ¥å£\&#34;&gt;4-2 &lt;code&gt;pojo&lt;/code&gt;éœ€è¦å®ç°åºåˆ—åŒ– æ¥å£&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public class Book implements Serializable{\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4-3-mapperå¼€å¯äºŒçº§ç¼“å­˜\&#34;&gt;4-3 mapperå¼€å¯äºŒçº§ç¼“å­˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;@CacheNamespace(blocking=true)\t\t//åœ¨mapperæ¥å£ä¸­å¼€å¯äºŒçº§ç¼“å­˜ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä½¿ç”¨äºŒçº§ç¼“å­˜\npublic interface BookMapper {\n    /**\n\t * æŸ¥è¯¢:æ ¹æ®ä¸»é”®æŸ¥è¯¢\n\t * åŒæ ·å‡†å®ˆï¼šè¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹ #{éšä¾¿å†™}\n\t * å¦‚æœåˆ—åä¸ä¸€æ ·,å¯ä»¥ç›´æ¥å¼•ç”¨ä¸Šé¢å·²ç»å†™å¥½çš„@Resultså®šä¹‰çš„åˆ—å’Œpojoå±æ€§æ˜ å°„çš„å…³ç³»ï¼Œæ–¹å¼ï¼š@ResultMap(&amp;quot;@Resultsçš„id&amp;quot;)\n\t */\n\t@Select(&amp;quot;SELECT * FROM book WHERE id=#{id}&amp;quot;)\n\t@ResultMap(&amp;quot;bookMap&amp;quot;)\n\t//@Options(useCache=true)   //é»˜è®¤å°±æ˜¯å¼€å¯äºŒçº§ç¼“å­˜ï¼Œå¯ä»¥ä¸ç”¨æ·»åŠ è¯¥æ³¨è§£\n\tBook getBookById(Integer id);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;åˆ†é¡µæŸ¥è¯¢\&#34;&gt;åˆ†é¡µæŸ¥è¯¢&lt;/h1&gt;\n&lt;h2 id=\&#34;æ·»åŠ åˆ†é¡µæ’ä»¶çš„jaråŒ…ä¾èµ–\&#34;&gt;æ·»åŠ åˆ†é¡µæ’ä»¶çš„jaråŒ…ä¾èµ–&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- pageHelper --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;com.github.pagehelper&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;pagehelper&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;5.1.6&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ†é¡µæ‹¦æˆªå™¨\&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ†é¡µæ‹¦æˆªå™¨&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- æ·»åŠ åˆ†é¡µæ’ä»¶ --&amp;gt;\n&amp;lt;plugins&amp;gt;\n&amp;lt;plugin interceptor=&amp;quot;com.github.pagehelper.PageInterceptor&amp;quot;&amp;gt;&amp;lt;/plugin&amp;gt;\n&amp;lt;/plugins&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;å®ç°åˆ†é¡µæ“ä½œ\&#34;&gt;å®ç°åˆ†é¡µæ“ä½œ&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;/**\n * åˆ†é¡µæŸ¥è¯¢:åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½ä¼šå»ä½¿ç”¨åˆ†é¡µæ’ä»¶æ¥å®Œæˆ\n * pageHelperæ˜¯å›½äººåšçš„åˆ†é¡µæ’ä»¶ï¼Œéå¸¸çš„ä¼˜ç§€\n */\n@Test\npublic void testPage(){\n    //1.å¼€å§‹åˆ†é¡µ(å‚æ•°ä¸€ï¼šå½“å‰è¦å±•ç¤ºçš„é¡µç (1,2..)ï¼Œ  å‚æ•°äºŒï¼šæ¯é¡µæ˜¾ç¤ºçš„ä¿¡æ¯æ¡æ•°)\n    PageHelper.startPage(1, 3);\n    //2.æ‰§è¡ŒæŸ¥è¯¢(æ­£å¸¸çš„æ‰§è¡Œ)\n    BookExample example = new BookExample();\n    /*å¦‚æœåˆ†é¡µä¸­æœ‰æ¡ä»¶\n    Criteria criteria = example.createCriteria();\n    criteria.andNameLike(&amp;quot;%é¾™%&amp;quot;);\n    */\n    List&amp;lt;Book&amp;gt; list = bookMapper.selectByExample(example);\n    //3.åˆ†é¡µå°±é€šè¿‡pageHelperæ‹¦æˆªå™¨æ¥å®ç°åˆ†é¡µ\n    PageInfo&amp;lt;Book&amp;gt; pageInfo = new PageInfo&amp;lt;Book&amp;gt;(list);\n    //ä¸€é¡µä¿¡æ¯\n    List&amp;lt;Book&amp;gt; bookList = pageInfo.getList();\n    for (Book book : bookList) {\n        System.out.println(book);\n    }\n    System.out.println(&amp;quot;æ€»çš„é¡µæ•°ï¼š&amp;quot; + pageInfo.getPages());\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;mybatis&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;MyBatis&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mybatis&#34;,&#34;slug&#34;:&#34;6pWqw4cF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/6pWqw4cF3/&#34;}],&#34;date&#34;:&#34;2020-05-04 12:13:12&#34;,&#34;dateFormat&#34;:&#34;2020-05-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/mybatis/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;31 min read&#34;,&#34;time&#34;:1856000,&#34;words&#34;:6302,&#34;minutes&#34;:31},&#34;description&#34;:&#34;å¿«é€Ÿå¼€å§‹\n1ã€MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶\n&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;\n&amp;lt;!DOCTYPE configuration\n  PUBL...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\&#34;&gt;å¿«é€Ÿå¼€å§‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-mybatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\&#34;&gt;1ã€MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-orm%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6mapperxml\&#34;&gt;2ã€ORMæ˜ å°„æ–‡ä»¶mapper.xml&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6\&#34;&gt;3ã€æ—¥å¿—æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-%E6%B5%8B%E8%AF%95\&#34;&gt;4ã€æµ‹è¯•&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#properties%E5%B1%9E%E6%80%A7\&#34;&gt;propertieså±æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#settings\&#34;&gt;settings&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#typealiases%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D\&#34;&gt;typeAliasesï¼ˆç±»å‹åˆ«åï¼‰&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%AB%E5%90%8D\&#34;&gt;è‡ªå®šä¹‰åˆ«å&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#plugins%E6%8F%92%E4%BB%B6\&#34;&gt;pluginsï¼ˆæ’ä»¶ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#xml%E6%98%A0%E5%B0%84\&#34;&gt;XMLæ˜ å°„&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#select-%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5\&#34;&gt;select æŸ¥è¯¢è¯­å¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#insert-updatea-delete\&#34;&gt;insert updatea delete&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8A%A8%E6%80%81sql\&#34;&gt;åŠ¨æ€SQL&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#if\&#34;&gt;if&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#sql%E6%B3%A8%E5%85%A5%E7%9A%84%E9%97%AE%E9%A2%98\&#34;&gt;sqlæ³¨å…¥çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#when\&#34;&gt;when&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#choose\&#34;&gt;choose&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#set\&#34;&gt;set&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#foreach\&#34;&gt;foreach&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#sql%E7%89%87%E6%AE%B5\&#34;&gt;SQLç‰‡æ®µ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%9A%E8%A1%A8%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2\&#34;&gt;å¤šè¡¨è”åˆæŸ¥è¯¢&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#vo\&#34;&gt;VO&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAvo\&#34;&gt;åˆ›å»ºä¸€ä¸ªVO&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BC%96%E5%86%99mapper%E6%8E%A5%E5%8F%A3\&#34;&gt;ç¼–å†™mapperæ¥å£&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BC%96%E5%86%99mapperxml\&#34;&gt;ç¼–å†™mapper.xml&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E5%AF%B9%E4%B8%80\&#34;&gt;ä¸€å¯¹ä¸€&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%89%E7%85%A7%E6%9F%A5%E8%AF%A2%E5%B5%8C%E5%A5%97%E5%A4%84%E7%90%86\&#34;&gt;æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%89%E7%85%A7%E7%BB%93%E6%9E%9C%E5%B5%8C%E5%A5%97%E5%A4%84%E7%90%86\&#34;&gt;æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E5%AF%B9%E5%A4%9A\&#34;&gt;ä¸€å¯¹å¤š&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%9A%E5%AF%B9%E5%A4%9A\&#34;&gt;å¤šå¯¹å¤š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD\&#34;&gt;å»¶è¿ŸåŠ è½½&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8association%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD\&#34;&gt;ä½¿ç”¨&lt;code&gt;association&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E5%BC%80%E5%90%AF%E6%87%92%E5%8A%A0%E8%BD%BD\&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8collection%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD\&#34;&gt;ä½¿ç”¨&lt;code&gt;collection&lt;/code&gt;å®ç°æ‡’åŠ è½½&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E5%BC%80%E5%90%AF%E6%87%92%E5%8A%A0%E8%BD%BD-2\&#34;&gt;æ ¸å¿ƒé…ç½®å¼€å¯æ‡’åŠ è½½&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#mybatis%E7%BC%93%E5%AD%98\&#34;&gt;mybatisç¼“å­˜&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;ä¸€çº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;äºŒçº§ç¼“å­˜&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9C%A8%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9C%A8mappexml%E4%B8%AD%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;åœ¨mappe.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pojo%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E5%BA%8F%E5%88%97%E5%8C%96%E6%8E%A5%E5%8F%A3\&#34;&gt;pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8\&#34;&gt;æ³¨è§£å¼€å‘å…¥é—¨&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AF%BC%E5%85%A5jar%E5%8C%85\&#34;&gt;å¯¼å…¥jaråŒ…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\&#34;&gt;é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%A7%A3%E5%86%B3%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%88%97%E5%90%8D%E5%92%8Cpojo%E4%B8%AD%E5%B1%9E%E6%80%A7%E5%90%8D%E4%B8%8D%E4%B8%80%E8%87%B4\&#34;&gt;è§£å†³æ•°æ®åº“è¡¨ä¸­çš„åˆ—åå’Œpojoä¸­å±æ€§åä¸ä¸€è‡´&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AC%AC%E4%B8%80%E7%A7%8D\&#34;&gt;ç¬¬ä¸€ç§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AC%AC%E4%BA%8C%E7%A7%8D\&#34;&gt;ç¬¬äºŒç§&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E5%8A%A8%E6%80%81sql\&#34;&gt;æ³¨è§£å¼€å‘ä¸­çš„åŠ¨æ€sql&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BE%93%E5%85%A5%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B%E4%B8%BA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B\&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºç®€å•ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BE%93%E5%85%A5%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B%E4%B8%BApojo\&#34;&gt;è¾“å…¥æ˜ å°„ç±»å‹ä¸ºpojo&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%AE%9E%E7%8E%B0%E5%A4%8D%E6%9D%82%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB\&#34;&gt;æ³¨è§£å¼€å‘å®ç°å¤æ‚çš„æ˜ å°„å…³ç³»&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E7%B3%BB\&#34;&gt;ä¸€å¯¹ä¸€å…³ç³»&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E5%AF%B9%E5%A4%9A%E7%9A%84%E5%85%B3%E7%B3%BB\&#34;&gt;ä¸€å¯¹å¤šçš„å…³ç³»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#mybatis%E5%9F%BA%E4%BA%8E%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E7%9A%84%E5%BC%80%E5%8F%91\&#34;&gt;mybatisåŸºäºäºŒçº§ç¼“å­˜çš„å¼€å‘&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-1-%E5%9C%A8%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;4-1 åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-2-%E5%9C%A8mapper%E6%8E%A5%E5%8F%A3%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;4-2 åœ¨mapperæ¥å£ä¸­ä½¿ç”¨æ³¨è§£é…ç½®å¼€å¯äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-2-pojo%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E5%BA%8F%E5%88%97%E5%8C%96-%E6%8E%A5%E5%8F%A3\&#34;&gt;4-2 &lt;code&gt;pojo&lt;/code&gt;éœ€è¦å®ç°åºåˆ—åŒ– æ¥å£&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-3-mapper%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98\&#34;&gt;4-3 mapperå¼€å¯äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\&#34;&gt;åˆ†é¡µæŸ¥è¯¢&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84jar%E5%8C%85%E4%BE%9D%E8%B5%96\&#34;&gt;æ·»åŠ åˆ†é¡µæ’ä»¶çš„jaråŒ…ä¾èµ–&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9C%A8%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE%E5%88%86%E9%A1%B5%E6%8B%A6%E6%88%AA%E5%99%A8\&#34;&gt;åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ†é¡µæ‹¦æˆªå™¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E6%93%8D%E4%BD%9C\&#34;&gt;å®ç°åˆ†é¡µæ“ä½œ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;è·å–classå¯¹è±¡çš„æ–¹å¼\&#34;&gt;è·å–Classå¯¹è±¡çš„æ–¹å¼&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;Class.forName(&amp;quot;å…¨ç±»å&amp;quot;);//å°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œè¿”å›Classå¯¹è±¡\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¤šç”¨äºé…ç½®æ–‡ä»¶ï¼Œå°†ç±»åå®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚è¯»å–æ–‡ä»¶ï¼ŒåŠ è½½ç±»&lt;br&gt;\nç±»å.classï¼šé€šè¿‡ç±»åçš„å±æ€§classè·å–&lt;br&gt;\nå¤šç”¨äºå‚æ•°çš„ä¼ é€’&lt;br&gt;\nå¯¹è±¡.getClass()ï¼šgetClass()æ–¹æ³•åœ¨Objectç±»ä¸­å®šä¹‰ç€ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;//å¤šç”¨äºå¯¹è±¡çš„è·å–å­—èŠ‚ç çš„æ–¹å¼\nClass clazz = News.class;\nObject obj = clazz.newInstance();           //å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼šç­‰åŒäº new ä¸€ä¸ªå¯¹è±¡\nSystem.out.println(clazz.getSimpleName());  //è·å–ç±»å\nSystem.out.println(clazz.getName());        //è·å–å®Œæ•´çš„åŒ…å+ç±»å\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;classå¯¹è±¡åŠŸèƒ½\&#34;&gt;Classå¯¹è±¡åŠŸèƒ½&lt;/h2&gt;\n&lt;h3 id=\&#34;è·å–æˆå‘˜å˜é‡\&#34;&gt;è·å–æˆå‘˜å˜é‡&lt;/h3&gt;\n&lt;p&gt;â€‹        Field[] getFields() ï¼šè·å–æ‰€æœ‰publicä¿®é¥°çš„æˆå‘˜å˜é‡&lt;/p&gt;\n&lt;p&gt;â€‹\t\tField getField(String name)   è·å–æŒ‡å®šåç§°çš„ publicä¿®é¥°çš„æˆå‘˜å˜é‡&lt;/p&gt;\n&lt;p&gt;â€‹\t\tField[] getDeclaredFields();  //è·å–æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼Œä¸è€ƒè™‘ä¿®é¥°ç¬¦&lt;/p&gt;\n&lt;p&gt;â€‹\t\tField getDeclaredField(String name); // è·å–æŒ‡å®šåç§°çš„æˆå‘˜å˜é‡ï¼Œä¸è€ƒè™‘ä¿®é¥°ç¬¦&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;Class clazz = News.class;\nSystem.out.println(clazz.getSimpleName());//è·å–ç±»å\nSystem.out.println(clazz.getName());//è·å–åŒ…å+ç±»å\nObject obj = clazz.newInstance();//å®ä¾‹åŒ–Newsçš„è¿™ä¸ªå¯¹è±¡\nTable table = obj.getClass().getAnnotation(Table.class);//è·å–objå¯¹è±¡çš„Tableæ³¨è§£ï¼Œæ²¡æœ‰è¿”å›null\nSystem.out.println(table.value());\nField[] fields = clazz.getDeclaredFields();\nfor (Field field : fields) {\n\tfield.setAccessible(true);//æš´åŠ›åå°„,å¦‚æœä¸å†™è¿™ä¸ªå°†ä¼šæŠ¥é”™\n    //è·å–å±æ€§çš„æ³¨è§£\n    //Field field1 = obj.getClass().getDeclaredField(field.getName());//è·å–objå¯¹è±¡çš„æŒ‡å®šå±æ€§\n    PK pk = field.getAnnotation(PK.class);//è·å–å±æ€§çš„æ³¨è§£\n\n\tif(pk!=null){\n    \tSystem.out.println(field.getName()+&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;quot;+pk);//è·å–å±æ€§åç§°\n    }\n        field.set(obj,null);//ç»™å½“å‰clazzå¯¹è±¡çš„fieldå±æ€§èµ‹å€¼ä¸ºi\n        System.out.println(field.get(obj));//è¾“å‡ºclazzå¯¹è±¡çš„fieldçš„å±æ€§å€¼\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è·å–æ„é€ æ–¹æ³•\&#34;&gt;è·å–æ„é€ æ–¹æ³•&lt;/h3&gt;\n&lt;p&gt;â€‹\tConstructor&amp;lt;?&amp;gt;[] getConstructors()&lt;/p&gt;\n&lt;p&gt;â€‹\tConstructor&lt;T&gt; getConstructor(ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;\n&lt;p&gt;â€‹\tConstructor&lt;T&gt; getDeclaredConstructor(ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;\n&lt;p&gt;â€‹\tConstructor&amp;lt;?&amp;gt;[] getDeclaredConstructors()&lt;/p&gt;\n&lt;h3 id=\&#34;è·å–æˆå‘˜æ–¹æ³•\&#34;&gt;è·å–æˆå‘˜æ–¹æ³•&lt;/h3&gt;\n&lt;p&gt;â€‹\tMethod[] getMethods()&lt;/p&gt;\n&lt;p&gt;â€‹\tMethod getMethod(String name, ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;\n&lt;p&gt;â€‹\tMethod[] getDeclaredMethods()&lt;/p&gt;\n&lt;p&gt;â€‹\tMethod getDeclaredMethod(String name, ç±»&amp;lt;?&amp;gt;... parameterTypes)&lt;/p&gt;\n&lt;h3 id=\&#34;fieldæˆå‘˜å˜é‡\&#34;&gt;Fieldï¼šæˆå‘˜å˜é‡&lt;/h3&gt;\n&lt;p&gt;è®¾ç½®å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;void set(Object obj, Object value)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è·å–å€¼ï¼Œä¼ çš„æ˜¯å¯¹è±¡&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;get(Object obj) \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¿½ç•¥è®¿é—®æƒé™ä¿®é¥°ç¬¦çš„å®‰å…¨æ£€æŸ¥&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;setAccessible(true)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;constructoræ„é€ æ–¹æ³•\&#34;&gt;Constructor:æ„é€ æ–¹æ³•&lt;/h3&gt;\n&lt;p&gt;åˆ›å»ºå¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨ç©ºå‚æ•°æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œæ“ä½œå¯ä»¥ç®€åŒ–ï¼šClasså¯¹è±¡çš„newInstanceæ–¹æ³•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;T newInstance(Object... initargs)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;methodæ–¹æ³•å¯¹è±¡\&#34;&gt;Methodï¼šæ–¹æ³•å¯¹è±¡&lt;/h3&gt;\n&lt;p&gt;æ‰§è¡Œæ–¹æ³•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;Object invoke(Object obj, Object... args)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è·å–æ–¹æ³•åç§°&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;String getName\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;åå°„è·å–æ³¨è§£\&#34;&gt;åå°„è·å–æ³¨è§£&lt;/h2&gt;\n&lt;p&gt;è·å–objå¯¹è±¡çš„Tableæ³¨è§£ï¼Œæ²¡æœ‰è¿”å›nullï¼Œobjæ˜¯è¦è·å–çš„å¯¹è±¡&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;Table table = obj.getClass().getAnnotation(Table.class);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è·å–å±æ€§çš„æ³¨è§£ï¼Œè·å–objå¯¹è±¡çš„field.getName()çš„å±æ€§æ³¨è§£&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;Field field1 = obj.getClass().getDeclaredField(field.getName());//è·å–objå¯¹è±¡çš„æŒ‡å®šå±æ€§\nPK pk = field1.getAnnotation(PK.class);//è·å–å±æ€§çš„æ³¨è§£\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;è·å–å½“å‰è°ƒç”¨çš„æ–¹æ³•ä¸Šçš„æ³¨è§£\&#34;&gt;è·å–å½“å‰è°ƒç”¨çš„æ–¹æ³•ä¸Šçš„æ³¨è§£&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;StackTraceElement[] stack = new Throwable().getStackTrace();\nMethod method = this.getClass().getMethod(stack[1].getMethodName());//è¿™é‡Œ0æ˜¯å½“å‰æ–¹æ³•çš„æ³¨è§£ï¼Œ1æ˜¯è°ƒç”¨è€…æ–¹æ³•çš„æ³¨è§£\nfor(Annotation an : method.getAnnotations()){\n    System.out.println(an);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;java-fan-she&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Javaåå°„&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;java&#34;,&#34;slug&#34;:&#34;CX9XCxDcJ&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/CX9XCxDcJ/&#34;}],&#34;date&#34;:&#34;2020-05-04 12:12:12&#34;,&#34;dateFormat&#34;:&#34;2020-05-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/java-fan-she/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:182000,&#34;words&#34;:703,&#34;minutes&#34;:4},&#34;description&#34;:&#34;è·å–Classå¯¹è±¡çš„æ–¹å¼\nClass.forName(&amp;quot;å…¨ç±»å&amp;quot;);//å°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œè¿”å›Classå¯¹è±¡\n\nå¤šç”¨äºé…ç½®æ–‡ä»¶ï¼Œå°†ç±»åå®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚è¯»å–æ–‡ä»¶ï¼ŒåŠ è½½ç±»\nç±»å.classï¼šé€šè¿‡ç±»åçš„å±æ€§classè·...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96class%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F\&#34;&gt;è·å–Classå¯¹è±¡çš„æ–¹å¼&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#class%E5%AF%B9%E8%B1%A1%E5%8A%9F%E8%83%BD\&#34;&gt;Classå¯¹è±¡åŠŸèƒ½&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F\&#34;&gt;è·å–æˆå‘˜å˜é‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95\&#34;&gt;è·å–æ„é€ æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95\&#34;&gt;è·å–æˆå‘˜æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#field%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F\&#34;&gt;Fieldï¼šæˆå‘˜å˜é‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#constructor%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95\&#34;&gt;Constructor:æ„é€ æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#method%E6%96%B9%E6%B3%95%E5%AF%B9%E8%B1%A1\&#34;&gt;Methodï¼šæ–¹æ³•å¯¹è±¡&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E6%B3%A8%E8%A7%A3\&#34;&gt;åå°„è·å–æ³¨è§£&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%B0%83%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%8A%E7%9A%84%E6%B3%A8%E8%A7%A3\&#34;&gt;è·å–å½“å‰è°ƒç”¨çš„æ–¹æ³•ä¸Šçš„æ³¨è§£&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;ä»€ä¹ˆæ˜¯fastdfs\&#34;&gt;ä»€ä¹ˆæ˜¯FastDFS&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;FastDFS æ˜¯ç”¨ c è¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚FastDFS ä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨ FastDFSå¾ˆå®¹æ˜“æ­å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤æä¾›æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æœåŠ¡ã€‚&lt;/p&gt;\n&lt;p&gt;FastDFS æ¶æ„åŒ…æ‹¬ Tracker server å’Œ Storage serverã€‚å®¢æˆ·ç«¯è¯·æ±‚ Tracker server è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ï¼Œé€šè¿‡ Tracker server è°ƒåº¦æœ€ç»ˆç”± Storage server å®Œæˆæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ã€‚&lt;/p&gt;\n&lt;p&gt;Tracker server ä½œç”¨æ˜¯è´Ÿè½½å‡è¡¡å’Œè°ƒåº¦ï¼Œé€šè¿‡ Tracker server åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶å¯ä»¥æ ¹æ®ä¸€äº›ç­–ç•¥æ‰¾åˆ° Storage server æä¾›æ–‡ä»¶ä¸Šä¼ æœåŠ¡ã€‚å¯ä»¥å°† tracker ç§°ä¸ºè¿½è¸ªæœåŠ¡å™¨æˆ–è°ƒåº¦æœåŠ¡å™¨ã€‚&lt;/p&gt;\n&lt;p&gt;Storage server ä½œç”¨æ˜¯æ–‡ä»¶å­˜å‚¨ï¼Œå®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶æœ€ç»ˆå­˜å‚¨åœ¨ Storage æœåŠ¡å™¨ä¸Šï¼ŒStorageserver æ²¡æœ‰å®ç°è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿè€Œæ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿ çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†æ–‡ä»¶ã€‚å¯ä»¥å°†storageç§°ä¸ºå­˜å‚¨æœåŠ¡å™¨ã€‚&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://haohanya.github.io/post-images/1589686914052.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;æœåŠ¡ç«¯ä¸¤ä¸ªè§’è‰²ï¼š&lt;/p&gt;\n&lt;p&gt;Trackerï¼šç®¡ç†é›†ç¾¤ï¼Œtracker ä¹Ÿå¯ä»¥å®ç°é›†ç¾¤ã€‚æ¯ä¸ª tracker èŠ‚ç‚¹åœ°ä½å¹³ç­‰ã€‚æ”¶é›† Storage é›†ç¾¤çš„çŠ¶æ€ã€‚&lt;/p&gt;\n&lt;p&gt;Storageï¼šå®é™…ä¿å­˜æ–‡ä»¶  Storage åˆ†ä¸ºå¤šä¸ªç»„ï¼Œæ¯ä¸ªç»„ä¹‹é—´ä¿å­˜çš„æ–‡ä»¶æ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªç»„å†…éƒ¨å¯ä»¥æœ‰å¤šä¸ªæˆå‘˜ï¼Œç»„æˆå‘˜å†…éƒ¨ä¿å­˜çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œç»„æˆå‘˜çš„åœ°ä½æ˜¯ä¸€è‡´çš„ï¼Œæ²¡æœ‰ä¸»ä»çš„æ¦‚å¿µã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;æ–‡ä»¶ä¸Šä¼ æµç¨‹\&#34;&gt;æ–‡ä»¶ä¸Šä¼ æµç¨‹&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;2\&#34;&gt;&lt;img src=\&#34;https://haohanya.github.io/post-images/1589687036366.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶åå­˜å‚¨æœåŠ¡å™¨å°†æ–‡ä»¶ ID è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ–‡ä»¶ ID ç”¨äºä»¥åè®¿é—®è¯¥æ–‡ä»¶çš„ç´¢å¼•ä¿¡æ¯ã€‚æ–‡ä»¶ç´¢å¼•ä¿¡æ¯åŒ…æ‹¬ï¼šç»„åï¼Œè™šæ‹Ÿç£ç›˜è·¯å¾„ï¼Œæ•°æ®ä¸¤çº§ç›®å½•ï¼Œæ–‡ä»¶åã€‚&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;3\&#34;&gt;&lt;img src=\&#34;https://haohanya.github.io/post-images/1589687044591.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;&lt;strong&gt;ç»„å&lt;/strong&gt;ï¼šæ–‡ä»¶ä¸Šä¼ åæ‰€åœ¨çš„ storage ç»„åç§°ï¼Œåœ¨æ–‡ä»¶ä¸Šä¼ æˆåŠŸåæœ‰ storage æœåŠ¡å™¨è¿”å›ï¼Œéœ€è¦å®¢æˆ·ç«¯è‡ªè¡Œä¿å­˜ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;è™šæ‹Ÿç£ç›˜è·¯å¾„&lt;/strong&gt;ï¼šstorage é…ç½®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä¸ç£ç›˜é€‰é¡¹ store_path*å¯¹åº”ã€‚å¦‚æœé…ç½®äº†&lt;/p&gt;\n&lt;p&gt;store_path0 åˆ™æ˜¯ M00ï¼Œå¦‚æœé…ç½®äº† store_path1 åˆ™æ˜¯ M01ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;æ•°æ®ä¸¤çº§ç›®å½•&lt;/strong&gt;ï¼šstorage æœåŠ¡å™¨åœ¨æ¯ä¸ªè™šæ‹Ÿç£ç›˜è·¯å¾„ä¸‹åˆ›å»ºçš„ä¸¤çº§ç›®å½•ï¼Œç”¨äºå­˜å‚¨æ•°æ®&lt;/p&gt;\n&lt;p&gt;æ–‡ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;æ–‡ä»¶å&lt;/strong&gt;ï¼šä¸æ–‡ä»¶ä¸Šä¼ æ—¶ä¸åŒã€‚æ˜¯ç”±å­˜å‚¨æœåŠ¡å™¨æ ¹æ®ç‰¹å®šä¿¡æ¯ç”Ÿæˆï¼Œæ–‡ä»¶ååŒ…å«ï¼šæºå­˜å‚¨&lt;/p&gt;\n&lt;p&gt;æœåŠ¡å™¨ IP åœ°å€ã€æ–‡ä»¶åˆ›å»ºæ—¶é—´æˆ³ã€æ–‡ä»¶å¤§å°ã€éšæœºæ•°å’Œæ–‡ä»¶æ‹“å±•åç­‰ä¿¡æ¯ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;æ–‡ä»¶ä¸‹è½½æµç¨‹\&#34;&gt;æ–‡ä»¶ä¸‹è½½æµç¨‹&lt;/h2&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;4\&#34;&gt;&lt;img src=\&#34;https://haohanya.github.io/post-images/1589687076743.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h2 id=\&#34;0-å‡†å¤‡å®‰è£…åŒ…ä¸Šä¼ åˆ°usrlocal\&#34;&gt;0. å‡†å¤‡å®‰è£…åŒ…ä¸Šä¼ åˆ°/usr/local/&lt;/h2&gt;\n&lt;p&gt;FastDFS_v5.05.tar.gz  ï¼ˆFastDFSå®‰è£…åŒ…ï¼‰&lt;/p&gt;\n&lt;p&gt;libfastcommonV1.0.7.tar.gz ï¼ˆFastDFSä¾èµ–ç¨‹åºï¼‰&lt;/p&gt;\n&lt;p&gt;nginx-1.8.0.tar.gz ï¼ˆnginxå®‰è£…åŒ…ï¼Œç”¨äºåšæ–‡ä»¶è¯·æ±‚httpä»£ç†æœåŠ¡å™¨ï¼‰&lt;/p&gt;\n&lt;p&gt;fastdfs-nginx-module_v1.16.tar.gz ï¼ˆnginxå’Œfastdfsçš„æ¡¥æ¢æ’ä»¶æ¨¡å—ï¼‰&lt;/p&gt;\n&lt;h2 id=\&#34;1-å®‰è£…ccç¼–è¯‘ç¯å¢ƒ\&#34;&gt;1. å®‰è£…c/c++ç¼–è¯‘ç¯å¢ƒ&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;yum install gcc-c++\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;2-å®‰è£…libevent\&#34;&gt;2. å®‰è£…libevent&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;yum -y install libevent\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;3-å®‰è£…libfastcommon\&#34;&gt;3. å®‰è£…libfastcommon&lt;/h2&gt;\n&lt;p&gt;å°†&lt;code&gt;libfastcommonV1.0.7.tar.gz&lt;/code&gt;æ‹·è´è‡³&lt;code&gt;/usr/local/&lt;/code&gt;ä¸‹&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;cd /usr/local\ntar -zxvf libfastcommonV1.0.7.tar.gz\ncd libfastcommon-1.0.7\n./make.sh\n./make.sh install\ncp /usr/lib64/libfastcommon.so /usr/lib\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;4åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•\&#34;&gt;4.åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;mkdir -p /home/FastDFS/tracker /home/FastDFS/storage /home/FastDFS/client\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;5-trackerç¼–è¯‘å®‰è£…\&#34;&gt;5. trackerç¼–è¯‘å®‰è£…&lt;/h2&gt;\n&lt;p&gt;å°†FastDFS_v5.05.tar.gzæ‹·è´è‡³/usr/local/ä¸‹&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;tar -zxvf FastDFS_v5.05.tar.gz\ncd FastDFS\n./make.sh\n./make.sh install\ncd conf\ncp * /etc/fdfs\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;6-ç¼–è¾‘etcfdfstrackerconf\&#34;&gt;6. ç¼–è¾‘/etc/fdfs/tracker.conf&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;vi /etc/fdfs/tracker.conf\n\tbase_path=/home/FastDFS/tracker\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;7-å¯åŠ¨tracker\&#34;&gt;7. å¯åŠ¨tracker&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;/usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf [restart](é‡å¯)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;8-é…ç½®storageèŠ‚ç‚¹\&#34;&gt;8. é…ç½®storageèŠ‚ç‚¹&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;vi /etc/fdfs/storage.conf\n    base_path=/home/FastDFS/storage\n    store_path0=/home/FastDFS/storage\n    tracker_server = 192.168.100.151:22122\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;9-å¯åŠ¨storageèŠ‚ç‚¹\&#34;&gt;9. å¯åŠ¨storageèŠ‚ç‚¹&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;/usr/bin/fdfs_storage{fdfs_storaged} /etc/fdfs/storage.conf\nfdfs_storageä¸å­˜åœ¨å°±ä½¿ç”¨fdfs_storaged\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;10-å®‰è£…nginx\&#34;&gt;10. å®‰è£…nginx&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;yum install -y gcc-c++   (å·²å®‰è£…)\nyum install -y pcre pcre-devel\nyum install -y zlib zlib-devel\nyum install -y openssl openssl-devel\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;11è§£å‹fastdfs-nginx-module_v116targz\&#34;&gt;11.è§£å‹fastdfs-nginx-module_v1.16.tar.gz&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;cd /usr/local/\ntar -zxf fastdfs-nginx-module_v1.16.tar.gz\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;12ä¿®æ”¹fastdfs-nginx-modulesrcconfigé…ç½®æ–‡ä»¶\&#34;&gt;12.ä¿®æ”¹fastdfs-nginx-module/src/configé…ç½®æ–‡ä»¶&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;vi fastdfs-nginx-module/src/config\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;æŠŠCORE_INCS=&amp;quot;$CORE_INCS /usr/local/include/fastdfs /usr/include/fastcommon/&amp;quot;&lt;/p&gt;\n&lt;p&gt;ä¿®æ”¹ä¸ºï¼šCORE_INCS=&amp;quot;$CORE_INCS /usr/include/fastdfs /usr/include/fastcommon/&amp;quot;&lt;/p&gt;\n&lt;p&gt;æŠŠCORE_LIBS=&amp;quot;$CORE_LIBS -L/usr/local/lib -lfastcommon -lfdfsclient&amp;quot;&lt;/p&gt;\n&lt;p&gt;ä¿®æ”¹ä¸ºï¼šCORE_LIBS=&amp;quot;$CORE_LIBS -L/usr/lib -lfastcommon -lfdfsclient&amp;quot;&lt;/p&gt;\n&lt;p&gt;å®é™…å°±æ˜¯æŠŠè·¯å¾„ä¸­çš„localè¿™ä¸€å±‚åˆ é™¤æ‰&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;13å¤åˆ¶fastdfs-nginx-modulesrcmod_fastdfsconf-åˆ°etcfdfsç›®å½•ä¸‹å¹¶ç¼–è¾‘\&#34;&gt;13.å¤åˆ¶fastdfs-nginx-module/src/mod_fastdfs.conf åˆ°/etc/fdfsç›®å½•ä¸‹å¹¶ç¼–è¾‘&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;cp fastdfs-nginx-module/src/mod_fastdfs.conf /etc/fdfs/\n\tvi /etc/fdfs/mod_fastdfs.conf\n        tracker_server=192.168.100.151:22122\n        url_have_group_name = true\n        storage_server_port=23000\n        group_name=group1\n        store_path0=/home/FastDFS/storage\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;14å®‰è£…nginx\&#34;&gt;14.å®‰è£…nginx&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;cd /usr/local/\ntar -zxf  nginx-1.8.1.tar.gz\ncd nginx-1.8.1\n./configure --add-module=/usr/local/fastdfs-nginx-module/src/\nmake\nmake install\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;15-é…ç½®nginx\&#34;&gt;15. é…ç½®nginx&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;cd /usr/local/nginx/conf\nvi nginx.conf\n\t\n\tserver{\n        listen     80;\n        server_name     localhost;\n        location /group1/M00/{\n            ngx_fastdfs_module;\n        }\n    }\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;é‡å¯nginx&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;/usr/local/nginx/sbin/nginx\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;æµ‹è¯•\&#34;&gt;æµ‹è¯•&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;å¼•å…¥ä¾èµ–&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ --&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;commons-fileupload&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;commons-fileupload&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;1.3.1&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&amp;lt;!--fastdfs--&amp;gt;\n&amp;lt;dependency&amp;gt;\n    &amp;lt;groupId&amp;gt;org.csource.fastdfs&amp;lt;/groupId&amp;gt;\n    &amp;lt;artifactId&amp;gt;fastdfs&amp;lt;/artifactId&amp;gt;\n    &amp;lt;version&amp;gt;1.2&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ol start=\&#34;2\&#34;&gt;\n&lt;li&gt;ç¼–å†™é…ç½®æ–‡ä»¶&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt; &amp;lt;!-- é…ç½®å¤šåª’ä½“è§£æå™¨ --&amp;gt;\n &amp;lt;bean id=&amp;quot;multipartResolver&amp;quot; class=&amp;quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&amp;quot;&amp;gt;\n \t&amp;lt;property name=&amp;quot;defaultEncoding&amp;quot; value=&amp;quot;UTF-8&amp;quot;/&amp;gt;\n \t&amp;lt;!-- è®¾å®šæ–‡ä»¶ä¸Šä¼ çš„æœ€å¤§å€¼5MBï¼Œ5*1024*1024 --&amp;gt;\n \t&amp;lt;property name=&amp;quot;maxUploadSize&amp;quot; value=&amp;quot;5242880&amp;quot;/&amp;gt;\n &amp;lt;/bean&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;UploadController&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt; /**\n  * æ–‡ä»¶æœåŠ¡å™¨åœ°å€\n  */\n @Value(&amp;quot;${FILE_SERVER_URL}&amp;quot;)\n private String FILE_SERVER_URL;\n\n @RequestMapping(&amp;quot;/upload&amp;quot;)\n public JdResult upload(MultipartFile file) {\n     //1ã€å–æ–‡ä»¶çš„æ‰©å±•å\n     String originalFilename = file.getOriginalFilename();\n     String extName = originalFilename.substring(originalFilename.lastIndexOf(&amp;quot;.&amp;quot;) + 1);\n     try {\n         //2ã€åˆ›å»ºä¸€ä¸ª FastDFS çš„å®¢æˆ·ç«¯\n         FastDFSClient dfsClient = new FastDFSClient(&amp;quot;classpath:conf/fdfs_client.conf&amp;quot;);\n         //3ã€æ‰§è¡Œä¸Šä¼ å¤„ç†\n         String path = dfsClient.uploadFile(file.getBytes(), extName);\n         //4ã€æ‹¼æ¥è¿”å›çš„ url å’Œ ip åœ°å€ï¼Œæ‹¼è£…æˆå®Œæ•´çš„ url\n         String url = FILE_SERVER_URL + path;\n         return JdResult.ok(url);\n     } catch (Exception e) {\n         e.printStackTrace();\n         return JdResult.error(&amp;quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&amp;quot;);\n     }\n }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&#34;,&#34;fileName&#34;:&#34;FastDFS&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;FastDFS&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;FastDFS&#34;,&#34;slug&#34;:&#34;AowgROl25&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/AowgROl25/&#34;}],&#34;date&#34;:&#34;2020-05-04 12:09:39&#34;,&#34;dateFormat&#34;:&#34;2020-05-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/FastDFS/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;7 min read&#34;,&#34;time&#34;:387000,&#34;words&#34;:1412,&#34;minutes&#34;:7},&#34;description&#34;:&#34;ä»€ä¹ˆæ˜¯FastDFS\n\nFastDFS æ˜¯ç”¨ c è¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚FastDFS ä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨ FastDFSå¾ˆå®¹æ˜“æ­å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%80%E4%B9%88%E6%98%AFfastdfs\&#34;&gt;ä»€ä¹ˆæ˜¯FastDFS&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%B5%81%E7%A8%8B\&#34;&gt;æ–‡ä»¶ä¸Šä¼ æµç¨‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%B5%81%E7%A8%8B\&#34;&gt;æ–‡ä»¶ä¸‹è½½æµç¨‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#0-%E5%87%86%E5%A4%87%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8A%E4%BC%A0%E5%88%B0usrlocal\&#34;&gt;0. å‡†å¤‡å®‰è£…åŒ…ä¸Šä¼ åˆ°/usr/local/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E5%AE%89%E8%A3%85cc%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83\&#34;&gt;1. å®‰è£…c/c++ç¼–è¯‘ç¯å¢ƒ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-%E5%AE%89%E8%A3%85libevent\&#34;&gt;2. å®‰è£…libevent&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E5%AE%89%E8%A3%85libfastcommon\&#34;&gt;3. å®‰è£…libfastcommon&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95\&#34;&gt;4.åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-tracker%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85\&#34;&gt;5. trackerç¼–è¯‘å®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6-%E7%BC%96%E8%BE%91etcfdfstrackerconf\&#34;&gt;6. ç¼–è¾‘/etc/fdfs/tracker.conf&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7-%E5%90%AF%E5%8A%A8tracker\&#34;&gt;7. å¯åŠ¨tracker&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#8-%E9%85%8D%E7%BD%AEstorage%E8%8A%82%E7%82%B9\&#34;&gt;8. é…ç½®storageèŠ‚ç‚¹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#9-%E5%90%AF%E5%8A%A8storage%E8%8A%82%E7%82%B9\&#34;&gt;9. å¯åŠ¨storageèŠ‚ç‚¹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#10-%E5%AE%89%E8%A3%85nginx\&#34;&gt;10. å®‰è£…nginx&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#11%E8%A7%A3%E5%8E%8Bfastdfs-nginx-module_v116targz\&#34;&gt;11.è§£å‹fastdfs-nginx-module_v1.16.tar.gz&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#12%E4%BF%AE%E6%94%B9fastdfs-nginx-modulesrcconfig%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\&#34;&gt;12.ä¿®æ”¹fastdfs-nginx-module/src/configé…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#13%E5%A4%8D%E5%88%B6fastdfs-nginx-modulesrcmod_fastdfsconf-%E5%88%B0etcfdfs%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E7%BC%96%E8%BE%91\&#34;&gt;13.å¤åˆ¶fastdfs-nginx-module/src/mod_fastdfs.conf åˆ°/etc/fdfsç›®å½•ä¸‹å¹¶ç¼–è¾‘&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#14%E5%AE%89%E8%A3%85nginx\&#34;&gt;14.å®‰è£…nginx&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#15-%E9%85%8D%E7%BD%AEnginx\&#34;&gt;15. é…ç½®nginx&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B5%8B%E8%AF%95\&#34;&gt;æµ‹è¯•&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;1-freemarkerå…¥é—¨\&#34;&gt;1ã€freemarkerå…¥é—¨&lt;/h2&gt;\n&lt;h3 id=\&#34;1ä¾èµ–æ ¸å¿ƒåŒ…\&#34;&gt;1.ä¾èµ–æ ¸å¿ƒåŒ…&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-xml\&#34;&gt;&amp;lt;!-- ä¾èµ–freemarker --&amp;gt;\n&amp;lt;dependency&amp;gt;\n\t&amp;lt;groupId&amp;gt;org.freemarker&amp;lt;/groupId&amp;gt;\n\t&amp;lt;artifactId&amp;gt;freemarker&amp;lt;/artifactId&amp;gt;\n\t&amp;lt;version&amp;gt;2.3.23&amp;lt;/version&amp;gt;\n&amp;lt;/dependency&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;2åˆ›å»ºæ¨¡æ¿æ–‡ä»¶\&#34;&gt;2.åˆ›å»ºæ¨¡æ¿æ–‡ä»¶&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html&amp;gt;\n&amp;lt;head&amp;gt;\n&amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;\n&amp;lt;title&amp;gt;è¿™ä¸ªæ˜¯æ¨¡æ¿&amp;lt;/title&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body&amp;gt;\n\t&amp;lt;#--  è¿™æ˜¯æˆ‘çš„æ³¨é‡Šï¼Œä¸ä¼šè¢«è¾“å‡º --&amp;gt;\n\thello ${name}\n&amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3ç”Ÿæˆæ–‡ä»¶\&#34;&gt;3.ç”Ÿæˆæ–‡ä»¶&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºConfigurationå¯¹è±¡ï¼ˆç›´æ¥newï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­æ·»åŠ &lt;code&gt;freemarker&lt;/code&gt;çš„ç‰ˆæœ¬å·ï¼‰&lt;br&gt;\nç¬¬äºŒæ­¥ï¼šè®¾ç½®æ¨¡æ¿æ‰€åœ¨çš„è·¯å¾„&lt;/li&gt;\n&lt;li&gt;ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¨¡æ¿æ–‡ä»¶çš„ç¼–ç å­—ç¬¦é›†ï¼ˆä¸€èˆ¬ä½¿ç”¨&lt;code&gt;utf-8&lt;/code&gt;ï¼‰&lt;/li&gt;\n&lt;li&gt;ç¬¬å››æ­¥ï¼šåŠ è½½ä¸€ä¸ªæ¨¡æ¿ï¼Œåˆ›å»ºä¸€ä¸ªæ¨¡æ¿å¯¹è±¡&lt;/li&gt;\n&lt;li&gt;ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ•°æ®æ¨¡å‹ï¼ˆä½¿ç”¨çš„æ˜¯Map&amp;lt;String,Object&amp;gt; è¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„&lt;code&gt;pojo&lt;/code&gt;å®é™…å¼€å‘ä¸­éƒ½ç”¨mapï¼‰&lt;/li&gt;\n&lt;li&gt;ç¬¬å…­æ­¥ï¼šåˆ›å»ºwriterå¯¹è±¡ï¼Œä¸€èˆ¬ç”¨&lt;code&gt;FileWriter&lt;/code&gt;å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–ï¼Œæ‰§è¡Œç”Ÿæˆçš„æ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;ç¬¬ä¸ƒæ­¥ï¼šè°ƒç”¨æ¨¡æ¿å¯¹è±¡çš„processæ–¹æ³•è¾“å‡ºæ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;ç¬¬å…«æ­¥ï¼šå…³é—­æµ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-java\&#34;&gt;public static void main(String[] args) throws Exception{\n    //1.åˆ›å»ºé…ç½®ç±»\n    Configuration configuration = new Configuration(Configuration.getVersion());\n    //2.è®¾ç½®æ¨¡æ¿æ‰€åœ¨ç›®å½•\n    configuration.setDirectoryForTemplateLoading(new File(&amp;quot;F:\\\\workspace002\\\\freemarker-demo01\\\\src\\\\main\\\\resources&amp;quot;));\n    //3.è®¾ç½®ç¼–ç é›†\n    configuration.setDefaultEncoding(&amp;quot;UTF-8&amp;quot;);\n    //4.åŠ è½½æ¨¡æ¿\n    Template template = configuration.getTemplate(&amp;quot;hello.html&amp;quot;);\n    //5.åˆ›å»ºæ•°æ®æ¨¡å‹\n    Map&amp;lt;String, Object&amp;gt; data = new HashMap&amp;lt;String, Object&amp;gt;();\n    data.put(&amp;quot;name&amp;quot;, &amp;quot;å¼ ä¸‰&amp;quot;);\n    //6.åˆ›å»ºwriterå¯¹è±¡ï¼Œå‡†å¤‡ç”¨æ¥è¾“å‡ºæ–‡ä»¶\n    Writer out = new FileWriter(new File(&amp;quot;E:\\\\freemarker\\\\hello.html&amp;quot;));\n    //7,è¾“å‡ºæ–‡ä»¶\n    template.process(data, out);\n    //8.å…³é—­æµ\n    out.close();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ftlæŒ‡ä»¤\&#34;&gt;FTLæŒ‡ä»¤&lt;/h2&gt;\n&lt;h3 id=\&#34;1assign\&#34;&gt;1.assign&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ä½œç”¨ï¼šç”¨äºåœ¨é¡µé¢ä¸Šå®šä¹‰ä¸€ä¸ªå˜é‡&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;\t&amp;lt;#-- assignï¼šç”¨æ¥åœ¨é¡µé¢ä¸Šå®šä¹‰ä¸€ä¸ªå˜é‡ --&amp;gt;\n\t&amp;lt;#assign name=&amp;quot;å¼ ä¸‰&amp;quot;&amp;gt;\n\tè·å–å˜é‡ï¼š${name}\n\t&amp;lt;hr/&amp;gt;\n\t&amp;lt;#-- assign:è¿˜å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡ --&amp;gt;\n\t&amp;lt;#assign info={&amp;quot;name&amp;quot;:&amp;quot;æå››&amp;quot;,&amp;quot;age&amp;quot;:18,&amp;quot;hobs&amp;quot;:&amp;quot;java&amp;quot;}&amp;gt;\n\tè·å–åˆ°å¯¹è±¡çš„å±æ€§:å§“å-${info.name},å¹´é¾„-${info.age},çˆ±å¥½-${info.hobs}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;2include\&#34;&gt;2.include&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ä½œç”¨ï¼šæ­¤æŒ‡ä»¤ç”¨äºæ¨¡æ¿æ–‡ä»¶ä¹‹é—´çš„ç›¸äº’åµŒå¥—&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;#include &amp;quot;head.ftl&amp;quot;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3if\&#34;&gt;3.if&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ä½œç”¨ï¼šç”¨äºæ¡ä»¶åˆ¤æ–­&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;data.put(&amp;quot;success&amp;quot;, true);\n\n&amp;lt;#if success = true&amp;gt;\n\tsuccessçš„å€¼æ˜¯true\n&amp;lt;#else&amp;gt;\n\tsuccessçš„å€¼æ˜¯false\n&amp;lt;/#if&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4list\&#34;&gt;4.list&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ä½œç”¨ï¼šåœ¨é¡µé¢ä¸­éå†é›†åˆ&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;ul&amp;gt;\n\t&amp;lt;#list mylist as user&amp;gt;\n\t\t&amp;lt;li&amp;gt;${user.name}&amp;lt;/li&amp;gt;\n\t&amp;lt;/#list&amp;gt;\n&amp;lt;/ul&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;5å†…å»ºå‡½æ•°\&#34;&gt;5.å†…å»ºå‡½æ•°&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;è¯­æ³•ï¼šå˜é‡ + ? + å‡½æ•°å&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;5-1-è·å–é›†åˆçš„å¤§å°size\&#34;&gt;5-1 è·å–é›†åˆçš„å¤§å°(size)&lt;/h4&gt;\n&lt;p&gt;&lt;code&gt;${mylist?size}&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;5-2-è½¬æ¢jsonå­—ç¬¦ä¸²ä¸ºjsonå¯¹è±¡\&#34;&gt;5-2 è½¬æ¢&lt;code&gt;json&lt;/code&gt;å­—ç¬¦ä¸²ä¸º&lt;code&gt;json&lt;/code&gt;å¯¹è±¡&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;#-- å®šä¹‰ä¸€ä¸ªjsonå­—ç¬¦ä¸²  --&amp;gt;\n&amp;lt;#assign text=&amp;quot;{&#39;name&#39;:&#39;å¼ ä¸‰&#39;,&#39;sex&#39;:&#39;ç”·&#39;}&amp;quot;&amp;gt;\n&amp;lt;#-- å°†jsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡ --&amp;gt;\n&amp;lt;#assign person=text?eval&amp;gt;\nå§“åï¼š${person.name}ï¼Œæ€§åˆ«:${person.sex}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;5-3-æ—¥æœŸ\&#34;&gt;5-3 æ—¥æœŸ&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;å¹´æœˆæ—¥ï¼š${mydate?date}\n&amp;lt;br/&amp;gt;\næ—¶åˆ†ç§’ï¼š${mydate?time}\n&amp;lt;br/&amp;gt;\nå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼š${mydate?datetime}\n&amp;lt;br/&amp;gt;\nè‡ªå®šä¹‰æ—¥æœŸï¼š${mydate?string(&#39;yyyyå¹´MMæœˆddæ—¥  hhæ—¶mmåˆ†ssç§’&#39;)}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;5-4-æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²\&#34;&gt;5-4 æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²&lt;/h4&gt;\n&lt;p&gt;&lt;code&gt;${mynum?c}&lt;/code&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;6ç©ºå€¼å¤„ç†\&#34;&gt;6.ç©ºå€¼å¤„ç†&lt;/h3&gt;\n&lt;h4 id=\&#34;6-1-å¤„ç†æ–¹æ¡ˆä¸€ç¼ºå€¼è¡¨è¾¾å¼\&#34;&gt;6-1 å¤„ç†æ–¹æ¡ˆä¸€(ç¼ºå€¼è¡¨è¾¾å¼)&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;${mytest!&amp;quot;å€¼ä¸ºnull&amp;quot;}\n&amp;lt;/br&amp;gt;\n${mytest!}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;6-2-å¤„ç†æ–¹æ¡ˆäºŒ\&#34;&gt;6-2 å¤„ç†æ–¹æ¡ˆäºŒ&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;#if mytest??&amp;gt;\n\tmytestå€¼æ˜¯å­˜åœ¨çš„:${mytest}\n&amp;lt;#else&amp;gt;\n\tmytestçš„å€¼ä¸ºnull\n&amp;lt;/#if&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;7è¿ç®—ç¬¦\&#34;&gt;7.è¿ç®—ç¬¦&lt;/h3&gt;\n&lt;h4 id=\&#34;7-1-ç®—æœ¯è¿ç®—ç¬¦\&#34;&gt;7-1 ç®—æœ¯è¿ç®—ç¬¦&lt;/h4&gt;\n&lt;p&gt;&lt;code&gt;+ - * / %&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;7-2-é€»è¾‘è¿ç®—ç¬¦\&#34;&gt;7-2 é€»è¾‘è¿ç®—ç¬¦&lt;/h4&gt;\n&lt;p&gt;&lt;code&gt;&amp;amp;&amp;amp; ã€ || ã€ !&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;7-3-æ¯”è¾ƒè¿ç®—ç¬¦\&#34;&gt;7-3 æ¯”è¾ƒè¿ç®—ç¬¦&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;= æˆ–è€… ==&lt;/li&gt;\n&lt;li&gt;!=&lt;/li&gt;\n&lt;li&gt;&amp;gt;  æˆ–è€…æ˜¯ gt&lt;/li&gt;\n&lt;li&gt;&amp;lt; æˆ–è€…æ˜¯ lt&lt;/li&gt;\n&lt;li&gt;&amp;gt;= æˆ–è€…æ˜¯ gte&lt;/li&gt;\n&lt;li&gt;&amp;lt;= æˆ–è€…æ˜¯ lte&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;freemarker&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;freemarker&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;freemarker&#34;,&#34;slug&#34;:&#34;pV4gj9NcU&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/pV4gj9NcU/&#34;}],&#34;date&#34;:&#34;2020-05-04 12:08:06&#34;,&#34;dateFormat&#34;:&#34;2020-05-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/freemarker/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:236000,&#34;words&#34;:853,&#34;minutes&#34;:4},&#34;description&#34;:&#34;1ã€freemarkerå…¥é—¨\n1.ä¾èµ–æ ¸å¿ƒåŒ…\n&amp;lt;!-- ä¾èµ–freemarker --&amp;gt;\n&amp;lt;dependency&amp;gt;\n\t&amp;lt;groupId&amp;gt;org.freemarker&amp;lt;/groupId&amp;gt;\n\t&amp;l...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-freemarker%E5%85%A5%E9%97%A8\&#34;&gt;1ã€freemarkerå…¥é—¨&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1%E4%BE%9D%E8%B5%96%E6%A0%B8%E5%BF%83%E5%8C%85\&#34;&gt;1.ä¾èµ–æ ¸å¿ƒåŒ…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6\&#34;&gt;2.åˆ›å»ºæ¨¡æ¿æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6\&#34;&gt;3.ç”Ÿæˆæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#ftl%E6%8C%87%E4%BB%A4\&#34;&gt;FTLæŒ‡ä»¤&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1assign\&#34;&gt;1.assign&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2include\&#34;&gt;2.include&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3if\&#34;&gt;3.if&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4list\&#34;&gt;4.list&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0\&#34;&gt;5.å†…å»ºå‡½æ•°&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-1-%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E5%A4%A7%E5%B0%8Fsize\&#34;&gt;5-1 è·å–é›†åˆçš„å¤§å°(size)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-2-%E8%BD%AC%E6%8D%A2json%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BAjson%E5%AF%B9%E8%B1%A1\&#34;&gt;5-2 è½¬æ¢&lt;code&gt;json&lt;/code&gt;å­—ç¬¦ä¸²ä¸º&lt;code&gt;json&lt;/code&gt;å¯¹è±¡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-3-%E6%97%A5%E6%9C%9F\&#34;&gt;5-3 æ—¥æœŸ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5-4-%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2\&#34;&gt;5-4 æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6%E7%A9%BA%E5%80%BC%E5%A4%84%E7%90%86\&#34;&gt;6.ç©ºå€¼å¤„ç†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#6-1-%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88%E4%B8%80%E7%BC%BA%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F\&#34;&gt;6-1 å¤„ç†æ–¹æ¡ˆä¸€(ç¼ºå€¼è¡¨è¾¾å¼)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6-2-%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88%E4%BA%8C\&#34;&gt;6-2 å¤„ç†æ–¹æ¡ˆäºŒ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7%E8%BF%90%E7%AE%97%E7%AC%A6\&#34;&gt;7.è¿ç®—ç¬¦&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#7-1-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6\&#34;&gt;7-1 ç®—æœ¯è¿ç®—ç¬¦&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7-2-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6\&#34;&gt;7-2 é€»è¾‘è¿ç®—ç¬¦&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7-3-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6\&#34;&gt;7-3 æ¯”è¾ƒè¿ç®—ç¬¦&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;å…³äºæœ¬ç«™\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;\n&lt;p&gt;ç£•ç£•ç¢°ç¢°çš„å°ç ´ç«™,å‰ä¸ä¹…åŸŸåçš„å¤‡æ¡ˆè¢«æ³¨é”€...åæ¢åˆ°Gridea,æ‰˜ç®¡åœ¨GitHub&lt;/p&gt;\n&lt;h2 id=\&#34;åšä¸»æ˜¯è°\&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/h2&gt;\n&lt;p&gt;ä¸€ä½æ­£åœ¨åŠªåŠ›æˆé•¿çš„ç å†œ...&lt;/p&gt;\n&lt;h2 id=\&#34;å…´è¶£çˆ±å¥½\&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/h2&gt;\n&lt;p&gt;åƒ,ç¡,coding&lt;/p&gt;\n&lt;h2 id=\&#34;è”ç³»æˆ‘å‘€\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;\n&lt;p&gt;QQ : 2369710264&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å…³äº&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2019-01-25 19:09:48&#34;,&#34;dateFormat&#34;:&#34;2019-01-25&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/about/&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:15000,&#34;words&#34;:74,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\næ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤\n\nğŸ  å…³äºæœ¬ç«™\nç£•ç£•ç¢°ç¢°çš„å°ç ´ç«™,å‰ä¸ä¹…åŸŸåçš„å¤‡æ¡ˆè¢«æ³¨é”€...åæ¢åˆ°Gridea,æ‰˜ç®¡åœ¨GitHub\nğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°\nä¸€ä½æ­£åœ¨åŠªåŠ›æˆé•¿çš„ç å†œ...\nâ›¹ å…´è¶£çˆ±å¥½\nåƒ,ç¡,coding\nğŸ“¬ ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%9A%E4%B8%BB%E6%98%AF%E8%B0%81\&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD\&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼ï¼ï¼&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;p&gt;åŸºäºGitHub Pages + Gridea&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;hello&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼ï¼ï¼&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Hello&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Gridea&#34;,&#34;slug&#34;:&#34;xi3C-nNGB&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://haohanya.github.io/tag/xi3C-nNGB/&#34;}],&#34;date&#34;:&#34;2018-12-12 00:00:00&#34;,&#34;dateFormat&#34;:&#34;2018-12-12&#34;,&#34;feature&#34;:&#34;https://haohanya.github.io/post-images/hello.png&#34;,&#34;link&#34;:&#34;https://haohanya.github.io/post/hello/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:true,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:3000,&#34;words&#34;:13,&#34;minutes&#34;:1},&#34;description&#34;:&#34;åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼ï¼ï¼\n\nåŸºäºGitHub Pages + Gridea\n&#34;,&#34;toc&#34;:&#34;&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->


<script src=" /media/js/cool.js"></script>

</html>